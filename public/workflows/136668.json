{"last_node_id":2788,"last_link_id":6302,"nodes":[{"id":556,"type":"VAELoader","pos":[-3891.471388879351,565.951073424244],"size":{"0":370,"1":60},"flags":{"pinned":true},"order":0,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[5440],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["vae-ft-mse-840000-ema-pruned.ckpt"]},{"id":555,"type":"CheckpointLoaderSimple","pos":[-3891.471388879351,475.95107342424444],"size":{"0":320,"1":100},"flags":{"pinned":true},"order":1,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[3218],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[2915],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":[],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["theSRWondermix_v2.safetensors"]},{"id":561,"type":"CLIPSetLastLayer","pos":[-3891.471388879351,475.95107342424444],"size":{"0":210,"1":70},"flags":{"pinned":true},"order":95,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":2915}],"outputs":[{"name":"CLIP","type":"CLIP","links":[2914],"shape":3,"slot_index":0}],"title":"Model 1","properties":{"Node name for S&R":"CLIPSetLastLayer"},"widgets_values":[-2]},{"id":335,"type":"VAELoader","pos":[-3891.471388879351,745.9510734242446],"size":{"0":371.1277770996094,"1":58},"flags":{"pinned":true},"order":2,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[5446],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["vae-ft-mse-840000-ema-pruned.ckpt"]},{"id":332,"type":"CheckpointLoaderSimple","pos":[-3891.471388879351,655.951073424244],"size":{"0":350,"1":100},"flags":{"pinned":true},"order":3,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[3113],"slot_index":0},{"name":"CLIP","type":"CLIP","links":[732],"slot_index":1},{"name":"VAE","type":"VAE","links":[],"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["cuteheaven_v20.safetensors"]},{"id":752,"type":"Reroute","pos":[-2060,870],"size":[75,26],"flags":{"pinned":true},"order":134,"mode":0,"inputs":[{"name":"","type":"*","link":1310}],"outputs":[{"name":"","type":"LATENT","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":754,"type":"Reroute","pos":[-2060,900],"size":[75,26],"flags":{"pinned":true},"order":135,"mode":0,"inputs":[{"name":"","type":"*","link":1312,"slot_index":0}],"outputs":[{"name":"","type":"LATENT","links":null}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":755,"type":"Reroute","pos":[-2060,810],"size":[75,26],"flags":{"pinned":true},"order":132,"mode":0,"inputs":[{"name":"","type":"*","link":1313}],"outputs":[{"name":"","type":"LATENT","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":756,"type":"Reroute","pos":[-2060,780],"size":[75,26],"flags":{"pinned":true},"order":131,"mode":0,"inputs":[{"name":"","type":"*","link":1314}],"outputs":[{"name":"","type":"LATENT","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":757,"type":"Reroute","pos":[-2060,930],"size":[75,26],"flags":{"pinned":true},"order":136,"mode":0,"inputs":[{"name":"","type":"*","link":1315,"slot_index":0}],"outputs":[{"name":"","type":"LATENT","links":null}],"title":"Go","properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":751,"type":"Reroute","pos":[-2060,750],"size":[75,26],"flags":{"pinned":true},"order":130,"mode":0,"inputs":[{"name":"","type":"*","link":1309}],"outputs":[{"name":"","type":"LATENT","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":748,"type":"EmptyLatentImage","pos":[-2120,840],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":106,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1326,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1313],"shape":3,"slot_index":0}],"title":"824x464","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[824,464,4],"color":"#232","bgcolor":"#353","shape":1},{"id":749,"type":"EmptyLatentImage","pos":[-2130,900],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":108,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1328,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1310],"shape":3,"slot_index":0}],"title":"1280x720","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[1280,720,4],"color":"#232","bgcolor":"#353","shape":1},{"id":747,"type":"EmptyLatentImage","pos":[-2130,930],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":109,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1329,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1312],"shape":3,"slot_index":0}],"title":"1344x760","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[1344,760,4],"color":"#232","bgcolor":"#353","shape":1},{"id":750,"type":"EmptyLatentImage","pos":[-2130,960],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":110,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1330,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1315],"shape":3,"slot_index":0}],"title":"1400x792","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[1400,792,4],"color":"#232","bgcolor":"#353","shape":1},{"id":770,"type":"Reroute","pos":[-1530,790],"size":[75,26],"flags":{"pinned":true},"order":139,"mode":0,"inputs":[{"name":"","type":"*","link":1321}],"outputs":[{"name":"","type":"LATENT","links":[6277],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":769,"type":"Reroute","pos":[-1530,820],"size":[75,26],"flags":{"pinned":true},"order":137,"mode":0,"inputs":[{"name":"","type":"*","link":1569}],"outputs":[{"name":"","type":"LATENT","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":767,"type":"Reroute","pos":[-1530,850],"size":[75,26],"flags":{"pinned":true},"order":140,"mode":0,"inputs":[{"name":"","type":"*","link":1318}],"outputs":[{"name":"","type":"LATENT","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":766,"type":"Reroute","pos":[-1530,880],"size":[75,26],"flags":{"pinned":true},"order":141,"mode":0,"inputs":[{"name":"","type":"*","link":1317}],"outputs":[{"name":"","type":"LATENT","links":null}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":768,"type":"Reroute","pos":[-1530,910],"size":[75,26],"flags":{"pinned":true},"order":142,"mode":0,"inputs":[{"name":"","type":"*","link":1319,"slot_index":0}],"outputs":[{"name":"","type":"LATENT","links":null}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":771,"type":"Reroute","pos":[-1530,940],"size":[75,26],"flags":{"pinned":true},"order":143,"mode":0,"inputs":[{"name":"","type":"*","link":1322,"slot_index":0}],"outputs":[{"name":"","type":"LATENT","links":[],"slot_index":0}],"title":"Go","properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":760,"type":"EmptyLatentImage","pos":[-1600,850],"size":{"0":210,"1":82},"flags":{"collapsed":true,"pinned":true},"order":111,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1571,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1569],"shape":3,"slot_index":0}],"title":"600x800","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[600,800,4],"color":"#232","bgcolor":"#353","shape":1},{"id":758,"type":"EmptyLatentImage","pos":[-1600,880],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":114,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1574,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1318],"shape":3,"slot_index":0}],"title":"768x1024","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[768,1024,4],"color":"#232","bgcolor":"#353","shape":1},{"id":763,"type":"EmptyLatentImage","pos":[-1600,910],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":115,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1575,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1317],"shape":3,"slot_index":0}],"title":"864x1152","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[864,1152,4],"color":"#232","bgcolor":"#353","shape":1},{"id":761,"type":"EmptyLatentImage","pos":[-1600,940],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":116,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1576,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1319],"shape":3,"slot_index":0}],"title":"960x1280","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[960,1280,4],"color":"#232","bgcolor":"#353","shape":1},{"id":764,"type":"EmptyLatentImage","pos":[-1600,970],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":117,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1577,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1322],"shape":3,"slot_index":0}],"title":"1080x1440","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[1080,1440,4],"color":"#232","bgcolor":"#353","shape":1},{"id":818,"type":"Reroute","pos":[-1137.6071832609393,-428.55320487990207],"size":[75,26],"flags":{"pinned":true},"order":255,"mode":0,"inputs":[{"name":"","type":"*","link":1451}],"outputs":[{"name":"","type":"IMAGE","links":[3469,3470],"slot_index":0,"label":"Image"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":890,"type":"LoraLoader","pos":[-3052.123480816141,649.0941093067955],"size":{"0":210,"1":130},"flags":{"pinned":true},"order":156,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":3139},{"name":"clip","type":"CLIP","link":3140}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1772],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[5447],"shape":3,"slot_index":1}],"title":"Load LCM Lora","properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["lcm\\SD1.5\\pytorch_lora_weights.safetensors",0.6,1]},{"id":753,"type":"Reroute","pos":[-2060,840],"size":[75,26],"flags":{"pinned":true},"order":133,"mode":0,"inputs":[{"name":"","type":"*","link":1311}],"outputs":[{"name":"","type":"LATENT","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":744,"type":"EmptyLatentImage","pos":[-2130,870],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":107,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1327,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1311],"shape":3,"slot_index":0}],"title":"1024x576","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[1024,576,4],"color":"#232","bgcolor":"#353","shape":1},{"id":1242,"type":"FreeU","pos":[-2772.1234808161416,829.0941093067951],"size":{"0":210,"1":130},"flags":{"collapsed":true},"order":163,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":2712}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2715],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"FreeU"},"widgets_values":[1.1,1.2,0.9,0.2],"color":"#232","bgcolor":"#353"},{"id":1243,"type":"FreeU","pos":[-2772.1234808161416,429.0941093067943],"size":{"0":210,"1":130},"flags":{"collapsed":true},"order":162,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":2713}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2714],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"FreeU"},"widgets_values":[1.1,1.2,0.9,0.2],"color":"#232","bgcolor":"#353"},{"id":1450,"type":"PrepImageForClipVision","pos":[813.3450354130235,1122.6299424634426],"size":{"0":210,"1":110},"flags":{"collapsed":false,"pinned":true},"order":127,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6278}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3394],"shape":3,"slot_index":0}],"title":"Prepare Image","properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","pad",0.1],"color":"#323","bgcolor":"#535"},{"id":423,"type":"CLIPSetLastLayer","pos":[-3888.991072318266,661.0254176697],"size":{"0":210,"1":60},"flags":{"pinned":true},"order":96,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":732}],"outputs":[{"name":"CLIP","type":"CLIP","links":[2913],"shape":3,"slot_index":0}],"title":"Model 2","properties":{"Node name for S&R":"CLIPSetLastLayer"},"widgets_values":[-2]},{"id":923,"type":"PatchModelAddDownscale","pos":[-3147.4721460681426,817.2381535201406],"size":{"0":352.79998779296875,"1":202},"flags":{"collapsed":true},"order":160,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":1772}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2712],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"PatchModelAddDownscale"},"widgets_values":[3,2,0,0.35,true,"bicubic","bicubic"],"color":"#232","bgcolor":"#353"},{"id":1245,"type":"FreeU_V2","pos":[-2787.472146068142,777.2381535201406],"size":{"0":210,"1":130},"flags":{"collapsed":true},"order":166,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":2715}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2716],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"FreeU_V2"},"widgets_values":[1.3,1.4,0.9,0.2],"color":"#232","bgcolor":"#353"},{"id":1481,"type":"ADE_AnimateDiffUniformContextOptions","pos":[-3240.0664001344153,954.8011438941584],"size":{"0":252,"1":154},"flags":{"pinned":true},"order":4,"mode":4,"outputs":[{"name":"CONTEXT_OPTIONS","type":"CONTEXT_OPTIONS","links":[3230,3231],"shape":3,"slot_index":0}],"title":"Context Options","properties":{"Node name for S&R":"ADE_AnimateDiffUniformContextOptions"},"widgets_values":[16,3,4,"uniform",false]},{"id":1558,"type":"PrimitiveNode","pos":[-3660.066400134417,954.8011438941584],"size":{"0":210,"1":110},"flags":{"pinned":true},"order":5,"mode":4,"outputs":[{"name":"COMBO","type":"COMBO","links":[3477,3478],"widget":{"name":"model_name"},"slot_index":0}],"title":"Motion Model","properties":{"Run widget replace on values":false},"widgets_values":["v3_sd15_mm.ckpt","fixed",""]},{"id":1559,"type":"PrimitiveNode","pos":[-3660.066400134417,1094.8011438941603],"size":{"0":210,"1":60},"flags":{"pinned":true},"order":6,"mode":4,"outputs":[{"name":"BOOLEAN","type":"BOOLEAN","links":[3479],"widget":{"name":"apply_v2_models_properly"}}],"title":"V2 Model","properties":{"Run widget replace on values":false},"widgets_values":[true]},{"id":1561,"type":"PrimitiveNode","pos":[-3660.066400134417,1184.8011438941603],"size":{"0":210,"1":80},"flags":{"pinned":true},"order":7,"mode":4,"outputs":[{"name":"INT","type":"INT","links":[3482],"widget":{"name":"motion_pe_stretch"}}],"title":"PE Scale","properties":{"Run widget replace on values":false},"widgets_values":[0,"fixed"]},{"id":1560,"type":"ADE_AnimateDiffLoRALoader","pos":[-3240.0664001344153,1134.8011438941603],"size":{"0":252,"1":82},"flags":{"pinned":true},"order":8,"mode":4,"inputs":[{"name":"prev_motion_lora","type":"MOTION_LORA","link":null}],"outputs":[{"name":"MOTION_LORA","type":"MOTION_LORA","links":[3480,3481],"shape":3}],"title":"AnimateDiff LoRA Loader","properties":{"Node name for S&R":"ADE_AnimateDiffLoRALoader"},"widgets_values":["v2_lora_ZoomOut.ckpt",0.7000000000000001]},{"id":1482,"type":"ADE_AnimateDiffLoaderWithContext","pos":[-3209.1039548219155,1252.703071628534],"size":{"0":253.60000610351562,"1":190},"flags":{"collapsed":true,"pinned":true},"order":123,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":3218},{"name":"context_options","type":"CONTEXT_OPTIONS","link":3230},{"name":"motion_lora","type":"MOTION_LORA","link":3481,"slot_index":2},{"name":"motion_model_settings","type":"MOTION_MODEL_SETTINGS","link":3217,"slot_index":3},{"name":"motion_scale","type":"FLOAT","link":3476,"widget":{"name":"motion_scale"}},{"name":"model_name","type":"COMBO","link":3478,"widget":{"name":"model_name"}},{"name":"apply_v2_models_properly","type":"BOOLEAN","link":3479,"widget":{"name":"apply_v2_models_properly"},"slot_index":6},{"name":"beta_schedule","type":"COMBO","link":3484,"widget":{"name":"beta_schedule"},"slot_index":7}],"outputs":[{"name":"MODEL","type":"MODEL","links":[3219],"shape":3,"slot_index":0}],"title":"Loader","properties":{"Node name for S&R":"ADE_AnimateDiffLoaderWithContext"},"widgets_values":["v3_sd15_mm.ckpt","sqrt_linear (AnimateDiff)",1,true]},{"id":1442,"type":"ADE_AnimateDiffLoaderWithContext","pos":[-3209.1039548219155,1292.703071628534],"size":{"0":253.60000610351562,"1":190},"flags":{"collapsed":true,"pinned":true},"order":124,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":3113},{"name":"context_options","type":"CONTEXT_OPTIONS","link":3231},{"name":"motion_lora","type":"MOTION_LORA","link":3480,"slot_index":2},{"name":"motion_model_settings","type":"MOTION_MODEL_SETTINGS","link":3229,"slot_index":3},{"name":"motion_scale","type":"FLOAT","link":3473,"widget":{"name":"motion_scale"},"slot_index":4},{"name":"model_name","type":"COMBO","link":3477,"widget":{"name":"model_name"},"slot_index":5},{"name":"apply_v2_models_properly","type":"BOOLEAN","link":null,"widget":{"name":"apply_v2_models_properly"}},{"name":"beta_schedule","type":"COMBO","link":3483,"widget":{"name":"beta_schedule"},"slot_index":7}],"outputs":[{"name":"MODEL","type":"MODEL","links":[3114],"shape":3,"slot_index":0}],"title":"Loader","properties":{"Node name for S&R":"ADE_AnimateDiffLoaderWithContext"},"widgets_values":["v3_sd15_mm.ckpt","sqrt_linear (AnimateDiff)",1,true]},{"id":1557,"type":"PrimitiveNode","pos":[-3449.1039548219164,1092.703071628534],"size":{"0":210,"1":80},"flags":{"pinned":true},"order":9,"mode":4,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3473,3474,3475,3476],"widget":{"name":"motion_scale"},"slot_index":0}],"title":"Motion Scale","properties":{"Run widget replace on values":false},"widgets_values":[1,"fixed"]},{"id":1562,"type":"PrimitiveNode","pos":[-3449.1039548219164,1192.703071628534],"size":{"0":210,"1":110},"flags":{"pinned":true},"order":10,"mode":4,"outputs":[{"name":"COMBO","type":"COMBO","links":[3483,3484],"widget":{"name":"beta_schedule"}}],"title":"Beta Schedule","properties":{"Run widget replace on values":false},"widgets_values":["sqrt_linear (AnimateDiff)","fixed",""]},{"id":442,"type":"Image Size to Number","pos":[719.2444847996559,-210.17470424304963],"size":{"0":229.20001220703125,"1":126},"flags":{"collapsed":true},"order":298,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3043}],"outputs":[{"name":"width_num","type":"NUMBER","links":[774],"shape":3,"slot_index":0},{"name":"height_num","type":"NUMBER","links":[771],"shape":3,"slot_index":1},{"name":"width_float","type":"FLOAT","links":null,"shape":3},{"name":"height_float","type":"FLOAT","links":null,"shape":3},{"name":"width_int","type":"INT","links":null,"shape":3},{"name":"height_int","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"Image Size to Number"}},{"id":816,"type":"Reroute","pos":[679.2444847996563,-320.17470424305014],"size":[75,26],"flags":{},"order":295,"mode":0,"inputs":[{"name":"","type":"*","link":3431}],"outputs":[{"name":"","type":"IMAGE","links":[1579,3613],"slot_index":0,"label":"Image"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":1406,"type":"ImageSelector","pos":[719.2444847996559,-250.17470424305],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":297,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3613}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3043],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageSelector"},"widgets_values":["1"]},{"id":1244,"type":"FreeU_V2","pos":[-2772.7577077367573,475.4695924091808],"size":{"0":210,"1":130},"flags":{"collapsed":true},"order":165,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":2714}],"outputs":[{"name":"MODEL","type":"MODEL","links":[5965],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"FreeU_V2"},"widgets_values":[1.3,1.4,0.9,0.2],"color":"#232","bgcolor":"#353"},{"id":1932,"type":"PrimitiveNode","pos":[1590,1400],"size":{"0":210,"1":80},"flags":{"collapsed":false,"pinned":true},"order":11,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4233],"slot_index":0,"widget":{"name":"strength"}}],"title":"TemporalNetStrength","properties":{"Run widget replace on values":false},"widgets_values":[1,"fixed"],"color":"#432","bgcolor":"#653"},{"id":1933,"type":"PrimitiveNode","pos":[1800,1400],"size":{"0":210,"1":80},"flags":{"pinned":true},"order":12,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4234],"slot_index":0,"widget":{"name":"start_percent"}}],"title":"Start At % Steps","properties":{"Run widget replace on values":false},"widgets_values":[0,"fixed"],"color":"#432","bgcolor":"#653"},{"id":1934,"type":"PrimitiveNode","pos":[2010,1400],"size":{"0":210,"1":80},"flags":{"pinned":true},"order":13,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4235],"slot_index":0,"widget":{"name":"end_percent"}}],"title":"End At % Steps","properties":{"Run widget replace on values":false},"widgets_values":[1,"fixed"],"color":"#432","bgcolor":"#653"},{"id":1935,"type":"PrimitiveNode","pos":[1590,1290],"size":{"0":210,"1":80},"flags":{"collapsed":false,"pinned":true},"order":14,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4232,4250],"slot_index":0,"widget":{"name":"strength"}}],"title":"Pix2Pix Strength","properties":{"Run widget replace on values":false},"widgets_values":[0.4,"fixed"],"color":"#432","bgcolor":"#653"},{"id":1485,"type":"PrimitiveNode","pos":[1800,1290],"size":{"0":210,"1":80},"flags":{"pinned":true},"order":15,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3224,4227,4248],"widget":{"name":"start_percent"},"slot_index":0}],"title":"Start At % Steps","properties":{"Run widget replace on values":false},"widgets_values":[0,"fixed"],"color":"#432","bgcolor":"#653"},{"id":1486,"type":"PrimitiveNode","pos":[2010,1290],"size":{"0":210,"1":80},"flags":{"pinned":true},"order":16,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3225,3937,4249],"widget":{"name":"end_percent"}}],"title":"End At % Steps","properties":{"Run widget replace on values":false},"widgets_values":[1,"fixed"],"color":"#432","bgcolor":"#653"},{"id":1938,"type":"PrimitiveNode","pos":[1800,1180],"size":{"0":210,"1":80},"flags":{"pinned":true},"order":17,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4229,4258],"widget":{"name":"start_percent"},"slot_index":0}],"title":"Start At % Steps","properties":{"Run widget replace on values":false},"widgets_values":[0,"fixed"],"color":"#432","bgcolor":"#653"},{"id":1940,"type":"PrimitiveNode","pos":[2010,1180],"size":{"0":210,"1":80},"flags":{"pinned":true},"order":18,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4230,4259],"widget":{"name":"end_percent"},"slot_index":0}],"title":"End At % Steps","properties":{"Run widget replace on values":false},"widgets_values":[1,"fixed"],"color":"#432","bgcolor":"#653"},{"id":1484,"type":"PrimitiveNode","pos":[1590,1180],"size":{"0":210,"1":80},"flags":{"collapsed":false,"pinned":true},"order":19,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3220,4231,4257],"widget":{"name":"strength"},"slot_index":0}],"title":"Tile Strength","properties":{"Run widget replace on values":false},"widgets_values":[1,"fixed"],"color":"#432","bgcolor":"#653"},{"id":2001,"type":"OneFormer-COCO-SemSegPreprocessor","pos":[386.00771802355297,-719.538267680475],"size":{"0":210,"1":60},"flags":{},"order":313,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":4640,"slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4438],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"OneFormer-COCO-SemSegPreprocessor"},"widgets_values":[512]},{"id":2002,"type":"ImageScale","pos":[606.0077180235542,-719.538267680475],"size":{"0":210,"1":122},"flags":{"collapsed":true},"order":318,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":4438},{"name":"width","type":"INT","link":4439,"widget":{"name":"width"}},{"name":"height","type":"INT","link":4440,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4441],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"disabled"]},{"id":2004,"type":"Image To Mask","pos":[606.0077180235542,-679.538267680475],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":327,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":4442}],"outputs":[{"name":"MASK","type":"MASK","links":[4443],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Image To Mask"},"widgets_values":["intensity"]},{"id":2005,"type":"ToBinaryMask","pos":[616.007718023554,-639.538267680475],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":332,"mode":2,"inputs":[{"name":"mask","type":"MASK","link":4443}],"outputs":[{"name":"MASK","type":"MASK","links":[4536],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ToBinaryMask"},"widgets_values":[1]},{"id":2048,"type":"GrowMask","pos":[626.0077180235539,-599.5382676804747],"size":{"0":315,"1":82},"flags":{"collapsed":true},"order":336,"mode":2,"inputs":[{"name":"mask","type":"MASK","link":4536}],"outputs":[{"name":"MASK","type":"MASK","links":[4537],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"GrowMask"},"widgets_values":[2,true]},{"id":2006,"type":"MaskToImage","pos":[606.0077180235542,-559.5382676804747],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":341,"mode":2,"inputs":[{"name":"mask","type":"MASK","link":4537}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4446],"shape":3,"slot_index":0}],"title":"Mask to Image","properties":{"Node name for S&R":"MaskToImage"}},{"id":2003,"type":"Image Select Color","pos":[386.00771802355297,-619.538267680475],"size":{"0":210,"1":130},"flags":{},"order":322,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":4441}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4442],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Image Select Color"},"widgets_values":[220,20,60,10]},{"id":2031,"type":"PrimitiveNode","pos":[1396.4614810419532,-1012.5558596768229],"size":{"0":210,"1":110},"flags":{},"order":20,"mode":0,"outputs":[{"name":"COMBO","type":"COMBO","links":[4493,4494],"widget":{"name":"target"},"slot_index":0}],"title":"Determine By","properties":{"Run widget replace on values":false},"widgets_values":["width","fixed",""],"color":"#232","bgcolor":"#353"},{"id":1532,"type":"Image To Mask","pos":[891.7559027159492,1042.305740660889],"size":{"0":210,"1":60},"flags":{"collapsed":true,"pinned":false},"order":383,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3487}],"outputs":[{"name":"MASK","type":"MASK","links":[3488],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Image To Mask"},"widgets_values":["intensity"]},{"id":1563,"type":"Reroute","pos":[941.7559027159497,1052.305740660889],"size":[75,26],"flags":{},"order":390,"mode":0,"inputs":[{"name":"","type":"*","link":3488}],"outputs":[{"name":"","type":"MASK","links":null,"label":"Mask","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2066,"type":"Reroute","pos":[2551.0728141801246,-709.4137173564679],"size":[75,26],"flags":{},"order":364,"mode":0,"inputs":[{"name":"","type":"*","link":4580}],"outputs":[{"name":"","type":"IMAGE","links":[4573],"label":"Masks","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2089,"type":"Get Image Size","pos":[2149.677379002078,-1171.4880573906587],"size":{"0":140,"1":50},"flags":{"collapsed":true},"order":329,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":4633}],"outputs":[{"name":"INT","type":"INT","links":[4634],"shape":3,"slot_index":0},{"name":"INT","type":"INT","links":[4635],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"Get Image Size"}},{"id":2088,"type":"Change Channel Count","pos":[2379.677379002078,-1121.488057390659],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":337,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":4631}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4636],"shape":3,"slot_index":0}],"title":"RBGA","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGBA"]},{"id":2057,"type":"Reroute","pos":[2449.677379002078,-1231.4880573906578],"size":[75,26],"flags":{},"order":346,"mode":4,"inputs":[{"name":"","type":"*","link":4637}],"outputs":[{"name":"","type":"IMAGE","links":[4555],"slot_index":0,"label":"Boxes"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2058,"type":"Reroute","pos":[2203.433549891059,-751.3129803525618],"size":[75,26],"flags":{},"order":349,"mode":0,"inputs":[{"name":"","type":"*","link":4555,"pos":[37.5,0]}],"outputs":[{"name":"","type":"IMAGE","links":[4556],"slot_index":0,"label":"Box/s"}],"properties":{"showOutputText":false,"horizontal":true},"color":"#232","bgcolor":"#353"},{"id":2000,"type":"Get Image Size","pos":[412.3635984272407,-445.1829294336291],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":314,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":4642}],"outputs":[{"name":"INT","type":"INT","links":[4439],"shape":3,"slot_index":0},{"name":"INT","type":"INT","links":[4440],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"Get Image Size"}},{"id":1330,"type":"Reroute","pos":[1090,120],"size":[75,26],"flags":{"pinned":false},"order":292,"mode":0,"inputs":[{"name":"","type":"*","link":5341}],"outputs":[{"name":"","type":"IMAGE","links":[2877,3431],"slot_index":0,"label":"Images"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2059,"type":"Reroute","pos":[2293.433549891059,-751.3129803525618],"size":[75,26],"flags":{},"order":338,"mode":0,"inputs":[{"name":"","type":"*","link":4557,"pos":[37.5,0]}],"outputs":[{"name":"","type":"MASK_MAPPING","links":[4558,4559,6238],"label":"Map","slot_index":0}],"properties":{"showOutputText":false,"horizontal":true},"color":"#232","bgcolor":"#353"},{"id":1985,"type":"UltralyticsDetectorProvider","pos":[1396.4614810419532,-1132.5558596768224],"size":{"0":430,"1":80},"flags":{},"order":21,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[4414,4448],"shape":3,"slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[4450],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["segm/person_yolov8s-seg.pt"],"color":"#232","bgcolor":"#353"},{"id":2196,"type":"Get Image Size","pos":[4184.969498755799,-690.7130534558075],"size":{"0":140,"1":50},"flags":{"collapsed":true},"order":435,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4937}],"outputs":[{"name":"INT","type":"INT","links":[4829],"shape":3,"slot_index":0},{"name":"INT","type":"INT","links":[4830],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"Get Image Size"}},{"id":2206,"type":"Change Channel Count","pos":[4114.969498755797,-650.7130534558075],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":436,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4938}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4853],"shape":3,"slot_index":0}],"title":"RGBA","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGBA"]},{"id":2191,"type":"Separate Mask Components","pos":[4224.969498755799,-650.7130534558075],"size":{"0":201.60000610351562,"1":50},"flags":{"collapsed":true},"order":443,"mode":0,"inputs":[{"name":"mask","type":"IMAGE","link":4822}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4826],"shape":3,"slot_index":0},{"name":"MASK_MAPPING","type":"MASK_MAPPING","links":[4832],"shape":3,"slot_index":1}],"title":"Separate Mask","properties":{"Node name for S&R":"Separate Mask Components"}},{"id":2195,"type":"Change Channel Count","pos":[4374.9694987558005,-650.7130534558075],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":445,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4826}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4828],"shape":3,"slot_index":0}],"title":"RBGA","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGBA"]},{"id":2194,"type":"ImageScaleBy","pos":[4113.969742896423,-613.133014393307],"size":{"0":210,"1":82},"flags":{"collapsed":false},"order":440,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4853}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4822],"shape":3,"slot_index":0}],"title":"Downscale Masks","properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["area",0.5]},{"id":922,"type":"PatchModelAddDownscale","pos":[-3142.7577077367573,425.4695924091808],"size":{"0":352.79998779296875,"1":202},"flags":{"collapsed":true},"order":159,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":1770}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2713],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"PatchModelAddDownscale"},"widgets_values":[3,2,0,0.35,true,"bicubic","bicubic"],"color":"#232","bgcolor":"#353"},{"id":2249,"type":"Reroute","pos":[4053.969742896424,-723.133014393307],"size":[75,26],"flags":{},"order":432,"mode":0,"inputs":[{"name":"","type":"*","link":4936}],"outputs":[{"name":"","type":"IMAGE","links":[4937,4938],"label":"Box","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2193,"type":"Reroute","pos":[4444.969498755803,-720.7130534558075],"size":[75,26],"flags":{},"order":448,"mode":0,"inputs":[{"name":"","type":"*","link":4824}],"outputs":[{"name":"","type":"IMAGE","links":[4940],"slot_index":0,"label":"Boxes"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2250,"type":"Reroute","pos":[3951.8973378967316,-361.69259093537096],"size":[75,26],"flags":{},"order":449,"mode":0,"inputs":[{"name":"","type":"*","link":4940}],"outputs":[{"name":"","type":"IMAGE","links":[4941],"label":"Box","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":1535,"type":"IPAdapterEncoder","pos":[-369.50200150757024,1235.0340752291793],"size":{"0":210,"1":260},"flags":{"pinned":false},"order":151,"mode":0,"inputs":[{"name":"clip_vision","type":"CLIP_VISION","link":4659},{"name":"image_1","type":"IMAGE","link":3409},{"name":"image_2","type":"IMAGE","link":null},{"name":"image_3","type":"IMAGE","link":null},{"name":"image_4","type":"IMAGE","link":null},{"name":"ipadapter_plus","type":"BOOLEAN","link":4958,"widget":{"name":"ipadapter_plus"}}],"outputs":[{"name":"EMBEDS","type":"EMBEDS","links":[3426],"shape":3,"slot_index":0}],"title":"Encode Image","properties":{"Node name for S&R":"IPAdapterEncoder"},"widgets_values":[true,0,1,1,1,1],"color":"#323","bgcolor":"#535"},{"id":1527,"type":"IPAdapterEncoder","pos":[815.8510917222624,1273.7968786339527],"size":{"0":210,"1":260},"flags":{"pinned":false},"order":152,"mode":0,"inputs":[{"name":"clip_vision","type":"CLIP_VISION","link":4661},{"name":"image_1","type":"IMAGE","link":3394},{"name":"image_2","type":"IMAGE","link":null},{"name":"image_3","type":"IMAGE","link":null},{"name":"image_4","type":"IMAGE","link":null},{"name":"ipadapter_plus","type":"BOOLEAN","link":4956,"widget":{"name":"ipadapter_plus"},"slot_index":5}],"outputs":[{"name":"EMBEDS","type":"EMBEDS","links":[3396,3413],"shape":3,"slot_index":0}],"title":"Encode Image","properties":{"Node name for S&R":"IPAdapterEncoder"},"widgets_values":[true,0,1,1,1,1],"color":"#323","bgcolor":"#535"},{"id":2163,"type":"Reroute","pos":[3032.4143415218628,-796.7896086300703],"size":[75,26],"flags":{},"order":418,"mode":0,"inputs":[{"name":"","type":"*","link":6273}],"outputs":[{"name":"","type":"IMAGE","links":[4760,4840],"label":"Images","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2071,"type":"Reroute","pos":[-265.8779151066091,1004.4863757083277],"size":[75,26],"flags":{},"order":274,"mode":0,"inputs":[{"name":"","type":"*","link":6224}],"outputs":[{"name":"","type":"IMAGE","links":[],"label":"Gen","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":1295,"type":"Reroute","pos":[-1139.3587580935125,-385.38593756473585],"size":[75,26],"flags":{},"order":254,"mode":0,"inputs":[{"name":"","type":"*","link":2815}],"outputs":[{"name":"","type":"LATENT","links":[5030],"slot_index":0,"label":"Latent"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":1556,"type":"Image Bounds","pos":[-1086.4877505056468,-297.4283109596829],"size":{"0":229.20001220703125,"1":26},"flags":{"collapsed":true},"order":258,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3469}],"outputs":[{"name":"IMAGE_BOUNDS","type":"IMAGE_BOUNDS","links":[3466],"shape":3}],"properties":{"Node name for S&R":"Image Bounds"}},{"id":430,"type":"Image Size to Number","pos":[-926.4877505056481,-297.4283109596829],"size":{"0":229.20001220703125,"1":126},"flags":{"collapsed":true},"order":263,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3045}],"outputs":[{"name":"width_num","type":"NUMBER","links":[745],"shape":3,"slot_index":0},{"name":"height_num","type":"NUMBER","links":[746],"shape":3,"slot_index":1},{"name":"width_float","type":"FLOAT","links":null,"shape":3},{"name":"height_float","type":"FLOAT","links":null,"shape":3},{"name":"width_int","type":"INT","links":[5014],"shape":3,"slot_index":4},{"name":"height_int","type":"INT","links":[5015],"shape":3,"slot_index":5}],"properties":{"Node name for S&R":"Image Size to Number"}},{"id":2082,"type":"ImageScaleBy","pos":[2109.6773790020748,-1131.488057390659],"size":{"0":210,"1":82},"flags":{"collapsed":false},"order":328,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":4623}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4630],"shape":3,"slot_index":0}],"title":"Downscale Masks","properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["area",0.5]},{"id":429,"type":"Number Operation","pos":[-396.48775050564774,-217.42831095968242],"size":{"0":210,"1":98},"flags":{"collapsed":true},"order":266,"mode":0,"inputs":[{"name":"number_a","type":"NUMBER","link":746,"slot_index":0},{"name":"number_b","type":"NUMBER","link":747}],"outputs":[{"name":"NUMBER","type":"NUMBER","links":null,"shape":3},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3},{"name":"INT","type":"INT","links":[751,3943],"shape":3,"slot_index":2}],"title":"h","properties":{"Node name for S&R":"Number Operation"},"widgets_values":["multiplication"]},{"id":432,"type":"Number Operation","pos":[-476.4877505056475,-217.42831095968242],"size":{"0":210,"1":98},"flags":{"collapsed":true},"order":265,"mode":0,"inputs":[{"name":"number_a","type":"NUMBER","link":745,"slot_index":0},{"name":"number_b","type":"NUMBER","link":748}],"outputs":[{"name":"NUMBER","type":"NUMBER","links":null,"shape":3},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3,"slot_index":1},{"name":"INT","type":"INT","links":[750,3942],"shape":3,"slot_index":2}],"title":"w","properties":{"Node name for S&R":"Number Operation"},"widgets_values":["multiplication"]},{"id":1555,"type":"Inset Image Bounds","pos":[-1086.4877505056468,-27.428310959682722],"size":{"0":211.60000610351562,"1":130},"flags":{"collapsed":true},"order":259,"mode":0,"inputs":[{"name":"image_bounds","type":"IMAGE_BOUNDS","link":3466,"slot_index":0},{"name":"inset_left","type":"INT","link":5039,"widget":{"name":"inset_left"},"slot_index":1},{"name":"inset_right","type":"INT","link":5040,"widget":{"name":"inset_right"},"slot_index":2},{"name":"inset_top","type":"INT","link":5041,"widget":{"name":"inset_top"},"slot_index":3},{"name":"inset_bottom","type":"INT","link":5042,"widget":{"name":"inset_bottom"},"slot_index":4}],"outputs":[{"name":"IMAGE_BOUNDS","type":"IMAGE_BOUNDS","links":[3465],"shape":3}],"title":"Crop Images","properties":{"Node name for S&R":"Inset Image Bounds"},"widgets_values":[0,0,0,0]},{"id":1554,"type":"Bounded Image Crop","pos":[-966.4877505056483,-27.428310959682722],"size":{"0":229.20001220703125,"1":46},"flags":{"collapsed":true},"order":260,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3470,"slot_index":0},{"name":"image_bounds","type":"IMAGE_BOUNDS","link":3465,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5037,5038],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Bounded Image Crop"}},{"id":1407,"type":"ImageSelector","pos":[-1086.4877505056468,12.571689040317443],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":261,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":5037}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3045],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageSelector"},"widgets_values":["1"]},{"id":2289,"type":"PrimitiveNode","pos":[-1086.4877505056468,-137.4283109596823],"size":{"0":210,"1":80},"flags":{},"order":22,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[5041,5043],"slot_index":0,"widget":{"name":"inset_top"}}],"title":"Top","properties":{"Run widget replace on values":false},"widgets_values":[0,"fixed"],"color":"#232","bgcolor":"#353"},{"id":2212,"type":"Reroute","pos":[4513.124351568602,-467.8624603201365],"size":[75,26],"flags":{},"order":459,"mode":0,"inputs":[{"name":"","type":"*","link":4859}],"outputs":[{"name":"","type":"IMAGE","links":[4891],"label":"Faces","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2211,"type":"Reroute","pos":[4513.124351568602,-427.8624603201365],"size":[75,26],"flags":{},"order":464,"mode":0,"inputs":[{"name":"","type":"*","link":4858}],"outputs":[{"name":"","type":"IMAGE","links":[4900],"label":"Masks","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2198,"type":"Reroute","pos":[4223.124351568601,-477.8624603201365],"size":[75,26],"flags":{},"order":446,"mode":0,"inputs":[{"name":"","type":"*","link":4832,"pos":[37.5,0]}],"outputs":[{"name":"","type":"MASK_MAPPING","links":[4833,4834,5298],"slot_index":0,"label":"Map"}],"properties":{"showOutputText":false,"horizontal":true},"color":"#232","bgcolor":"#353"},{"id":2247,"type":"Reroute","pos":[3040.8194464147778,-299.6809776033099],"size":[75,26],"flags":{},"order":417,"mode":0,"inputs":[{"name":"","type":"*","link":6269}],"outputs":[{"name":"","type":"IMAGE","links":[4933],"slot_index":0,"label":"Images"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2199,"type":"Reroute","pos":[3951.8973378967316,-401.69259093537096],"size":[75,26],"flags":{},"order":438,"mode":0,"inputs":[{"name":"","type":"*","link":4939}],"outputs":[{"name":"","type":"IMAGE","links":[5308],"slot_index":0,"label":"Masks"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2073,"type":"Reroute","pos":[-355.8779151066088,1004.4863757083277],"size":[75,26],"flags":{},"order":99,"mode":0,"inputs":[{"name":"","type":"*","link":4602}],"outputs":[{"name":"","type":"IMAGE","links":[5313],"label":"Load","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2288,"type":"PrimitiveNode","pos":[-876.4877505056481,-137.4283109596823],"size":{"0":210,"1":80},"flags":{},"order":23,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[5042],"slot_index":0,"widget":{"name":"inset_bottom"}}],"title":"Bottom","properties":{"Run widget replace on values":false},"widgets_values":[0,"fixed"],"color":"#232","bgcolor":"#353"},{"id":1246,"type":"RescaleCFG","pos":[-2822.1234808161416,669.0941093067955],"size":{"0":210,"1":60},"flags":{},"order":169,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":2716}],"outputs":[{"name":"MODEL","type":"MODEL","links":[5448],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"RescaleCFG"},"widgets_values":[0.6]},{"id":2166,"type":"UltralyticsDetectorProvider","pos":[3173.337112151674,-1127.6016841154842],"size":{"0":440,"1":80},"flags":{},"order":24,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[4773,4923],"shape":3,"slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[4776],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/face_yolov8n_v2.pt"],"color":"#232","bgcolor":"#353"},{"id":2180,"type":"PrimitiveNode","pos":[3183.337112151674,-1007.6016841154853],"size":{"0":210,"1":110},"flags":{},"order":25,"mode":0,"outputs":[{"name":"COMBO","type":"COMBO","links":[4800,4929],"widget":{"name":"target"},"slot_index":0}],"title":"Determine By","properties":{"Run widget replace on values":false},"widgets_values":["width","fixed",""],"color":"#232","bgcolor":"#353"},{"id":2427,"type":"Reroute","pos":[-2200.060213757794,627.6190959351296],"size":[75,26],"flags":{},"order":180,"mode":0,"inputs":[{"name":"","type":"*","link":5481}],"outputs":[{"name":"","type":"VAE","links":null,"label":"VAE 2"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2428,"type":"Reroute","pos":[-2200.060213757794,657.6190959351296],"size":[75,26],"flags":{},"order":236,"mode":0,"inputs":[{"name":"","type":"*","link":5482}],"outputs":[{"name":"","type":"CONDITIONING","links":null,"label":"Pos"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2401,"type":"Reroute","pos":[-2759.784880147888,909.4595495130185],"size":[75,26],"flags":{},"order":194,"mode":0,"inputs":[{"name":"","type":"*","link":6199}],"outputs":[{"name":"","type":"MODEL","links":[5416],"slot_index":0,"label":"Model 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2423,"type":"Reroute","pos":[-2649.7848801478885,909.4595495130185],"size":[75,26],"flags":{},"order":207,"mode":0,"inputs":[{"name":"","type":"*","link":6198}],"outputs":[{"name":"","type":"MODEL","links":[5475],"slot_index":0,"label":"Model 2"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2434,"type":"Reroute","pos":[-114.89101984635903,434.6234230871337],"size":[75,26],"flags":{},"order":287,"mode":0,"inputs":[{"name":"","type":"*","link":5937}],"outputs":[{"name":"","type":"CONDITIONING","links":[5496],"label":"Pos","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2433,"type":"Reroute","pos":[-114.89101984635903,464.6234230871337],"size":[75,26],"flags":{},"order":288,"mode":0,"inputs":[{"name":"","type":"*","link":5936}],"outputs":[{"name":"","type":"CONDITIONING","links":[5497],"label":"Neg","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":2385,"type":"Reroute","pos":[-2200.060213757794,447.6190959351297],"size":[75,26],"flags":{},"order":173,"mode":0,"inputs":[{"name":"","type":"*","link":5431}],"outputs":[{"name":"","type":"VAE","links":[5364,5501],"slot_index":0,"label":"VAE 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2424,"type":"Reroute","pos":[-2200.060213757794,477.61909593512985],"size":[75,26],"flags":{},"order":229,"mode":0,"inputs":[{"name":"","type":"*","link":5476}],"outputs":[{"name":"","type":"CONDITIONING","links":[5502],"label":"Pos","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2435,"type":"Reroute","pos":[-2070.0602137577935,537.6190959351297],"size":[75,26],"flags":{},"order":187,"mode":0,"inputs":[{"name":"","type":"*","link":5501}],"outputs":[{"name":"","type":"VAE","links":[5507],"slot_index":0,"label":"VAE"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2438,"type":"Reroute","pos":[-2070.0602137577935,567.6190959351298],"size":[75,26],"flags":{},"order":242,"mode":0,"inputs":[{"name":"","type":"*","link":5502}],"outputs":[{"name":"","type":"CONDITIONING","links":[5508],"slot_index":0,"label":"Pos"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2437,"type":"Reroute","pos":[-2070.0602137577935,597.6190959351296],"size":[75,26],"flags":{},"order":243,"mode":0,"inputs":[{"name":"","type":"*","link":5503}],"outputs":[{"name":"","type":"CONDITIONING","links":[5506],"slot_index":0,"label":"Neg"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":2425,"type":"Reroute","pos":[-2200.060213757794,507.61909593513],"size":[75,26],"flags":{},"order":230,"mode":0,"inputs":[{"name":"","type":"*","link":5477}],"outputs":[{"name":"","type":"CONDITIONING","links":[5503],"label":"Neg","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":2429,"type":"Reroute","pos":[-2200.060213757794,687.6190959351296],"size":[75,26],"flags":{},"order":235,"mode":0,"inputs":[{"name":"","type":"*","link":5483}],"outputs":[{"name":"","type":"CONDITIONING","links":null,"label":"Neg"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":2403,"type":"Reroute","pos":[-235.87791510660918,954.4863757083269],"size":[75,26],"flags":{},"order":195,"mode":0,"inputs":[{"name":"","type":"*","link":6205}],"outputs":[{"name":"","type":"MODEL","links":[5420],"slot_index":0,"label":"Model 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2412,"type":"Reroute","pos":[-95.87791510660922,954.4863757083269],"size":[75,26],"flags":{},"order":208,"mode":0,"inputs":[{"name":"","type":"*","link":6206}],"outputs":[{"name":"","type":"MODEL","links":[5453],"slot_index":0,"label":"Model 2"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2442,"type":"Reroute","pos":[1500,780],"size":[75,26],"flags":{},"order":400,"mode":0,"inputs":[{"name":"","type":"*","link":5906}],"outputs":[{"name":"","type":"CONDITIONING","links":[5516],"slot_index":0,"label":"Pos"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2232,"type":"Reroute","pos":[2981.500160456064,198.37994443369962],"size":[75,26],"flags":{},"order":416,"mode":0,"inputs":[{"name":"","type":"*","link":6268}],"outputs":[{"name":"","type":"IMAGE","links":[5299],"slot_index":0,"label":"Images"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2230,"type":"Reroute","pos":[2981.500160456064,228.37994443369985],"size":[75,26],"flags":{},"order":463,"mode":0,"inputs":[{"name":"","type":"*","link":4891}],"outputs":[{"name":"","type":"IMAGE","links":[5284,5287],"slot_index":0,"label":"Faces"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2231,"type":"Reroute","pos":[2981.500160456064,258.37994443370013],"size":[75,26],"flags":{},"order":468,"mode":0,"inputs":[{"name":"","type":"*","link":4900}],"outputs":[{"name":"","type":"IMAGE","links":[5293],"slot_index":0,"label":"Masks"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2235,"type":"Reroute","pos":[2981.500160456064,288.3799444337005],"size":[75,26],"flags":{},"order":457,"mode":0,"inputs":[{"name":"","type":"*","link":4913}],"outputs":[{"name":"","type":"IMAGE","links":[5297],"label":"Area","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2432,"type":"Reroute","pos":[-114.89101984635903,374.6234230871337],"size":[75,26],"flags":{},"order":246,"mode":0,"inputs":[{"name":"","type":"*","link":5934}],"outputs":[{"name":"","type":"MODEL","links":[5491],"label":"Model","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2465,"type":"Reroute","pos":[3101.500160456064,368.3799444337008],"size":[75,26],"flags":{},"order":473,"mode":0,"inputs":[{"name":"","type":"*","link":5564}],"outputs":[{"name":"","type":"LATENT","links":[5565],"label":"Latent","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2355,"type":"VAEEncode","pos":[3071.500160456064,348.3799444337006],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":470,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":5286},{"name":"vae","type":"VAE","link":5549}],"outputs":[{"name":"LATENT","type":"LATENT","links":[5564],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":2368,"type":"ImageScale","pos":[3921.50016045607,248.3799444336999],"size":{"0":210,"1":122},"flags":{"collapsed":true},"order":472,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":5293},{"name":"width","type":"INT","link":5288,"widget":{"name":"width"}},{"name":"height","type":"INT","link":5289,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5294],"shape":3,"slot_index":0}],"title":"Fix Mask Sizes","properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"disabled"]},{"id":2367,"type":"ImageScale","pos":[3921.50016045607,288.3799444337005],"size":{"0":210,"1":122},"flags":{"collapsed":true},"order":485,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":5408},{"name":"width","type":"INT","link":5290,"widget":{"name":"width"}},{"name":"height","type":"INT","link":5291,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5302],"shape":3,"slot_index":0}],"title":"Fix Image Sizes","properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"disabled"]},{"id":2455,"type":"Reroute","pos":[3101.500160456064,478.37994443369985],"size":[75,26],"flags":{},"order":237,"mode":0,"inputs":[{"name":"","type":"*","link":6144}],"outputs":[{"name":"","type":"VAE","links":[5548,5549],"slot_index":0,"label":"VAE"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2457,"type":"Reroute","pos":[3101.500160456064,538.3799444336998],"size":[75,26],"flags":{},"order":482,"mode":0,"inputs":[{"name":"","type":"*","link":6146}],"outputs":[{"name":"","type":"CONDITIONING","links":[5546],"slot_index":0,"label":"Neg"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":2458,"type":"Reroute","pos":[3101.500160456064,508.37994443369985],"size":[75,26],"flags":{},"order":481,"mode":0,"inputs":[{"name":"","type":"*","link":6145}],"outputs":[{"name":"","type":"CONDITIONING","links":[5545],"slot_index":0,"label":"Pos"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2547,"type":"Change Channel Count","pos":[3905.14256657181,1753.5014044471577],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":499,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":5721}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5722],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":1292,"type":"Reroute","pos":[-470,170],"size":[75,26],"flags":{},"order":252,"mode":0,"inputs":[{"name":"","type":"*","link":5334}],"outputs":[{"name":"","type":"LATENT","links":[2815],"label":"Latent","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2586,"type":"PrimitiveNode","pos":[1590,1510],"size":{"0":210,"1":80},"flags":{"collapsed":false,"pinned":true},"order":26,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[5786,5791],"slot_index":0,"widget":{"name":"strength"}}],"title":"Lineart Strength","properties":{"Run widget replace on values":false},"widgets_values":[1,"fixed"],"color":"#432","bgcolor":"#653"},{"id":2587,"type":"PrimitiveNode","pos":[1800,1510],"size":{"0":210,"1":80},"flags":{"pinned":true},"order":27,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[5787,5792],"slot_index":0,"widget":{"name":"start_percent"}}],"title":"Start At % Steps","properties":{"Run widget replace on values":false},"widgets_values":[0,"fixed"],"color":"#432","bgcolor":"#653"},{"id":2588,"type":"PrimitiveNode","pos":[2010,1510],"size":{"0":210,"1":80},"flags":{"pinned":true},"order":28,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[5788,5793],"slot_index":0,"widget":{"name":"end_percent"}}],"title":"End At % Steps","properties":{"Run widget replace on values":false},"widgets_values":[1,"fixed"],"color":"#432","bgcolor":"#653"},{"id":1941,"type":"ScaledSoftControlNetWeights","pos":[1800,1620],"size":{"0":210,"1":102},"flags":{"pinned":true},"order":29,"mode":0,"outputs":[{"name":"CN_WEIGHTS","type":"CONTROL_NET_WEIGHTS","links":null,"shape":3},{"name":"TK_SHORTCUT","type":"TIMESTEP_KEYFRAME","links":[4279,4280],"shape":3,"slot_index":1}],"title":"TemportalNet Weights","properties":{"Node name for S&R":"ScaledSoftControlNetWeights"},"widgets_values":[0.825,false],"color":"#432","bgcolor":"#653"},{"id":1791,"type":"ControlNetLoaderAdvanced","pos":[2010,1620],"size":{"0":290,"1":60},"flags":{"collapsed":false,"pinned":true},"order":30,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[3934,4246],"shape":3,"slot_index":0}],"title":"Load Pix2Pix Controlnet","properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["controlnet11Models_pix2pix.safetensors"],"color":"#432","bgcolor":"#653"},{"id":2581,"type":"ControlNetLoaderAdvanced","pos":[2010,1710],"size":{"0":290,"1":60},"flags":{"collapsed":false,"pinned":true},"order":31,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[5771,5782],"shape":3,"slot_index":0}],"title":"Load Lineart Controlnet","properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["control_v11p_sd15_lineart_fp16.safetensors"],"color":"#432","bgcolor":"#653"},{"id":2280,"type":"LatentCrop","pos":[-1041.5278510335058,-358.59693683476155],"size":{"0":210,"1":114},"flags":{"collapsed":true},"order":267,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":5030},{"name":"width","type":"INT","link":5014,"widget":{"name":"width"}},{"name":"height","type":"INT","link":5015,"widget":{"name":"height"}},{"name":"x","type":"INT","link":5044,"widget":{"name":"x"}},{"name":"y","type":"INT","link":5043,"widget":{"name":"y"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[5031],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LatentCrop"},"widgets_values":[512,512,0,0]},{"id":1296,"type":"LatentUpscaleBy","pos":[-901.5278510335066,-358.59693683476155],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":270,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":5031},{"name":"scale_by","type":"FLOAT","link":2817,"widget":{"name":"scale_by"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[5032],"shape":3,"slot_index":0}],"title":"Latent Upscale","properties":{"Node name for S&R":"LatentUpscaleBy"},"widgets_values":["nearest-exact",1.5]},{"id":427,"type":"ImageScale","pos":[-651.5278510335066,-58.59693683476107],"size":{"0":210,"1":122},"flags":{"collapsed":true},"order":268,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":763},{"name":"width","type":"INT","link":750,"widget":{"name":"width"}},{"name":"height","type":"INT","link":751,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1454],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"disabled"]},{"id":2369,"type":"Image To Mask","pos":[4103.595105757708,248.72002529158453],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":476,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":5294}],"outputs":[{"name":"MASK","type":"MASK","links":[5295],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Image To Mask"},"widgets_values":["alpha"]},{"id":2370,"type":"AlphaChanelAddByMask","pos":[4113.595105757708,288.72002529158453],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":487,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":5302},{"name":"mask","type":"MASK","link":5295}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5296],"shape":3,"slot_index":0}],"title":"Add Alpha","properties":{"Node name for S&R":"AlphaChanelAddByMask"},"widgets_values":["invert"]},{"id":2371,"type":"Paste By Mask","pos":[3923.595105757707,328.72002529158453],"size":{"0":342.5999755859375,"1":118},"flags":{"collapsed":true},"order":488,"mode":0,"inputs":[{"name":"image_base","type":"IMAGE","link":5299},{"name":"image_to_paste","type":"IMAGE","link":5296},{"name":"mask","type":"IMAGE","link":5297},{"name":"mask_mapping_optional","type":"MASK_MAPPING","link":5298}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6226],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Paste By Mask"},"widgets_values":["source_size"]},{"id":2366,"type":"Get Image Size","pos":[3823.595105757707,268.72002529158453],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":467,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":5287}],"outputs":[{"name":"INT","type":"INT","links":[5288,5290],"shape":3,"slot_index":0},{"name":"INT","type":"INT","links":[5289,5291],"shape":3,"slot_index":1}],"title":"Size","properties":{"Node name for S&R":"Get Image Size"}},{"id":2430,"type":"Reroute","pos":[-111.73210568049966,407.3393114519618],"size":[75,26],"flags":{},"order":199,"mode":0,"inputs":[{"name":"","type":"*","link":5935}],"outputs":[{"name":"","type":"VAE","links":[5492,5493],"label":"VAE","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2464,"type":"Reroute","pos":[-121.73210568049967,277.3393114519618],"size":[75,26],"flags":{},"order":286,"mode":0,"inputs":[{"name":"","type":"*","link":6088}],"outputs":[{"name":"","type":"LATENT","links":[5562],"slot_index":0,"label":"Latent"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":1362,"type":"LatentInterposer","pos":[-736.4877505056483,-367.42831095968273],"size":{"0":210,"1":82},"flags":{"collapsed":false},"order":273,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":5032}],"outputs":[{"name":"LATENT","type":"LATENT","links":[2923],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LatentInterposer"},"widgets_values":["v1","v1"],"color":"#232","bgcolor":"#353"},{"id":2441,"type":"Reroute","pos":[1500,810],"size":[75,26],"flags":{},"order":401,"mode":0,"inputs":[{"name":"","type":"*","link":5907}],"outputs":[{"name":"","type":"CONDITIONING","links":[5517],"slot_index":0,"label":"Neg"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":2197,"type":"ImageScale","pos":[4329.9833346933,-610.5987414440888],"size":{"0":210,"1":122},"flags":{"collapsed":true},"order":447,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4828},{"name":"width","type":"INT","link":4829,"widget":{"name":"width"}},{"name":"height","type":"INT","link":4830,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4824],"shape":3,"slot_index":0}],"title":"Restore Masks","properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"disabled"]},{"id":2364,"type":"ImageScale","pos":[3543.595105757707,348.72002529158453],"size":{"0":210,"1":122},"flags":{"collapsed":true},"order":466,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":5284},{"name":"width","type":"INT","link":5282,"widget":{"name":"width"},"slot_index":1},{"name":"height","type":"INT","link":5283,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5286,5858],"shape":3,"slot_index":0}],"title":"Upscale Faces","properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"disabled"]},{"id":2609,"type":"ImagePadForOutpaint","pos":[2695.9845674660487,3222.3307758462984],"size":{"0":315,"1":174},"flags":{"collapsed":true},"order":536,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":5862}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5867],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[5833],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ImagePadForOutpaint"},"widgets_values":[0,0,1024,0,0]},{"id":2614,"type":"MaskToImage","pos":[2915.9845674660487,3222.3307758462984],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":537,"mode":2,"inputs":[{"name":"mask","type":"MASK","link":5833}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5834],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":2630,"type":"ImageSelector","pos":[2535.9845674660487,3222.3307758462984],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":534,"mode":2,"inputs":[{"name":"images","type":"IMAGE","link":5873}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5868],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageSelector"},"widgets_values":["2"]},{"id":2632,"type":"ImageSelector","pos":[2531.259656394047,3367.5628295660194],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":535,"mode":2,"inputs":[{"name":"images","type":"IMAGE","link":5874}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5871],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageSelector"},"widgets_values":["3"]},{"id":2617,"type":"ImagePadForOutpaint","pos":[2701.259656394047,3367.5628295660194],"size":{"0":315,"1":174},"flags":{"collapsed":true},"order":539,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":5869}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5870],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[5841],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ImagePadForOutpaint"},"widgets_values":[0,0,1024,0,0]},{"id":2620,"type":"MaskToImage","pos":[2921.259656394047,3367.5628295660194],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":540,"mode":2,"inputs":[{"name":"mask","type":"MASK","link":5841}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5842],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":2612,"type":"Paste By Mask","pos":[3125.9845674660487,3222.3307758462984],"size":{"0":230,"1":120},"flags":{"collapsed":true},"order":538,"mode":2,"inputs":[{"name":"image_base","type":"IMAGE","link":5867},{"name":"image_to_paste","type":"IMAGE","link":5868},{"name":"mask","type":"IMAGE","link":5834},{"name":"mask_mapping_optional","type":"MASK_MAPPING","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5869],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Paste By Mask"},"widgets_values":["source_size"]},{"id":2399,"type":"VAEDecode","pos":[3683.595105757707,348.72002529158453],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":484,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":5406},{"name":"vae","type":"VAE","link":5548}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5408,5883],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":2637,"type":"ImageScale","pos":[3833.595105757707,368.72002529158453],"size":{"0":210,"1":130},"flags":{"collapsed":true},"order":486,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":5883}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6064],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",1024,1024,"disabled"]},{"id":1984,"type":"ImpactSimpleDetectorSEGS","pos":[1194.2391690075704,-234.2527456752179],"size":{"0":210,"1":310},"flags":{},"order":306,"mode":0,"inputs":[{"name":"bbox_detector","type":"BBOX_DETECTOR","link":4414,"slot_index":0},{"name":"image","type":"IMAGE","link":4639},{"name":"sam_model_opt","type":"SAM_MODEL","link":null},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"slot_index":3}],"outputs":[{"name":"SEGS","type":"SEGS","links":[4419],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactSimpleDetectorSEGS"},"widgets_values":[0.3,0,3,1,0.5,0,0,0.7,0],"color":"#232","bgcolor":"#353"},{"id":1793,"type":"DiffControlNetLoaderAdvanced","pos":[1470,1620],"size":{"0":330,"1":100},"flags":{"pinned":true},"order":250,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":5521},{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[6059,6060],"shape":3,"slot_index":0}],"title":"Load TemporalNet","properties":{"Node name for S&R":"DiffControlNetLoaderAdvanced"},"widgets_values":["diff_control_sd15_temporalnet_fp16.safetensors"],"color":"#432","bgcolor":"#653"},{"id":1530,"type":"Reroute","pos":[973.6276264479786,972.6583062724527],"size":[75,26],"flags":{"pinned":false},"order":374,"mode":0,"inputs":[{"name":"","type":"*","link":3486}],"outputs":[{"name":"","type":"IMAGE","links":[3487],"label":"Mask","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2440,"type":"Reroute","pos":[1500,710],"size":[75,26],"flags":{},"order":244,"mode":0,"inputs":[{"name":"","type":"*","link":5904}],"outputs":[{"name":"","type":"MODEL","links":[5520,5521],"slot_index":0,"label":"Model"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":1541,"type":"Reroute","pos":[1173.6276264479789,972.6583062724527],"size":[75,26],"flags":{"pinned":false},"order":205,"mode":0,"inputs":[{"name":"","type":"*","link":5412}],"outputs":[{"name":"","type":"MODEL","links":[5449],"label":"Model 2","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2443,"type":"Reroute","pos":[2981.500160456064,638.3799444337],"size":[75,26],"flags":{},"order":183,"mode":0,"inputs":[{"name":"","type":"*","link":5522}],"outputs":[{"name":"","type":"CLIP","links":[5537,5538],"label":"Clip 2","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#432","bgcolor":"#653"},{"id":2447,"type":"Reroute","pos":[2981.500160456064,698.3799444337],"size":[75,26],"flags":{},"order":479,"mode":0,"inputs":[{"name":"","type":"*","link":5539}],"outputs":[{"name":"","type":"CONDITIONING","links":[],"label":"Pos","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2448,"type":"Reroute","pos":[2981.500160456064,728.3799444336998],"size":[75,26],"flags":{},"order":480,"mode":0,"inputs":[{"name":"","type":"*","link":5540}],"outputs":[{"name":"","type":"CONDITIONING","links":[],"label":"Neg","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":2456,"type":"Reroute","pos":[3101.500160456064,448.37994443370053],"size":[75,26],"flags":{},"order":240,"mode":0,"inputs":[{"name":"","type":"*","link":6143}],"outputs":[{"name":"","type":"MODEL","links":[5542],"slot_index":0,"label":"Model"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2388,"type":"Reroute","pos":[-234.89101984635892,384.6234230871337],"size":[75,26],"flags":{},"order":186,"mode":0,"inputs":[{"name":"","type":"*","link":5364}],"outputs":[{"name":"","type":"VAE","links":[5385],"slot_index":0,"label":"VAE 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2439,"type":"Reroute","pos":[1500,750],"size":[75,26],"flags":{},"order":198,"mode":0,"inputs":[{"name":"","type":"*","link":5905}],"outputs":[{"name":"","type":"VAE","links":[5519,5931],"slot_index":0,"label":"VAE"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2416,"type":"Reroute","pos":[-234.89101984635892,584.6234230871335],"size":[75,26],"flags":{},"order":179,"mode":0,"inputs":[{"name":"","type":"*","link":5460}],"outputs":[{"name":"","type":"VAE","links":[5935],"label":"VAE 2","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":887,"type":"LoraLoader","pos":[-3062.7577077367573,465.4695924091808],"size":{"0":210,"1":130},"flags":{"pinned":false},"order":155,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1614},{"name":"clip","type":"CLIP","link":1611}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1770],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[5441],"shape":3,"slot_index":1}],"title":"Load LCM Lora","properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["lcm\\SD1.5\\pytorch_lora_weights.safetensors",0.6,1]},{"id":2396,"type":"KSamplerAdvanced","pos":[3211.500160456064,348.3799444337006],"size":{"0":320,"1":520},"flags":{},"order":483,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":5542},{"name":"positive","type":"CONDITIONING","link":5545},{"name":"negative","type":"CONDITIONING","link":5546},{"name":"latent_image","type":"LATENT","link":5565},{"name":"noise_seed","type":"INT","link":5400,"widget":{"name":"noise_seed"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[5406],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",1035894920143512,"randomize",6,2,"lcm","sgm_uniform",2,10000,"disable"]},{"id":2363,"type":"PrimitiveNode","pos":[3581.5001604560634,228.37994443369985],"size":{"0":210,"1":80},"flags":{"collapsed":false},"order":32,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[5282,5283],"slot_index":0,"widget":{"name":"width"}}],"title":"Face size squared","properties":{"Run widget replace on values":false},"widgets_values":[512,"fixed"],"color":"#232","bgcolor":"#353"},{"id":1374,"type":"Reroute","pos":[1370,320],"size":[75,26],"flags":{},"order":368,"mode":0,"inputs":[{"name":"","type":"*","link":4573}],"outputs":[{"name":"","type":"IMAGE","links":[3486,4582],"label":"Masks","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":1046,"type":"VAEEncode","pos":[1350,470],"size":{"0":140,"1":50},"flags":{"collapsed":true,"pinned":false},"order":371,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":5924},{"name":"vae","type":"VAE","link":5931}],"outputs":[{"name":"LATENT","type":"LATENT","links":[5553],"shape":3,"slot_index":0}],"title":"Latent","properties":{"Node name for S&R":"VAEEncode"},"color":"#323","bgcolor":"#535"},{"id":2404,"type":"Reroute","pos":[1370,640],"size":[75,26],"flags":{},"order":225,"mode":0,"inputs":[{"name":"","type":"*","link":5424}],"outputs":[{"name":"","type":"MODEL","links":[],"slot_index":0,"label":"Model 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":1376,"type":"Reroute","pos":[1370,670],"size":[75,26],"flags":{"pinned":false},"order":174,"mode":0,"inputs":[{"name":"","type":"*","link":5434}],"outputs":[{"name":"","type":"CLIP","links":[3888,3889],"label":"Clip 1","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#432","bgcolor":"#653"},{"id":2393,"type":"Reroute","pos":[1370,700],"size":[75,26],"flags":{},"order":211,"mode":0,"inputs":[{"name":"","type":"*","link":5385}],"outputs":[{"name":"","type":"VAE","links":[5456],"slot_index":0,"label":"VAE 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2421,"type":"Reroute","pos":[1370,730],"size":[75,26],"flags":{},"order":396,"mode":0,"inputs":[{"name":"","type":"*","link":5784}],"outputs":[{"name":"","type":"CONDITIONING","links":[],"slot_index":0,"label":"Pos"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2410,"type":"Reroute","pos":[1370,840],"size":[75,26],"flags":{},"order":231,"mode":0,"inputs":[{"name":"","type":"*","link":5450}],"outputs":[{"name":"","type":"MODEL","links":[5904],"label":"Model 2","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":1375,"type":"Reroute","pos":[1370,870],"size":[75,26],"flags":{"pinned":false},"order":182,"mode":0,"inputs":[{"name":"","type":"*","link":5472}],"outputs":[{"name":"","type":"CLIP","links":[3890,5317],"label":"Clip 2","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#432","bgcolor":"#653"},{"id":2411,"type":"Reroute","pos":[1370,900],"size":[75,26],"flags":{},"order":178,"mode":0,"inputs":[{"name":"","type":"*","link":5451}],"outputs":[{"name":"","type":"VAE","links":[5905],"label":"VAE 2","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2419,"type":"Reroute","pos":[1370,930],"size":[75,26],"flags":{},"order":398,"mode":0,"inputs":[{"name":"","type":"*","link":6121}],"outputs":[{"name":"","type":"CONDITIONING","links":[5906],"label":"Pos","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2420,"type":"Reroute","pos":[1370,960],"size":[75,26],"flags":{},"order":399,"mode":0,"inputs":[{"name":"","type":"*","link":6122}],"outputs":[{"name":"","type":"CONDITIONING","links":[5907],"label":"Neg","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":1483,"type":"ADE_AnimateDiffModelSettingsSimple","pos":[-3645.0956572755836,1297.5657857086512],"size":{"0":330,"1":110},"flags":{"collapsed":true,"pinned":false},"order":97,"mode":4,"inputs":[{"name":"mask_motion_scale","type":"MASK","link":null},{"name":"min_motion_scale","type":"FLOAT","link":3474,"widget":{"name":"min_motion_scale"}},{"name":"max_motion_scale","type":"FLOAT","link":3475,"widget":{"name":"max_motion_scale"}},{"name":"motion_pe_stretch","type":"INT","link":3482,"widget":{"name":"motion_pe_stretch"},"slot_index":3}],"outputs":[{"name":"MOTION_MODEL_SETTINGS","type":"MOTION_MODEL_SETTINGS","links":[3217,3229],"shape":3,"slot_index":0}],"title":"Motion Model Settings","properties":{"Node name for S&R":"ADE_AnimateDiffModelSettingsSimple"},"widgets_values":[0,1,1]},{"id":437,"type":"Image Lucy Sharpen","pos":[-741.5278510335066,1.4030631652389673],"size":{"0":210,"1":82},"flags":{"collapsed":true},"order":262,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":5038}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[762],"shape":3,"slot_index":0}],"title":"Lucy Sharpen","properties":{"Node name for S&R":"Image Lucy Sharpen"},"widgets_values":[2,3],"color":"#232","bgcolor":"#353"},{"id":426,"type":"ImageUpscaleWithModel","pos":[-561.527851033506,1.4030631652389673],"size":{"0":241.79998779296875,"1":46},"flags":{"collapsed":true},"order":264,"mode":4,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":752,"slot_index":0},{"name":"image","type":"IMAGE","link":762}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[763],"shape":3,"slot_index":0}],"title":"Upscale using Model","properties":{"Node name for S&R":"ImageUpscaleWithModel"},"color":"#232","bgcolor":"#353"},{"id":1566,"type":"PrimitiveNode","pos":[240,830],"size":{"0":210,"1":80},"flags":{"pinned":false},"order":33,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3493,3494],"widget":{"name":"end_percent"},"slot_index":0}],"title":"End At % Steps","properties":{"Run widget replace on values":false},"widgets_values":[0.6,"fixed"],"color":"#432","bgcolor":"#653"},{"id":2010,"type":"ImpactSimpleDetectorSEGS","pos":[1220.2430747753644,-732.4442131922505],"size":{"0":210,"1":310},"flags":{},"order":309,"mode":0,"inputs":[{"name":"bbox_detector","type":"BBOX_DETECTOR","link":4448,"slot_index":0},{"name":"image","type":"IMAGE","link":4641},{"name":"sam_model_opt","type":"SAM_MODEL","link":null},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":4450,"slot_index":3}],"outputs":[{"name":"SEGS","type":"SEGS","links":[4451],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactSimpleDetectorSEGS"},"widgets_values":[0.3,0,3,1,0.45,0,0,1,0],"color":"#232","bgcolor":"#353"},{"id":2011,"type":"ImpactSEGSRangeFilter","pos":[1270.2430747753647,-772.4442131922505],"size":{"0":210,"1":150},"flags":{"collapsed":true},"order":312,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":4451},{"name":"min_value","type":"INT","link":4492,"widget":{"name":"min_value"},"slot_index":1},{"name":"target","type":"COMBO","link":4493,"widget":{"name":"target"},"slot_index":2}],"outputs":[{"name":"filtered_SEGS","type":"SEGS","links":[4452],"shape":3,"slot_index":0},{"name":"remained_SEGS","type":"SEGS","links":[],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ImpactSEGSRangeFilter"},"widgets_values":["width",true,320,67108864]},{"id":2012,"type":"SegsToCombinedMask","pos":[1450.2430747753647,-772.4442131922505],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":317,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":4452}],"outputs":[{"name":"MASK","type":"MASK","links":[4453],"shape":3,"slot_index":0}],"title":"SEGS to MASK","properties":{"Node name for S&R":"SegsToCombinedMask"}},{"id":2013,"type":"MaskToImage","pos":[1450.2430747753647,-732.4442131922505],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":321,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4453}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4456],"shape":3,"slot_index":0}],"title":"Mask to Image","properties":{"Node name for S&R":"MaskToImage"}},{"id":2016,"type":"Unary Mask Op","pos":[1450.2430747753647,-692.4442131922505],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":326,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4456}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4455],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Unary Mask Op"},"widgets_values":["clamp"]},{"id":1986,"type":"SegsToCombinedMask","pos":[1415.059813881557,-281.7071750048111],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":311,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":4416}],"outputs":[{"name":"MASK","type":"MASK","links":[4417],"shape":3,"slot_index":0}],"title":"SEGS to MASK","properties":{"Node name for S&R":"SegsToCombinedMask"}},{"id":1987,"type":"MaskToImage","pos":[1415.059813881557,-241.70717500481092],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":316,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4417}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4545],"shape":3,"slot_index":0}],"title":"Mask to Image","properties":{"Node name for S&R":"MaskToImage"}},{"id":1988,"type":"Mask To Region","pos":[2061.0728141801246,-679.4137173564679],"size":{"0":210,"1":202},"flags":{},"order":351,"mode":0,"inputs":[{"name":"mask","type":"IMAGE","link":4556}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4421,4424,4571],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Mask To Region"},"widgets_values":[20,"ignore",2,2,0,0,"match_size"],"color":"#232","bgcolor":"#353"},{"id":1991,"type":"Cut By Mask","pos":[2291.0728141801246,-639.413717356468],"size":{"0":230,"1":122},"flags":{"collapsed":true},"order":354,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4564},{"name":"mask","type":"IMAGE","link":4424},{"name":"mask_mapping_optional","type":"MASK_MAPPING","link":4559,"slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4447],"shape":3,"slot_index":0}],"title":"Cut Masks","properties":{"Node name for S&R":"Cut By Mask"},"widgets_values":[0,0]},{"id":1999,"type":"Change Channel Count","pos":[2431.0728141801246,-679.4137173564679],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":356,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4435}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4565],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2047,"type":"Change Channel Count","pos":[2431.0728141801246,-639.413717356468],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":361,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4534}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4580],"shape":3,"slot_index":0}],"title":"RGBA","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGBA"]},{"id":2009,"type":"Blur","pos":[2281.0728141801246,-599.4137173564686],"size":{"0":210,"1":82},"flags":{"collapsed":false},"order":357,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4447}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4534],"shape":3,"slot_index":0}],"title":"Blur Blending","properties":{"Node name for S&R":"Blur"},"widgets_values":[6,1]},{"id":2158,"type":"ImpactSEGSRangeFilter","pos":[3126.5617535499023,-761.6875527793002],"size":{"0":210,"1":150},"flags":{"collapsed":true},"order":423,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":4761},{"name":"min_value","type":"INT","link":4799,"widget":{"name":"min_value"},"slot_index":1},{"name":"target","type":"COMBO","link":4800,"widget":{"name":"target"},"slot_index":2}],"outputs":[{"name":"filtered_SEGS","type":"SEGS","links":[4762],"shape":3,"slot_index":0},{"name":"remained_SEGS","type":"SEGS","links":[],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ImpactSEGSRangeFilter"},"widgets_values":["width",true,140,67108864]},{"id":2160,"type":"MaskToImage","pos":[3306.5617535499023,-721.6875527793002],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":427,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4763}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4765],"shape":3,"slot_index":0}],"title":"Mask to Image","properties":{"Node name for S&R":"MaskToImage"}},{"id":2159,"type":"SegsToCombinedMask","pos":[3306.5617535499023,-761.6875527793002],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":425,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":4762}],"outputs":[{"name":"MASK","type":"MASK","links":[4763],"shape":3,"slot_index":0}],"title":"SEGS to MASK","properties":{"Node name for S&R":"SegsToCombinedMask"}},{"id":2162,"type":"Unary Mask Op","pos":[3306.5617535499023,-681.6875527793002],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":429,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4765}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4764],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Unary Mask Op"},"widgets_values":["clamp"]},{"id":2240,"type":"ImpactSimpleDetectorSEGS","pos":[3086.1503553035286,-231.49892330329376],"size":{"0":210,"1":310},"flags":{},"order":419,"mode":0,"inputs":[{"name":"bbox_detector","type":"BBOX_DETECTOR","link":4923,"slot_index":0},{"name":"image","type":"IMAGE","link":4933},{"name":"sam_model_opt","type":"SAM_MODEL","link":null},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"slot_index":3}],"outputs":[{"name":"SEGS","type":"SEGS","links":[4928],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactSimpleDetectorSEGS"},"widgets_values":[0.3,0,3,1,0.45,0,0,1,0],"color":"#232","bgcolor":"#353"},{"id":2241,"type":"ImpactSEGSRangeFilter","pos":[3136.1503553035286,-271.4989233032938],"size":{"0":210,"1":150},"flags":{"collapsed":true},"order":422,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":4928},{"name":"min_value","type":"INT","link":4930,"widget":{"name":"min_value"},"slot_index":1},{"name":"target","type":"COMBO","link":4929,"widget":{"name":"target"},"slot_index":2}],"outputs":[{"name":"filtered_SEGS","type":"SEGS","links":[4924],"shape":3,"slot_index":0},{"name":"remained_SEGS","type":"SEGS","links":[],"shape":3,"slot_index":1}],"title":"SEGS Filter","properties":{"Node name for S&R":"ImpactSEGSRangeFilter"},"widgets_values":["width",true,140,67108864]},{"id":2243,"type":"MaskToImage","pos":[3306.1503553035286,-231.49892330329376],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":426,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4925}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4927],"shape":3,"slot_index":0}],"title":"Mask to Image","properties":{"Node name for S&R":"MaskToImage"}},{"id":2242,"type":"SegsToCombinedMask","pos":[3306.1503553035286,-271.4989233032938],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":424,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":4924}],"outputs":[{"name":"MASK","type":"MASK","links":[4925],"shape":3,"slot_index":0}],"title":"SEGS to MASK","properties":{"Node name for S&R":"SegsToCombinedMask"}},{"id":2245,"type":"Unary Mask Op","pos":[3306.1503553035286,-191.49892330329376],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":428,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4927}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4934],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Unary Mask Op"},"widgets_values":["clamp"]},{"id":2187,"type":"Mask To Region","pos":[4043.124351568604,-407.8624603201365],"size":{"0":210,"1":202},"flags":{},"order":450,"mode":0,"inputs":[{"name":"mask","type":"IMAGE","link":4941}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4835,4836,4951],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Mask To Region"},"widgets_values":[20,"keep_ratio",64,64,0,0,"match_size"],"color":"#232","bgcolor":"#353"},{"id":2189,"type":"Cut By Mask","pos":[4263.124351568601,-367.8624603201365],"size":{"0":230,"1":122},"flags":{"collapsed":true},"order":452,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":5308},{"name":"mask","type":"IMAGE","link":4836},{"name":"mask_mapping_optional","type":"MASK_MAPPING","link":4834,"slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4854],"shape":3,"slot_index":0}],"title":"Cut Masks","properties":{"Node name for S&R":"Cut By Mask"},"widgets_values":[0,0]},{"id":2207,"type":"Change Channel Count","pos":[4393.124351568602,-407.8624603201365],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":454,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4856}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4859],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2208,"type":"Change Channel Count","pos":[4393.124351568602,-367.8624603201365],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":461,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4855}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4858],"shape":3,"slot_index":0}],"title":"RGBA","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGBA"]},{"id":2209,"type":"Blur","pos":[4263.124351568601,-327.8624603201365],"size":{"0":210,"1":82},"flags":{"collapsed":false},"order":456,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4854}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4855],"shape":3,"slot_index":0}],"title":"Blur Blending","properties":{"Node name for S&R":"Blur"},"widgets_values":[6,1]},{"id":1992,"type":"SAMLoader","pos":[1440.2430747753647,-512.4442131922505],"size":{"0":210,"1":82},"flags":{},"order":34,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[4775],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","Prefer GPU"]},{"id":2052,"type":"Reroute","pos":[1880.2430747753647,-832.4442131922505],"size":[75,26],"flags":{},"order":335,"mode":0,"inputs":[{"name":"","type":"*","link":4544}],"outputs":[{"name":"","type":"IMAGE","links":[4638,6003],"label":"Mask","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2673,"type":"Change Channel Count","pos":[1510.2430747753647,-612.4442131922505],"size":{"0":250,"1":60},"flags":{"collapsed":true},"order":340,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6003}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6004],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2667,"type":"ImageScaleBy","pos":[1440.2430747753647,-572.4442131922505],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":344,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6004},{"name":"scale_by","type":"FLOAT","link":5995,"widget":{"name":"scale_by"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5985],"shape":3,"slot_index":0}],"title":"Downscale Preview","properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",0.25]},{"id":2008,"type":"Reroute","pos":[1055.168265291771,-828.9924443683141],"size":[75,26],"flags":{},"order":345,"mode":2,"inputs":[{"name":"","type":"*","link":4446}],"outputs":[{"name":"","type":"IMAGE","links":[6005],"slot_index":0,"label":"Mask"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2668,"type":"ImageScaleBy","pos":[585.1682652917718,-448.9924443683138],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":350,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":6006},{"name":"scale_by","type":"FLOAT","link":5996,"widget":{"name":"scale_by"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5987],"shape":3,"slot_index":0}],"title":"Downscale Preview","properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",0.25]},{"id":2674,"type":"Change Channel Count","pos":[665.1682652917715,-498.99244436831395],"size":{"0":250,"1":60},"flags":{"collapsed":true},"order":348,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":6005}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6006],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2007,"type":"PreviewImage","pos":[785.1682652917715,-758.992444368314],"size":{"0":300,"1":350},"flags":{},"order":352,"mode":2,"inputs":[{"name":"images","type":"IMAGE","link":5987}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":2049,"type":"Reroute","pos":[1875.059813881557,-351.7071750048111],"size":[75,26],"flags":{},"order":320,"mode":0,"inputs":[{"name":"","type":"*","link":4545}],"outputs":[{"name":"","type":"IMAGE","links":[4615,6007],"slot_index":0,"label":"Box"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2675,"type":"Change Channel Count","pos":[1465.059813881557,-201.70717500481072],"size":{"0":250,"1":60},"flags":{"collapsed":true},"order":325,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6007}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6008],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2666,"type":"ImageScaleBy","pos":[1415.059813881557,-161.70717500481072],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":330,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6008},{"name":"scale_by","type":"FLOAT","link":5994,"widget":{"name":"scale_by"},"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5983],"shape":3,"slot_index":0}],"title":"Downscale Preview","properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",0.25]},{"id":2067,"type":"Reroute","pos":[2551.0728141801246,-669.4137173564679],"size":[75,26],"flags":{},"order":355,"mode":0,"inputs":[{"name":"","type":"*","link":4571}],"outputs":[{"name":"","type":"IMAGE","links":[4574,6010],"label":"Area","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2248,"type":"Reroute","pos":[3796.1503553035286,-331.49892330329374],"size":[75,26],"flags":{},"order":430,"mode":0,"inputs":[{"name":"","type":"*","link":4934}],"outputs":[{"name":"","type":"IMAGE","links":[4936,6013],"slot_index":0,"label":"Box"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2671,"type":"ImageScaleBy","pos":[3309.4992158504033,-112.43752261969999],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":437,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6014},{"name":"scale_by","type":"FLOAT","link":5999,"widget":{"name":"scale_by"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5992],"shape":3,"slot_index":0}],"title":"Downscale Preview","properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",0.25]},{"id":2678,"type":"Change Channel Count","pos":[3359.4992158504033,-152.4375226197],"size":{"0":250,"1":60},"flags":{"collapsed":true},"order":433,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6013}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6014],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2164,"type":"Reroute","pos":[3756.5617535499023,-821.6875527793002],"size":[75,26],"flags":{},"order":434,"mode":0,"inputs":[{"name":"","type":"*","link":4767}],"outputs":[{"name":"","type":"IMAGE","links":[4939,6015],"slot_index":0,"label":"Masks"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2679,"type":"Change Channel Count","pos":[3376.5617535499023,-601.6875527793002],"size":{"0":250,"1":60},"flags":{"collapsed":true},"order":439,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6015}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6016],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2670,"type":"ImageScaleBy","pos":[3306.5617535499023,-561.6875527793002],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":442,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6016},{"name":"scale_by","type":"FLOAT","link":6000,"widget":{"name":"scale_by"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5990],"shape":3,"slot_index":0}],"title":"Downscale Preview","properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",0.25]},{"id":2210,"type":"Reroute","pos":[4513.124351568602,-387.8624603201365],"size":[75,26],"flags":{},"order":453,"mode":0,"inputs":[{"name":"","type":"*","link":4951}],"outputs":[{"name":"","type":"IMAGE","links":[4913,6018],"label":"Area","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2664,"type":"ImageScaleBy","pos":[2291.0728141801246,-479.4137173564686],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":362,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6021},{"name":"scale_by","type":"FLOAT","link":5998,"widget":{"name":"scale_by"},"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5978,5979],"shape":3,"slot_index":0}],"title":"Preview","properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",0.25]},{"id":2665,"type":"ImageScaleBy","pos":[2391.0728141801246,-479.4137173564686],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":323,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6022},{"name":"scale_by","type":"FLOAT","link":5997,"widget":{"name":"scale_by"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"shape":3,"slot_index":0}],"title":"Preview","properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",0.25]},{"id":2200,"type":"Reroute","pos":[3951.8973378967316,-441.69259093537096],"size":[75,26],"flags":{},"order":421,"mode":0,"inputs":[{"name":"","type":"*","link":4840}],"outputs":[{"name":"","type":"IMAGE","links":[4841],"slot_index":0,"label":"Images"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2677,"type":"Change Channel Count","pos":[2511.0728141801246,-569.4137173564694],"size":{"0":250,"1":60},"flags":{"collapsed":true},"order":319,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6024}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6022],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2676,"type":"Change Channel Count","pos":[2511.0728141801246,-539.4137173564692],"size":{"0":250,"1":60},"flags":{"collapsed":true},"order":359,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6010}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6021],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2619,"type":"Paste By Mask","pos":[3122.549066912598,3365.7373481922755],"size":{"0":230,"1":120},"flags":{"collapsed":true},"order":541,"mode":2,"inputs":[{"name":"image_base","type":"IMAGE","link":5870},{"name":"image_to_paste","type":"IMAGE","link":5871},{"name":"mask","type":"IMAGE","link":5842},{"name":"mask_mapping_optional","type":"MASK_MAPPING","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6042],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Paste By Mask"},"widgets_values":["source_size"]},{"id":2474,"type":"PrimitiveNode","pos":[3459.1932431197465,1751.0243670855166],"size":{"0":210,"1":80},"flags":{"collapsed":false},"order":35,"mode":4,"outputs":[{"name":"INT","type":"INT","links":[5587,5588],"slot_index":0,"widget":{"name":"width"}}],"title":"Face size squared","properties":{"Run widget replace on values":false},"widgets_values":[1024,"fixed"],"color":"#232","bgcolor":"#353"},{"id":1989,"type":"ImpactSEGSRangeFilter","pos":[1235.059813881557,-281.7071750048111],"size":{"0":210,"1":150},"flags":{"collapsed":true},"order":308,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":4419},{"name":"min_value","type":"INT","link":4491,"widget":{"name":"min_value"},"slot_index":1},{"name":"target","type":"COMBO","link":4494,"widget":{"name":"target"}}],"outputs":[{"name":"filtered_SEGS","type":"SEGS","links":[4416],"shape":3,"slot_index":0},{"name":"remained_SEGS","type":"SEGS","links":[],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ImpactSEGSRangeFilter"},"widgets_values":["width",true,320,67108864]},{"id":2681,"type":"Change Channel Count","pos":[4503.124351568602,-308.8624603201365],"size":{"0":250,"1":60},"flags":{"collapsed":true},"order":455,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6053}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6019],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2680,"type":"Change Channel Count","pos":[4503.124351568602,-268.8624603201365],"size":{"0":250,"1":60},"flags":{"collapsed":true},"order":458,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6018}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6020],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2662,"type":"ImageScaleBy","pos":[4273.124351568602,-208.8624603201362],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":460,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6019},{"name":"scale_by","type":"FLOAT","link":6001,"widget":{"name":"scale_by"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6054],"shape":3,"slot_index":0}],"title":"Preview","properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",0.25]},{"id":2663,"type":"ImageScaleBy","pos":[4363.124351568602,-208.8624603201362],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":462,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6020},{"name":"scale_by","type":"FLOAT","link":6002,"widget":{"name":"scale_by"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6051,6055],"shape":3,"slot_index":0}],"title":"Preview","properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",0.25]},{"id":2190,"type":"Cut By Mask","pos":[4263.124351568601,-408.8624603201365],"size":{"0":230,"1":122},"flags":{"collapsed":true},"order":451,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4841},{"name":"mask","type":"IMAGE","link":4835},{"name":"mask_mapping_optional","type":"MASK_MAPPING","link":4833,"slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4856,6053],"shape":3,"slot_index":0}],"title":"Cut Faces","properties":{"Node name for S&R":"Cut By Mask"},"widgets_values":[0,0]},{"id":2377,"type":"VAEDecode","pos":[-1610.0602137577937,397.6190959351297],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":251,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":5331},{"name":"vae","type":"VAE","link":5507}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5333],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":443,"type":"Number Operation","pos":[938.0190326049119,-149.91462551224566],"size":{"0":210,"1":98},"flags":{"collapsed":true},"order":299,"mode":0,"inputs":[{"name":"number_a","type":"NUMBER","link":774,"slot_index":0},{"name":"number_b","type":"NUMBER","link":775}],"outputs":[{"name":"NUMBER","type":"NUMBER","links":[],"shape":3,"slot_index":0},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3,"slot_index":1},{"name":"INT","type":"INT","links":[777],"shape":3,"slot_index":2}],"title":"w","properties":{"Node name for S&R":"Number Operation"},"widgets_values":["multiplication"]},{"id":441,"type":"Number Operation","pos":[938.0190326049119,-119.9146255122458],"size":{"0":210,"1":98},"flags":{"collapsed":true},"order":300,"mode":0,"inputs":[{"name":"number_a","type":"NUMBER","link":771,"slot_index":0},{"name":"number_b","type":"NUMBER","link":772}],"outputs":[{"name":"NUMBER","type":"NUMBER","links":[],"shape":3,"slot_index":0},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3},{"name":"INT","type":"INT","links":[778],"shape":3,"slot_index":2}],"title":"h","properties":{"Node name for S&R":"Number Operation"},"widgets_values":["multiplication"]},{"id":2079,"type":"RebatchImages","pos":[868.0190326049121,-249.91462551224586],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":302,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":4618}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4619],"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"RebatchImages"},"widgets_values":[1]},{"id":440,"type":"ImageUpscaleWithModel","pos":[778.0190326049124,40.08537448775408],"size":{"0":241.79998779296875,"1":46},"flags":{"collapsed":true},"order":296,"mode":4,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":768,"slot_index":0},{"name":"image","type":"IMAGE","link":1579}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[770],"shape":3,"slot_index":0}],"title":"Upscale using Model","properties":{"Node name for S&R":"ImageUpscaleWithModel"},"color":"#232","bgcolor":"#353"},{"id":438,"type":"ImageScale","pos":[788.0190326049124,0.0853744877541125],"size":{"0":210,"1":122},"flags":{"collapsed":true},"order":301,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":770},{"name":"width","type":"INT","link":777,"widget":{"name":"width"}},{"name":"height","type":"INT","link":778,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4618],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",511,512,"disabled"]},{"id":2621,"type":"Reroute","pos":[3258.6926154421203,3288.436051644638],"size":[75,26],"flags":{},"order":542,"mode":2,"inputs":[{"name":"","type":"*","link":6042}],"outputs":[{"name":"","type":"IMAGE","links":[5857],"slot_index":0,"label":"faces"}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1564,"type":"PrimitiveNode","pos":[-180,830],"size":{"0":210,"1":80},"flags":{"collapsed":false,"pinned":false},"order":36,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3489,3490],"widget":{"name":"strength"},"slot_index":0}],"title":"Tile Strength","properties":{"Run widget replace on values":false},"widgets_values":[0.5,"fixed"],"color":"#432","bgcolor":"#653"},{"id":1565,"type":"PrimitiveNode","pos":[30,830],"size":{"0":210,"1":80},"flags":{"pinned":false},"order":37,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3491,3492],"widget":{"name":"start_percent"},"slot_index":0}],"title":"Start At % Steps","properties":{"Run widget replace on values":false},"widgets_values":[0,"fixed"],"color":"#432","bgcolor":"#653"},{"id":773,"type":"Reroute","pos":[-470,140],"size":[75,26],"flags":{"pinned":false},"order":253,"mode":0,"inputs":[{"name":"","type":"*","link":5333}],"outputs":[{"name":"","type":"IMAGE","links":[1451,1495,5426],"slot_index":0,"label":"Image"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":1339,"type":"Reroute","pos":[1090,150],"size":[75,26],"flags":{},"order":291,"mode":0,"inputs":[{"name":"","type":"*","link":5344}],"outputs":[{"name":"","type":"LATENT","links":null,"label":"Latents"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2591,"type":"Note","pos":[-2120,-140],"size":{"0":530,"1":220},"flags":{},"order":38,"mode":0,"properties":{"text":""},"widgets_values":["Base Generation\n\nUse this as a normal text to image prompt, don't go too long if an animation, shorter is better. When prompting, animations don't repeat.  Blond hair, brown hair... will mix. 1 colour is best, if you mention an object like clothing only do it once.  Beach sandals, 1girl, funny face, detailed eyes, pink sandals... mention things ONCE with detail.  Pink beach sandals with a flower works, the other blends. \n\nChoice of model 1 or 2, Model/VAE/Pos/Neg of your choice need to be connected to the matching nodes to the right of them of your choice. Default is model 1\n\nBatching works for images or animations\nSizes are the left and right of the sampler, or use custom.  320x480 or reverse works well for animations"],"color":"#432","bgcolor":"#653"},{"id":2564,"type":"Note","pos":[420,-1310],"size":{"0":890,"1":440},"flags":{},"order":39,"mode":0,"properties":{"text":""},"widgets_values":["Detection settings\n\nThis uses bbox from impact pack simple detectors to make box masks of face and body,  then uses seg or sam to mask the object.  This allows the mask to not need to be perfect to work.  \n\n2 big new options are the Min size of the masks you allow the workflow to work on.  This allows you to pick out only the main subjects and leave the others.  These settings are to determine by and the mask size for both face and body. \n\nI prefer width as determine, but others can work. \nYou choose the size of the dimension that you choose.  Any masks smaller than the Mask size in (width/height/area) are ignored.  The numbers depend on how large your images/videos are.\nWith this you don't need to enhance background objects, like photo frames, or people out of frame but detected. Defaults are a bit small for video\n\nCoco and Sam masking options for masks.  Sam is very accurate and preferred, but sometimes I have no idea what it's trying to detect, so Coco is a good second option if sams masks are wonky.  Disable the group that you are not using. \n\nChoose the bbox detector / seg for person and face. \n\nIMO\nyolovn8n2 v2 works best for face \nperson_yolov8s-seg works best for body\n\nOthers can work too, if you don't want to detect faces, you can change that one to any.  \n\nThe body needs to stay as body if you are using coco masks.  If using sam you can use any detection there that you can get to work, hair, clothes, etc.\n\nBbox Threshold - lower if nothing detected, and raise if too much is.\nCoco can use any resolution mask you want, lower is less accurate, but faster.\n\nYou can look at the masks and decide what one to use\n\nSam is off by default for bodies, it uses seg masks connect the sam loader to the detecter if you want sam."],"color":"#432","bgcolor":"#653"},{"id":434,"type":"UpscaleModelLoader","pos":[-651.5278510335066,-168.59693683476053],"size":{"0":340,"1":60},"flags":{"collapsed":false,"pinned":false},"order":40,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[752,768],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["4x_NMKD-Siax_200k.pth"],"color":"#232","bgcolor":"#353"},{"id":863,"type":"Note","pos":[-3620,-10],"size":{"0":1020,"1":300},"flags":{},"order":41,"mode":0,"title":"Bus Notes","properties":{"text":""},"widgets_values":["Loading the Checkpoints, VAE, and clip skip options. \n\nDefault it loads the VAE separate from the checkpoints as some don't have a vae, and sometimes you just want to use the one you want.\n\nIf you want to load the VAE from the checkpoint, drag the VAE red circle from the checkpoint to the bus next to it. \n\n2 loras can be loaded per bus.\nLCM lora should be loaded last of the loras.  I used LCM lora at 0.6 strength.\nCan add additional loras between the two already there quite easily if you need to.\n\nI recommend using a fixed seed but random works just fine\n\nExtra settings - These can be enabled and disabled by just bypassing the node for on and off.\n\nPatchModelAddDownscale - this node can help you make larger base images without distorted body parts.  1.5 can make 1024 or 720p images with this option as base images.  \nNot 100% sure, but The optional Block Number seems to be an aspect ratio thing. I use 3 for square, 4 for widescreen, and 2 for portrait.  I could be wrong here.\n\nFreeU 1 and 2.\nThese can be useful in both video and images.  Sometimes they dont help. Just an option.\n\nRescale CFG. - this is used because I am using an LCM lora with a regular model forcing a lower CFG than I would like.  This makes your prompt matter more. Highly recommended when using LCM. Setting of 0.4-0.8 is a range I use mostly sitting at 0.6. "],"color":"#432","bgcolor":"#653"},{"id":2383,"type":"Reroute","pos":[-2200.060213757794,387.6190959351297],"size":[75,26],"flags":{},"order":227,"mode":0,"inputs":[{"name":"","type":"*","link":6202}],"outputs":[{"name":"","type":"MODEL","links":[5500],"slot_index":0,"label":"Model 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2384,"type":"Reroute","pos":[-2200.060213757794,417.6190959351297],"size":[75,26],"flags":{},"order":197,"mode":0,"inputs":[{"name":"","type":"*","link":6208}],"outputs":[{"name":"","type":"CLIP","links":[5356,5488],"slot_index":0,"label":"Clip 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#432","bgcolor":"#653"},{"id":2426,"type":"Reroute","pos":[-2200.060213757794,597.6190959351296],"size":[75,26],"flags":{},"order":209,"mode":0,"inputs":[{"name":"","type":"*","link":6078,"slot_index":0}],"outputs":[{"name":"","type":"CLIP","links":[5486,5487],"label":"Clip 2","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#432","bgcolor":"#653"},{"id":2413,"type":"Reroute","pos":[-2200.060213757794,567.6190959351298],"size":[75,26],"flags":{},"order":233,"mode":0,"inputs":[{"name":"","type":"*","link":6203}],"outputs":[{"name":"","type":"MODEL","links":[],"slot_index":0,"label":"Model 2"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2415,"type":"Reroute","pos":[-234.89101984635892,554.6234230871335],"size":[75,26],"flags":{},"order":210,"mode":0,"inputs":[{"name":"","type":"*","link":6209}],"outputs":[{"name":"","type":"CLIP","links":null,"label":"Clip 2"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#432","bgcolor":"#653"},{"id":2414,"type":"Reroute","pos":[-234.89101984635892,524.6234230871335],"size":[75,26],"flags":{},"order":234,"mode":0,"inputs":[{"name":"","type":"*","link":6204}],"outputs":[{"name":"","type":"MODEL","links":[5934],"label":"Model 2","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2386,"type":"Reroute","pos":[-234.89101984635892,324.6234230871337],"size":[75,26],"flags":{},"order":228,"mode":0,"inputs":[{"name":"","type":"*","link":6207}],"outputs":[{"name":"","type":"MODEL","links":[],"slot_index":0,"label":"Model 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2387,"type":"Reroute","pos":[-234.89101984635892,354.6234230871337],"size":[75,26],"flags":{},"order":196,"mode":0,"inputs":[{"name":"","type":"*","link":6087}],"outputs":[{"name":"","type":"CLIP","links":null,"label":"Clip 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#432","bgcolor":"#653"},{"id":2436,"type":"Reroute","pos":[-2070,510],"size":[75,26],"flags":{},"order":241,"mode":0,"inputs":[{"name":"","type":"*","link":5500}],"outputs":[{"name":"","type":"MODEL","links":[5504],"slot_index":0,"label":"Model"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2378,"type":"KSamplerAdvanced","pos":[-4.891019846359064,214.6234230871337],"size":{"0":320,"1":520},"flags":{},"order":289,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":5491},{"name":"positive","type":"CONDITIONING","link":5496},{"name":"negative","type":"CONDITIONING","link":5497},{"name":"latent_image","type":"LATENT","link":5562},{"name":"noise_seed","type":"INT","link":5343,"widget":{"name":"noise_seed"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[5339,5344],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",1035894920143512,"randomize",12,2,"lcm","sgm_uniform",6,10000,"disable"]},{"id":1948,"type":"PrepImageForClipVision","pos":[-2651.1524277343774,1030.6440373437501],"size":{"0":210,"1":110},"flags":{"collapsed":false,"pinned":false},"order":128,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4954,"slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4267],"shape":3,"slot_index":0}],"title":"Prepare Image","properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","pad",0.1],"color":"#323","bgcolor":"#535"},{"id":1949,"type":"IPAdapterEncoder","pos":[-2651.1524277343774,1260.6440373437501],"size":{"0":210,"1":260},"flags":{"pinned":false},"order":153,"mode":0,"inputs":[{"name":"clip_vision","type":"CLIP_VISION","link":4266},{"name":"image_1","type":"IMAGE","link":4267},{"name":"image_2","type":"IMAGE","link":null},{"name":"image_3","type":"IMAGE","link":null},{"name":"image_4","type":"IMAGE","link":null},{"name":"ipadapter_plus","type":"BOOLEAN","link":4957,"widget":{"name":"ipadapter_plus"}}],"outputs":[{"name":"EMBEDS","type":"EMBEDS","links":[4269,4593],"shape":3,"slot_index":0}],"title":"Encode Image","properties":{"Node name for S&R":"IPAdapterEncoder"},"widgets_values":[true,0,1,1,1,1],"color":"#323","bgcolor":"#535"},{"id":2462,"type":"Reroute","pos":[-240,210],"size":[75,26],"flags":{},"order":285,"mode":0,"inputs":[{"name":"","type":"*","link":5555}],"outputs":[{"name":"","type":"LATENT","links":[],"label":"Image","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2463,"type":"Reroute","pos":[-240,240],"size":[75,26],"flags":{},"order":272,"mode":0,"inputs":[{"name":"","type":"*","link":5901}],"outputs":[{"name":"","type":"LATENT","links":[],"label":"Empty","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":868,"type":"EmptyLatentImage","pos":[-1620,620],"size":{"0":210,"1":82},"flags":{"pinned":false},"order":118,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1582,"widget":{"name":"batch_size"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[],"shape":3,"slot_index":0}],"title":"Custom Size","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[320,480,4],"color":"#232","bgcolor":"#353"},{"id":2095,"type":"Get Image Size","pos":[1680,240],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":372,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6096}],"outputs":[{"name":"INT","type":"INT","links":[4655],"shape":3,"slot_index":0},{"name":"INT","type":"INT","links":[4656],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"Get Image Size"}},{"id":2238,"type":"Reroute","pos":[-2530,950],"size":[75,26],"flags":{},"order":103,"mode":0,"inputs":[{"name":"","type":"*","link":4915}],"outputs":[{"name":"","type":"IMAGE","links":[],"slot_index":0,"label":"Frames"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2239,"type":"Reroute","pos":[-2640,950],"size":[75,26],"flags":{},"order":101,"mode":0,"inputs":[{"name":"","type":"*","link":4916}],"outputs":[{"name":"","type":"IMAGE","links":[4954],"slot_index":0,"label":"Image"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2418,"type":"Reroute","pos":[-234.89101984635892,614.6234230871335],"size":[75,26],"flags":{},"order":281,"mode":0,"inputs":[{"name":"","type":"*","link":6104}],"outputs":[{"name":"","type":"CONDITIONING","links":[5937],"label":"Pos","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2417,"type":"Reroute","pos":[-234.89101984635892,644.6234230871335],"size":[75,26],"flags":{},"order":282,"mode":0,"inputs":[{"name":"","type":"*","link":6105}],"outputs":[{"name":"","type":"CONDITIONING","links":[5936],"label":"Neg","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":2390,"type":"Reroute","pos":[-234.89101984635892,414.6234230871337],"size":[75,26],"flags":{},"order":283,"mode":0,"inputs":[{"name":"","type":"*","link":6108}],"outputs":[{"name":"","type":"CONDITIONING","links":[],"slot_index":0,"label":"Pos"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2389,"type":"Reroute","pos":[-234.89101984635892,444.6234230871337],"size":[75,26],"flags":{},"order":284,"mode":0,"inputs":[{"name":"","type":"*","link":6109}],"outputs":[{"name":"","type":"CONDITIONING","links":[],"slot_index":0,"label":"Neg"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":2583,"type":"Get Image Size","pos":[2130,1800],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":376,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":5773}],"outputs":[{"name":"INT","type":"INT","links":[5774],"shape":3,"slot_index":0},{"name":"INT","type":"INT","links":[5775],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"Get Image Size"}},{"id":2584,"type":"ImageScale","pos":[2130,1830],"size":{"0":210,"1":122},"flags":{"collapsed":true},"order":391,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6116},{"name":"width","type":"INT","link":5774,"widget":{"name":"width"}},{"name":"height","type":"INT","link":5775,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5777,5783],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"disabled"]},{"id":2459,"type":"Reroute","pos":[1500,600],"size":[75,26],"flags":{},"order":388,"mode":0,"inputs":[{"name":"","type":"*","link":6134}],"outputs":[{"name":"","type":"LATENT","links":[5551],"label":"Latent","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2422,"type":"Reroute","pos":[1370,760],"size":[75,26],"flags":{},"order":397,"mode":0,"inputs":[{"name":"","type":"*","link":5785}],"outputs":[{"name":"","type":"CONDITIONING","links":[],"slot_index":0,"label":"Neg"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":1522,"type":"Reroute","pos":[781.7559027159498,1002.3057406608895],"size":[75,26],"flags":{"pinned":false},"order":373,"mode":0,"inputs":[{"name":"","type":"*","link":6225}],"outputs":[{"name":"","type":"IMAGE","links":[],"label":"Bodies","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":1529,"type":"IPAdapterApplyEncoded","pos":[1050,1060],"size":{"0":218.39999389648438,"1":214},"flags":{"pinned":false},"order":212,"mode":4,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":4663},{"name":"embeds","type":"EMBEDS","link":3396},{"name":"model","type":"MODEL","link":5423},{"name":"attn_mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[5424],"shape":3,"slot_index":0}],"title":"         Apply IPAdapter 1","properties":{"Node name for S&R":"IPAdapterApplyEncoded"},"widgets_values":[0.9,"channel penalty",0,1,false],"color":"#323","bgcolor":"#535"},{"id":1943,"type":"ACN_AdvancedControlNetApply","pos":[1450,1330],"size":{"0":230,"1":240},"flags":{"collapsed":true},"order":386,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":4251},{"name":"negative","type":"CONDITIONING","link":4252},{"name":"control_net","type":"CONTROL_NET","link":4246,"slot_index":2},{"name":"image","type":"IMAGE","link":4485},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null,"slot_index":5},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"start_percent","type":"FLOAT","link":4248,"widget":{"name":"start_percent"},"slot_index":8},{"name":"end_percent","type":"FLOAT","link":4249,"widget":{"name":"end_percent"},"slot_index":9},{"name":"strength","type":"FLOAT","link":4250,"widget":{"name":"strength"}}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[4260],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[4261],"shape":3,"slot_index":1}],"title":"Pix2Pix 1","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.4,0,1],"color":"#232","bgcolor":"#353"},{"id":2585,"type":"ACN_AdvancedControlNetApply","pos":[1460,1540],"size":{"0":230,"1":234},"flags":{"collapsed":true},"order":394,"mode":4,"inputs":[{"name":"positive","type":"CONDITIONING","link":5780},{"name":"negative","type":"CONDITIONING","link":5781},{"name":"control_net","type":"CONTROL_NET","link":5782,"slot_index":2},{"name":"image","type":"IMAGE","link":5783},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"strength","type":"FLOAT","link":5786,"widget":{"name":"strength"},"slot_index":8},{"name":"start_percent","type":"FLOAT","link":5787,"widget":{"name":"start_percent"},"slot_index":9},{"name":"end_percent","type":"FLOAT","link":5788,"widget":{"name":"end_percent"},"slot_index":10}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[5784],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[5785],"shape":3,"slot_index":1}],"title":"Lineart 1","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[1,0,1],"color":"#232","bgcolor":"#353"},{"id":1795,"type":"ACN_AdvancedControlNetApply","pos":[2260,1330],"size":{"0":230,"1":240},"flags":{"collapsed":true},"order":387,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":4311},{"name":"negative","type":"CONDITIONING","link":4312},{"name":"control_net","type":"CONTROL_NET","link":3934,"slot_index":2},{"name":"image","type":"IMAGE","link":4487},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null,"slot_index":5},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"start_percent","type":"FLOAT","link":4227,"widget":{"name":"start_percent"},"slot_index":8},{"name":"end_percent","type":"FLOAT","link":3937,"widget":{"name":"end_percent"},"slot_index":9},{"name":"strength","type":"FLOAT","link":4232,"widget":{"name":"strength"}}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[4315],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[4316],"shape":3,"slot_index":1}],"title":"Pix2Pix 2","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.4,0,1],"color":"#232","bgcolor":"#353"},{"id":1014,"type":"ACN_AdvancedControlNetApply","pos":[2240,1440],"size":{"0":230,"1":234},"flags":{"collapsed":true},"order":393,"mode":4,"inputs":[{"name":"positive","type":"CONDITIONING","link":4315},{"name":"negative","type":"CONDITIONING","link":4316},{"name":"control_net","type":"CONTROL_NET","link":6059,"slot_index":2},{"name":"image","type":"IMAGE","link":4489},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":4280},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"strength","type":"FLOAT","link":4231,"widget":{"name":"strength"},"slot_index":8},{"name":"start_percent","type":"FLOAT","link":4229,"widget":{"name":"start_percent"},"slot_index":9},{"name":"end_percent","type":"FLOAT","link":4230,"widget":{"name":"end_percent"},"slot_index":10}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[5767],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[5768],"shape":3,"slot_index":1}],"title":"TemporalNet 2","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[1,0,1],"color":"#232","bgcolor":"#353"},{"id":2580,"type":"ACN_AdvancedControlNetApply","pos":[2250,1540],"size":{"0":230,"1":234},"flags":{"collapsed":true},"order":395,"mode":4,"inputs":[{"name":"positive","type":"CONDITIONING","link":5767},{"name":"negative","type":"CONDITIONING","link":5768},{"name":"control_net","type":"CONTROL_NET","link":5771,"slot_index":2},{"name":"image","type":"IMAGE","link":5777},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"strength","type":"FLOAT","link":5791,"widget":{"name":"strength"},"slot_index":8},{"name":"start_percent","type":"FLOAT","link":5792,"widget":{"name":"start_percent"},"slot_index":9},{"name":"end_percent","type":"FLOAT","link":5793,"widget":{"name":"end_percent"},"slot_index":10}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[6121],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[6122],"shape":3,"slot_index":1}],"title":"Lineart 2","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[1,0,1],"color":"#232","bgcolor":"#353"},{"id":1945,"type":"ACN_AdvancedControlNetApply","pos":[1420,1440],"size":{"0":230,"1":234},"flags":{"collapsed":true},"order":392,"mode":4,"inputs":[{"name":"positive","type":"CONDITIONING","link":4260},{"name":"negative","type":"CONDITIONING","link":4261},{"name":"control_net","type":"CONTROL_NET","link":6060,"slot_index":2},{"name":"image","type":"IMAGE","link":4486},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":4279},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"strength","type":"FLOAT","link":4257,"widget":{"name":"strength"},"slot_index":8},{"name":"start_percent","type":"FLOAT","link":4258,"widget":{"name":"start_percent"},"slot_index":9},{"name":"end_percent","type":"FLOAT","link":4259,"widget":{"name":"end_percent"},"slot_index":10}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[5780],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[5781],"shape":3,"slot_index":1}],"title":"TemporalNet 1","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[1,0,1],"color":"#232","bgcolor":"#353"},{"id":1784,"type":"ACN_AdvancedControlNetApply","pos":[2230,1230],"size":{"0":230,"1":234},"flags":{"collapsed":true},"order":379,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":4313},{"name":"negative","type":"CONDITIONING","link":4314},{"name":"control_net","type":"CONTROL_NET","link":4265,"slot_index":2},{"name":"image","type":"IMAGE","link":6118},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null,"slot_index":5},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"strength","type":"FLOAT","link":4233,"widget":{"name":"strength"},"slot_index":8},{"name":"start_percent","type":"FLOAT","link":4234,"widget":{"name":"start_percent"},"slot_index":9},{"name":"end_percent","type":"FLOAT","link":4235,"widget":{"name":"end_percent"},"slot_index":10}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[4311],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[4312],"shape":3,"slot_index":1}],"title":"Tile Controlnet 2","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[1,0,1],"color":"#232","bgcolor":"#353"},{"id":1377,"type":"ACN_AdvancedControlNetApply","pos":[1420,1240],"size":{"0":230,"1":250},"flags":{"collapsed":true},"order":378,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":2970},{"name":"negative","type":"CONDITIONING","link":2971},{"name":"control_net","type":"CONTROL_NET","link":4264,"slot_index":2},{"name":"image","type":"IMAGE","link":6117},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"strength","type":"FLOAT","link":3220,"widget":{"name":"strength"},"slot_index":8},{"name":"start_percent","type":"FLOAT","link":3224,"widget":{"name":"start_percent"},"slot_index":9},{"name":"end_percent","type":"FLOAT","link":3225,"widget":{"name":"end_percent"},"slot_index":10}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[4251],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[4252],"shape":3,"slot_index":1}],"title":"Tile Controlnet 1","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[1,0,1],"color":"#232","bgcolor":"#353"},{"id":888,"type":"LoraLoader","pos":[-3400,460],"size":{"0":210,"1":130},"flags":{"pinned":false},"order":148,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":3219},{"name":"clip","type":"CLIP","link":2914}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1614],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[1611],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["hip_sway_dancev1.safetensors",0.8,1]},{"id":889,"type":"LoraLoader","pos":[-3410,640],"size":{"0":210,"1":130},"flags":{"pinned":false},"order":149,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":3114},{"name":"clip","type":"CLIP","link":2913}],"outputs":[{"name":"MODEL","type":"MODEL","links":[3139],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[3140],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["hip_sway_dancev1.safetensors",0.8,1]},{"id":2330,"type":"FILM VFI","pos":[5157.837661204898,1148.4462119778184],"size":{"0":310,"1":130},"flags":{},"order":519,"mode":4,"inputs":[{"name":"frames","type":"IMAGE","link":5736},{"name":"optional_interpolation_states","type":"INTERPOLATION_STATES","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"FILM VFI"},"widgets_values":["film_net_fp32.pt",12,2]},{"id":1247,"type":"RescaleCFG","pos":[-2812.7577077367573,525.4695924091808],"size":{"0":210,"1":60},"flags":{},"order":168,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":5965}],"outputs":[{"name":"MODEL","type":"MODEL","links":[5442],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"RescaleCFG"},"widgets_values":[0.6]},{"id":2460,"type":"Reroute","pos":[1370,500],"size":[75,26],"flags":{},"order":389,"mode":0,"inputs":[{"name":"","type":"*","link":5552}],"outputs":[{"name":"","type":"LATENT","links":[],"label":"Empty","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":1341,"type":"ACN_AdvancedControlNetApply","pos":[-190,780],"size":{"0":290,"1":250},"flags":{"collapsed":true},"order":277,"mode":4,"inputs":[{"name":"positive","type":"CONDITIONING","link":6102},{"name":"negative","type":"CONDITIONING","link":6103},{"name":"control_net","type":"CONTROL_NET","link":3133,"slot_index":2},{"name":"image","type":"IMAGE","link":2876},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"strength","type":"FLOAT","link":3489,"widget":{"name":"strength"}},{"name":"start_percent","type":"FLOAT","link":3491,"widget":{"name":"start_percent"}},{"name":"end_percent","type":"FLOAT","link":3493,"widget":{"name":"end_percent"}}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[6104],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[6105],"shape":3,"slot_index":1}],"title":"Tile Control 1","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.5,0,0.6],"color":"#432","bgcolor":"#653"},{"id":1344,"type":"ACN_AdvancedControlNetApply","pos":[-30,780],"size":{"0":290,"1":250},"flags":{"collapsed":true},"order":278,"mode":4,"inputs":[{"name":"positive","type":"CONDITIONING","link":6106},{"name":"negative","type":"CONDITIONING","link":6107},{"name":"control_net","type":"CONTROL_NET","link":3132,"slot_index":2},{"name":"image","type":"IMAGE","link":2891},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"strength","type":"FLOAT","link":3490,"widget":{"name":"strength"}},{"name":"start_percent","type":"FLOAT","link":3492,"widget":{"name":"start_percent"}},{"name":"end_percent","type":"FLOAT","link":3494,"widget":{"name":"end_percent"}}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[6108],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[6109],"shape":3,"slot_index":1}],"title":"Tile Control 2","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.5,0,0.6],"color":"#432","bgcolor":"#653"},{"id":2376,"type":"KSamplerAdvanced","pos":[-1950.060213757793,397.6190959351297],"size":{"0":320,"1":520},"flags":{},"order":249,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":5504},{"name":"positive","type":"CONDITIONING","link":5508},{"name":"negative","type":"CONDITIONING","link":5506},{"name":"latent_image","type":"LATENT","link":6277},{"name":"noise_seed","type":"INT","link":5330,"widget":{"name":"noise_seed"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[5331,5334],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",1035894920143512,"randomize",12,2.2,"lcm","sgm_uniform",0,12,"disable"]},{"id":2178,"type":"PrimitiveNode","pos":[3404.462085770454,-1003.8191914796099],"size":{"0":210,"1":80},"flags":{},"order":42,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[4799,4930],"widget":{"name":"min_value"},"slot_index":0}],"title":"Min Mask size","properties":{"Run widget replace on values":false},"widgets_values":[140,"fixed"],"color":"#232","bgcolor":"#353"},{"id":2452,"type":"PrimitiveNode","pos":[3383.595105757707,228.72002529158453],"size":{"0":210,"1":80},"flags":{"pinned":false},"order":43,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[5534,5536],"widget":{"name":"text"},"slot_index":0}],"properties":{"Run widget replace on values":false},"widgets_values":["Asian, lace, frills, jewellery"],"color":"#332922","bgcolor":"#593930"},{"id":2451,"type":"PrimitiveNode","pos":[3083.595105757707,228.72002529158453],"size":{"0":300,"1":80},"flags":{"pinned":false},"order":44,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[5533,5535],"widget":{"name":"text"},"slot_index":0}],"properties":{"Run widget replace on values":false},"widgets_values":["brown eyes"],"color":"#223","bgcolor":"#335"},{"id":2379,"type":"VAEDecode","pos":[180,170],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":290,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":5339},{"name":"vae","type":"VAE","link":5493}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5341,5342],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":2461,"type":"Reroute","pos":[1370,540],"size":[75,26],"flags":{},"order":381,"mode":0,"inputs":[{"name":"","type":"*","link":5553}],"outputs":[{"name":"","type":"LATENT","links":[6134],"label":"Image","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2554,"type":"LoadImage","pos":[2813.86005084567,1851.9203219073886],"size":{"0":450,"1":340},"flags":{},"order":45,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6048],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["2023_02_24__15_18_45_0 (1).png","image"],"color":"#232","bgcolor":"#353"},{"id":2608,"type":"ImageScale","pos":[2820.990044064161,2234.329272495853],"size":{"0":210,"1":130},"flags":{"collapsed":false},"order":157,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6038}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5899],"shape":3,"slot_index":0}],"title":"Upscale Cutout Face","properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",1024,1024,"disabled"],"color":"#232","bgcolor":"#353"},{"id":2689,"type":"ImageScaleBy","pos":[3050.9900440641604,2234.329272495853],"size":{"0":210,"1":82},"flags":{"collapsed":false},"order":98,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6048}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6049],"shape":3,"slot_index":0}],"title":"Downscale Input Image","properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",0.5],"color":"#232","bgcolor":"#353"},{"id":2685,"type":"CropFace","pos":[3090.9900440641604,2354.329272495852],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":125,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6049}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6057],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CropFace"},"widgets_values":["retinaface_resnet50"]},{"id":2683,"type":"Change Channel Count","pos":[3100.9900440641604,2394.329272495852],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":150,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6057}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6038],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2639,"type":"ImageBatch","pos":[2538.7700302405783,3113.2449096862533],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":529,"mode":2,"inputs":[{"name":"image1","type":"IMAGE","link":6034},{"name":"image2","type":"IMAGE","link":6136}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6065],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageBatch"}},{"id":2692,"type":"ImageBatch","pos":[2538.7700302405783,3083.244909686254],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":530,"mode":2,"inputs":[{"name":"image1","type":"IMAGE","link":6064},{"name":"image2","type":"IMAGE","link":6065}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6066],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageBatch"}},{"id":2636,"type":"Reroute","pos":[2478.7700302405783,2653.244909686255],"size":[75,26],"flags":{},"order":531,"mode":2,"inputs":[{"name":"","type":"*","link":6066}],"outputs":[{"name":"","type":"IMAGE","links":[5887],"label":"Faces","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":2605,"type":"Preview Chooser","pos":[2558.7700302405783,2683.244909686255],"size":{"0":700,"1":350},"flags":{},"order":532,"mode":2,"inputs":[{"name":"images","type":"IMAGE","link":5887},{"name":"latents","type":"LATENT","link":null}],"outputs":[{"name":"images","type":"IMAGE","links":[5872,5873,5874],"shape":3,"slot_index":0},{"name":"latent","type":"LATENT","links":null,"shape":3}],"properties":{"Node name for S&R":"Preview Chooser"},"widgets_values":["Only pause if batch",2,"",""]},{"id":2631,"type":"ImageSelector","pos":[3108.7700302405783,3093.244909686254],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":533,"mode":2,"inputs":[{"name":"images","type":"IMAGE","link":5872}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5862],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageSelector"},"widgets_values":["1"]},{"id":2028,"type":"Reroute","pos":[1370,1080],"size":[75,26],"flags":{},"order":370,"mode":0,"inputs":[{"name":"","type":"*","link":5909}],"outputs":[{"name":"","type":"IMAGE","links":[4485,4486,4487,4489,5773,6114,6117,6118,6137],"slot_index":0,"label":"Bodies"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2706,"type":"HEDPreprocessor","pos":[1730,1760],"size":{"0":210,"1":82},"flags":{},"order":380,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6137}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"HEDPreprocessor"},"widgets_values":["enable",320],"color":"#232","bgcolor":"#353"},{"id":2707,"type":"Reroute","pos":[1980,1790],"size":[75,26],"flags":{},"order":385,"mode":0,"inputs":[{"name":"","type":"*","link":6115}],"outputs":[{"name":"","type":"IMAGE","links":[6116],"slot_index":0,"label":"Used"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2349,"type":"Reroute","pos":[2983.595105757707,388.72002529158453],"size":[75,26],"flags":{},"order":226,"mode":0,"inputs":[{"name":"","type":"*","link":6300}],"outputs":[{"name":"","type":"MODEL","links":[6140,6143],"slot_index":0,"label":"Model 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2353,"type":"Reroute","pos":[2981.500160456064,418.37994443370064],"size":[75,26],"flags":{},"order":175,"mode":0,"inputs":[{"name":"","type":"*","link":5528}],"outputs":[{"name":"","type":"CLIP","links":[5402,5403],"slot_index":0,"label":"Clip 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#432","bgcolor":"#653"},{"id":2445,"type":"Reroute","pos":[2981.500160456064,478.37994443369985],"size":[75,26],"flags":{},"order":477,"mode":0,"inputs":[{"name":"","type":"*","link":5524}],"outputs":[{"name":"","type":"CONDITIONING","links":[6145],"slot_index":0,"label":"Pos"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2446,"type":"Reroute","pos":[2981.500160456064,508.37994443369985],"size":[75,26],"flags":{},"order":478,"mode":0,"inputs":[{"name":"","type":"*","link":5525}],"outputs":[{"name":"","type":"CONDITIONING","links":[6146],"slot_index":0,"label":"Neg"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":2354,"type":"Reroute","pos":[2981.500160456064,448.37994443370053],"size":[75,26],"flags":{},"order":224,"mode":0,"inputs":[{"name":"","type":"*","link":5456}],"outputs":[{"name":"","type":"VAE","links":[6144,6147],"slot_index":0,"label":"VAE 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2444,"type":"Reroute","pos":[2981.500160456064,668.3799444337],"size":[75,26],"flags":{},"order":181,"mode":0,"inputs":[{"name":"","type":"*","link":5523}],"outputs":[{"name":"","type":"VAE","links":[6148],"label":"VAE 2","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2714,"type":"Reroute","pos":[3435.5980935759803,2024.314075683448],"size":[75,26],"flags":{},"order":245,"mode":4,"inputs":[{"name":"","type":"*","link":6141}],"outputs":[{"name":"","type":"MODEL","links":[],"slot_index":0,"label":"Model 2"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2716,"type":"Reroute","pos":[3435.5980935759803,2054.3140756834487],"size":[75,26],"flags":{},"order":200,"mode":4,"inputs":[{"name":"","type":"*","link":6148}],"outputs":[{"name":"","type":"VAE","links":[],"slot_index":0,"label":"VAE 2"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2484,"type":"Reroute","pos":[3435.5980935759803,2084.3140756834487],"size":[75,26],"flags":{},"order":514,"mode":4,"inputs":[{"name":"","type":"*","link":5615}],"outputs":[{"name":"","type":"CONDITIONING","links":[],"label":"Pos 2","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2485,"type":"Reroute","pos":[3435.5980935759803,2114.3140756834487],"size":[75,26],"flags":{},"order":515,"mode":4,"inputs":[{"name":"","type":"*","link":5616}],"outputs":[{"name":"","type":"CONDITIONING","links":[],"label":"Neg 2","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":2548,"type":"PreviewImage","pos":[3665.5980935759803,1944.3140756834484],"size":{"0":350,"1":340},"flags":{},"order":528,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":6180}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":2468,"type":"KSamplerAdvanced","pos":[4055.59809357598,1764.3140756834482],"size":{"0":320,"1":520},"flags":{},"order":522,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":6168},{"name":"positive","type":"CONDITIONING","link":6171},{"name":"negative","type":"CONDITIONING","link":6172},{"name":"latent_image","type":"LATENT","link":5582},{"name":"noise_seed","type":"INT","link":5578,"widget":{"name":"noise_seed"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[5583],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",1035894920143512,"randomize",6,2,"lcm","sgm_uniform",2,10000,"disable"]},{"id":2719,"type":"Reroute","pos":[3565.5980935759803,1914.3140756834484],"size":[75,26],"flags":{},"order":247,"mode":4,"inputs":[{"name":"","type":"*","link":6164}],"outputs":[{"name":"","type":"VAE","links":[6165,6166],"slot_index":0,"label":"VAE"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2487,"type":"Reroute","pos":[3435.5980935759803,1944.3140756834484],"size":[75,26],"flags":{},"order":513,"mode":4,"inputs":[{"name":"","type":"*","link":5608}],"outputs":[{"name":"","type":"CONDITIONING","links":[6169],"slot_index":0,"label":"Neg 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":2486,"type":"Reroute","pos":[3435.5980935759803,1914.3140756834484],"size":[75,26],"flags":{},"order":512,"mode":4,"inputs":[{"name":"","type":"*","link":5607}],"outputs":[{"name":"","type":"CONDITIONING","links":[6170],"slot_index":0,"label":"Pos 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2713,"type":"Reroute","pos":[3435.5980935759803,1854.3140756834482],"size":[75,26],"flags":{},"order":239,"mode":4,"inputs":[{"name":"","type":"*","link":6140}],"outputs":[{"name":"","type":"MODEL","links":[6167],"slot_index":0,"label":"Model 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2715,"type":"Reroute","pos":[3435.5980935759803,1884.3140756834482],"size":[75,26],"flags":{},"order":238,"mode":4,"inputs":[{"name":"","type":"*","link":6147}],"outputs":[{"name":"","type":"VAE","links":[6164],"label":"VAE 1","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2720,"type":"Reroute","pos":[3565.5980935759803,1884.3140756834482],"size":[75,26],"flags":{},"order":248,"mode":4,"inputs":[{"name":"","type":"*","link":6167}],"outputs":[{"name":"","type":"MODEL","links":[6168],"slot_index":0,"label":"Model"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2722,"type":"Reroute","pos":[3565.5980935759803,1944.3140756834484],"size":[75,26],"flags":{},"order":517,"mode":4,"inputs":[{"name":"","type":"*","link":6170}],"outputs":[{"name":"","type":"CONDITIONING","links":[6171],"slot_index":0,"label":"Pos"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2721,"type":"Reroute","pos":[3565.5980935759803,1974.3140756834484],"size":[75,26],"flags":{},"order":518,"mode":4,"inputs":[{"name":"","type":"*","link":6169}],"outputs":[{"name":"","type":"CONDITIONING","links":[6172],"slot_index":0,"label":"Neg"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":2327,"type":"ReActorFaceSwap","pos":[4049.839103003499,2519.155419741935],"size":{"0":315,"1":338},"flags":{},"order":500,"mode":0,"inputs":[{"name":"input_image","type":"IMAGE","link":5896,"label":"Main Image","slot_index":0},{"name":"source_image","type":"IMAGE","link":6031,"slot_index":1,"label":"Face"},{"name":"face_model","type":"FACE_MODEL","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6175],"shape":3,"slot_index":0},{"name":"FACE_MODEL","type":"FACE_MODEL","links":null,"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ReActorFaceSwap"},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","codeformer.pth",1,0.5,"no","no","0","0",1],"color":"#232","bgcolor":"#353"},{"id":2574,"type":"Note","pos":[4039.839103003499,2909.155419741935],"size":{"0":330,"1":200},"flags":{},"order":46,"mode":0,"properties":{"text":""},"widgets_values":["Face replacement choices, \n\nDefault brings in the above faces from the image/video\nLoaded brings in your image from the load here\nPicks brings in the selectors choices\n\nSource faces index and input faces index can be 0 for 1 face\n0,1 for two faces, 0,1,2 for three.\n\nYou need to make sure you send in the same number of faces you want to swap\n\nCan swap female or male."],"color":"#432","bgcolor":"#653"},{"id":2690,"type":"PreviewImage","pos":[3559.8391030035014,2519.155419741935],"size":{"0":470,"1":580},"flags":{},"order":170,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":6061}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#232","bgcolor":"#353"},{"id":2550,"type":"Reroute","pos":[4799.839103003498,2449.1554197419355],"size":[75,26],"flags":{},"order":507,"mode":0,"inputs":[{"name":"","type":"*","link":6178}],"outputs":[{"name":"","type":"IMAGE","links":[5798,6196],"slot_index":0,"label":"Images"}],"properties":{"showOutputText":false,"horizontal":false}},{"id":2724,"type":"Change Channel Count","pos":[4589.839103003498,2479.1554197419355],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":504,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6177}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6178],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2246,"type":"PreviewImage","pos":[3489.4992158504033,-262.4375226197001],"size":{"0":350,"1":330},"flags":{},"order":441,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":5992}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":2497,"type":"CropFace","pos":[3895.5980935759785,1784.3140756834482],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":501,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":5722}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5638],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CropFace"},"widgets_values":["YOLOv5l"]},{"id":2473,"type":"ImageScale","pos":[3895.5980935759785,1814.3140756834482],"size":{"0":210,"1":122},"flags":{"collapsed":true},"order":503,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":5638},{"name":"width","type":"INT","link":5587,"widget":{"name":"width"}},{"name":"height","type":"INT","link":5588,"widget":{"name":"height"},"slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5589,6132],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",1024,1024,"disabled"]},{"id":2470,"type":"VAEEncode","pos":[3895.5980935759785,1854.3140756834482],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":505,"mode":4,"inputs":[{"name":"pixels","type":"IMAGE","link":5589},{"name":"vae","type":"VAE","link":6166}],"outputs":[{"name":"LATENT","type":"LATENT","links":[5582],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":2471,"type":"VAEDecode","pos":[3695.5980935759803,1884.3140756834482],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":525,"mode":4,"inputs":[{"name":"samples","type":"LATENT","link":5583},{"name":"vae","type":"VAE","link":6165}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5752],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":2027,"type":"Reroute","pos":[1144.2391690075697,-314.252745675218],"size":[75,26],"flags":{},"order":305,"mode":0,"inputs":[{"name":"","type":"*","link":6185}],"outputs":[{"name":"","type":"IMAGE","links":[4639,6182],"slot_index":0,"label":"Images"}],"properties":{"showOutputText":false,"horizontal":false}},{"id":2050,"type":"Reroute","pos":[1176.7328564551497,-796.3474861818737],"size":[75,26],"flags":{},"order":307,"mode":0,"inputs":[{"name":"","type":"*","link":6182}],"outputs":[{"name":"","type":"IMAGE","links":[4641,6183],"slot_index":0,"label":"Images"}],"properties":{"showOutputText":false,"horizontal":false}},{"id":815,"type":"Reroute","pos":[988.0190326049119,-319.914625512246],"size":[75,26],"flags":{},"order":303,"mode":0,"inputs":[{"name":"","type":"*","link":4619}],"outputs":[{"name":"","type":"IMAGE","links":[4644,6185],"slot_index":0,"label":"Image"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2053,"type":"Reroute","pos":[345.1682652917709,-798.992444368314],"size":[75,26],"flags":{},"order":310,"mode":2,"inputs":[{"name":"","type":"*","link":6183}],"outputs":[{"name":"","type":"IMAGE","links":[4640,4642,6186],"slot_index":0,"label":"Images"}],"properties":{"showOutputText":false,"horizontal":false}},{"id":2557,"type":"Reroute","pos":[3433.1385695075,1703.1385695075],"size":[75,26],"flags":{},"order":494,"mode":4,"inputs":[{"name":"","type":"*","link":5943}],"outputs":[{"name":"","type":"IMAGE","links":[5751],"slot_index":0,"label":"Images"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2469,"type":"ImageSelector","pos":[3673.1385695075,1753.1385695075],"size":{"0":210,"1":60},"flags":{"collapsed":false},"order":497,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":5751}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5721],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageSelector"},"widgets_values":["1"],"color":"#232","bgcolor":"#353"},{"id":2589,"type":"Reroute","pos":[4623.595105757708,158.72002529158453],"size":[75,26],"flags":{},"order":492,"mode":0,"inputs":[{"name":"","type":"*","link":5949}],"outputs":[{"name":"","type":"IMAGE","links":[5796,5943,6156,6188],"slot_index":0,"label":"Images"}],"properties":{"showOutputText":false,"horizontal":false}},{"id":2728,"type":"Note","pos":[3740,1650],"size":{"0":210,"1":58},"flags":{},"order":47,"mode":4,"properties":{"text":""},"widgets_values":["Set group nodes to never\nto disable"],"color":"#432","bgcolor":"#653"},{"id":2695,"type":"SetMetadataForSaveVideo","pos":[5163.664259929019,1571.8814457801077],"size":{"0":315,"1":106},"flags":{"collapsed":false},"order":48,"mode":4,"outputs":[{"name":"METADATA","type":"STRING","links":[6069],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SetMetadataForSaveVideo"},"widgets_values":[1,12,"manual"]},{"id":2221,"type":"Note","pos":[-3920,920],"size":{"0":230,"1":720},"flags":{},"order":49,"mode":0,"properties":{"text":""},"widgets_values":["Animate diff settings - These settings are mirrored across both models\n\nNew V3 Model works amazing!\nhttps://github.com/guoyww/AnimateDiff\n\nV3 Motion lora goes in below Bypass if not using V3 or dont want to use it.. \n\nBase resolution is up to your vram and frames, i do 320x480 for base from the custom latent. Upscale 1.5 and 1.5. Can do more.\nFirst upscale is still batched so be careful not to go too big here.\n\nMotion model - Load the motion model here\nV2 Model - If you are using a V2 Model, check this box to true\nPE Scale - Speed of animation, can slow down jerky movement, but it's buggy, default 0 \nMotion Scale - how fast the animation. Some models like it low, some high, range of 0.8-1.2\nBeta Schedule - choose what you need labels are there\n\nContext Options\nContext length is how long the context will be. 16-32 work on V2 models, 24 for older. I used 16 for nearly all due to going higher, washing out the video background/setting.  But it stabilizes the subject a lot, so can be used to get motion data to later replace the background.\nContext stride - used to extend the context window. Not an expert, but\n  - 16 1 4 works well for 16\n  - 16 2 4 works well for 32\n  - 16 4 4 works well for 48\nThese can go up or down for stride, can go up to 8 from what I can tell.  Not much help after 6 though.\nClosed loop - tries to make a closed loop video... From what I can tell it does this all the time and this setting does nothing but take longer to make. But up to you if you use it.\n\nTo use this, right-click the group top and \"set group nodes to always\".  To disable, right-click the group top and select \"bypass group nodes\""],"color":"#432","bgcolor":"#653"},{"id":2453,"type":"CLIPTextEncode","pos":[3313.595105757707,198.72002529158453],"size":{"0":210,"1":54},"flags":{"collapsed":true},"order":203,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5537},{"name":"text","type":"STRING","link":5536,"widget":{"name":"text"},"slot_index":1}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[5567,5604],"shape":3,"slot_index":0}],"title":"Positive","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["Asian, lace, frills, jewellery"],"color":"#223","bgcolor":"#335"},{"id":2454,"type":"CLIPTextEncode","pos":[3423.595105757707,198.72002529158453],"size":{"0":210,"1":54},"flags":{"collapsed":true},"order":204,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5538},{"name":"text","type":"STRING","link":5535,"widget":{"name":"text"},"slot_index":1}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[5566,5605],"shape":3,"slot_index":0}],"title":"Negative","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["brown eyes"],"color":"#332922","bgcolor":"#593930"},{"id":2398,"type":"CLIPTextEncode","pos":[3203.595105757707,198.72002529158453],"size":{"0":210,"1":54},"flags":{"collapsed":true},"order":191,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5403},{"name":"text","type":"STRING","link":5534,"widget":{"name":"text"},"slot_index":1}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[5405,5602],"shape":3,"slot_index":0}],"title":"Negative","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["Asian, lace, frills, jewellery"],"color":"#332922","bgcolor":"#593930"},{"id":2397,"type":"CLIPTextEncode","pos":[3113.595105757707,198.72002529158453],"size":{"0":210,"1":54},"flags":{"collapsed":true},"order":190,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5402},{"name":"text","type":"STRING","link":5533,"widget":{"name":"text"},"slot_index":1}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[5404,5603],"shape":3,"slot_index":0}],"title":"Positive","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["brown eyes"],"color":"#223","bgcolor":"#335"},{"id":2450,"type":"Reroute","pos":[2953.595105757707,838.7200252915845],"size":[75,26],"flags":{},"order":471,"mode":0,"inputs":[{"name":"","type":"*","link":5858}],"outputs":[{"name":"","type":"IMAGE","links":[5531,5532],"slot_index":0,"label":"Images"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2449,"type":"ACN_AdvancedControlNetApply","pos":[3043.595105757707,898.7200252915845],"size":{"0":290,"1":250},"flags":{"collapsed":true},"order":475,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":5567},{"name":"negative","type":"CONDITIONING","link":5566},{"name":"control_net","type":"CONTROL_NET","link":5529},{"name":"image","type":"IMAGE","link":5532},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[5539],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[5540],"shape":3,"slot_index":1}],"title":"Tile Controlnet 2","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[1,0,1],"color":"#432","bgcolor":"#653"},{"id":2357,"type":"ACN_AdvancedControlNetApply","pos":[3043.595105757707,838.7200252915845],"size":{"0":290,"1":250},"flags":{"collapsed":true},"order":474,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":5404},{"name":"negative","type":"CONDITIONING","link":5405},{"name":"control_net","type":"CONTROL_NET","link":5270},{"name":"image","type":"IMAGE","link":5531},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[5524],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[5525],"shape":3,"slot_index":1}],"title":"Tile Controlnet 1","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[1,0,1],"color":"#432","bgcolor":"#653"},{"id":2483,"type":"ACN_AdvancedControlNetApply","pos":[3500,2290],"size":{"0":290,"1":250},"flags":{"collapsed":true},"order":509,"mode":4,"inputs":[{"name":"positive","type":"CONDITIONING","link":5604},{"name":"negative","type":"CONDITIONING","link":5605},{"name":"control_net","type":"CONTROL_NET","link":5601},{"name":"image","type":"IMAGE","link":5619},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[5615],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[5616],"shape":3,"slot_index":1}],"title":"Tile Controlnet 2","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[1,0,1],"color":"#432","bgcolor":"#653"},{"id":2476,"type":"ACN_AdvancedControlNetApply","pos":[3500,2220],"size":{"0":290,"1":250},"flags":{"collapsed":true},"order":508,"mode":4,"inputs":[{"name":"positive","type":"CONDITIONING","link":5603},{"name":"negative","type":"CONDITIONING","link":5602},{"name":"control_net","type":"CONTROL_NET","link":5591},{"name":"image","type":"IMAGE","link":5618},{"name":"mask_optional","type":"MASK","link":null},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[5607],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[5608],"shape":3,"slot_index":1}],"title":"Tile Controlnet 1","properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[1,0,1],"color":"#432","bgcolor":"#653"},{"id":2565,"type":"Note","pos":[1390,1930],"size":{"0":1000,"1":390},"flags":{},"order":50,"mode":0,"properties":{"text":""},"widgets_values":["Upscaling bodies options Warning all controlnets are for 1.5, you need a 1.5 model for these as it needs tile at least\n\nThis cuts out bodies masked above and upscales/enhances them, then pastes them back to the image.\n\n2 model options like before\nConnect Model/VAE/POS/NEG of the model you would like to use.\n\nSteps can be anything really. start 0-6 end 8-16?  anything really, i use 0-8 or 0-12.  Adding size in the upscale before this helps more than more steps imo.\n\n2 Options for the latent to use. IMPORTANT - use Image latent if multiple people will be being enhanced.  Masks need it. 1 person works fine with empty.\nEmpty - This is an empty latent (batch) that works because of the control nets.  Helps stop image burning from using strong control nets.  However, it only works with 1 person, multiple masks wont work this way,\nImage - This is the images passed in from the previous step. - can use this if you do not want to 100% denoise and start the steps at 2-6.  This is faster, but some models burn the images\n\nUpscale option here. Only upscales for the fixing and then downsamples. 1.2-2 is ok, it's not needed, but small bases (animations) can benefit.\n\nPrompt should enforce colours used in previous prompts\n\n4 Control nets setup\n\nTile and pix to pix are used for images to hold the body and colours.\nTemporal net is used for animations if you want. Not 100% needed I think\nLine art is used for animations to hold consistency. Can use hed if you like, just connect the HED to the used node and change the line art control model.\nDon't go too high on line art res, it grabs random stuff that causes inconsistency.  Little bumps in the original video become more pronounced.\n\nFor videos I use all 4 controlnets at default settings currently\nfor videos, you can start steps at 2-4 if too many changes or flicker\n\nUsing negatives here is important.  This likes to put nipples on things.  It's obsessed on putting nipple pokies on everyone.... Negative out anything that shows up that you don't want."],"color":"#432","bgcolor":"#653"},{"id":2495,"type":"RIFE VFI","pos":[5157.837661204898,1328.4462119778184],"size":{"0":300,"1":200},"flags":{},"order":520,"mode":4,"inputs":[{"name":"frames","type":"IMAGE","link":5737},{"name":"optional_interpolation_states","type":"INTERPOLATION_STATES","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6194],"shape":3,"slot_index":0}],"title":"RIFE VFI","properties":{"Node name for S&R":"RIFE VFI"},"widgets_values":["rife47.pth",8,2,true,true,1]},{"id":2723,"type":"RebatchImages","pos":[4377.812507539899,2474.3749849202018],"size":{"0":320,"1":60},"flags":{"collapsed":true},"order":502,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":6175},{"name":"batch_size","type":"INT","link":6173,"widget":{"name":"batch_size"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6177],"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"RebatchImages"},"widgets_values":[4]},{"id":2488,"type":"Reroute","pos":[3410,2220],"size":[75,26],"flags":{},"order":506,"mode":4,"inputs":[{"name":"","type":"*","link":6132}],"outputs":[{"name":"","type":"IMAGE","links":[5618,5619],"slot_index":0,"label":"Images"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2558,"type":"Reroute","pos":[4360,1680],"size":[75,26],"flags":{},"order":526,"mode":4,"inputs":[{"name":"","type":"*","link":5752}],"outputs":[{"name":"","type":"IMAGE","links":[6033,6180],"label":"Face","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":2731,"type":"Note","pos":[3047.0885779718733,1742.9653960065643],"size":{"0":210,"1":58},"flags":{},"order":51,"mode":0,"properties":{"text":""},"widgets_values":["Set group nodes to never\nto disable"],"color":"#432","bgcolor":"#653"},{"id":2562,"type":"Reroute","pos":[3607.8125075399003,2454.3749849202018],"size":[75,26],"flags":{},"order":496,"mode":0,"inputs":[{"name":"","type":"*","link":6188}],"outputs":[{"name":"","type":"IMAGE","links":[5762],"label":"Images","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#222","bgcolor":"#000"},{"id":2563,"type":"Change Channel Count","pos":[3937.8125075399003,2474.3749849202018],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":498,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":5762}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5896],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2730,"type":"Note","pos":[3030,2620],"size":{"0":210,"1":58},"flags":{},"order":52,"mode":2,"properties":{"text":""},"widgets_values":["Set group nodes to never\nto disable"],"color":"#432","bgcolor":"#653"},{"id":2553,"type":"Reroute","pos":[5114.37456010196,1074.3297227084556],"size":[75,26],"flags":{},"order":516,"mode":4,"inputs":[{"name":"","type":"*","link":6197}],"outputs":[{"name":"","type":"IMAGE","links":[5736,5737,6070],"slot_index":0,"label":"Images"}],"properties":{"showOutputText":false,"horizontal":false}},{"id":2737,"type":"FaceRestoreWithModel","pos":[4938.564889834247,2523.7558820951012],"size":{"0":210,"1":80},"flags":{},"order":511,"mode":4,"inputs":[{"name":"facerestore_model","type":"FACERESTORE_MODEL","link":6195,"slot_index":0},{"name":"image","type":"IMAGE","link":6196}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6197],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"FaceRestoreWithModel"},"widgets_values":["retinaface_resnet50"]},{"id":2054,"type":"PreviewImage","pos":[1620,-290],"size":{"0":290,"1":370},"flags":{},"order":334,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":5983}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":2030,"type":"PrimitiveNode","pos":[1615.9958723208613,-1009.4807383817954],"size":{"0":210,"1":80},"flags":{},"order":53,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[4491,4492],"widget":{"name":"min_value"}}],"title":"Min Mask Size","properties":{"Run widget replace on values":false},"widgets_values":[320,"fixed"],"color":"#232","bgcolor":"#353"},{"id":2407,"type":"workflow/Bus","pos":[-2580,530],"size":{"0":140,"1":70},"flags":{},"order":171,"mode":0,"inputs":[{"name":"VAE","type":"VAE","link":5440},{"name":"CLIP","type":"CLIP","link":5441},{"name":"MODEL","type":"MODEL","link":5442}],"outputs":[{"name":"VAE","type":"VAE","links":[5431],"shape":3},{"name":"CLIP","type":"CLIP","links":[5434,5528,6085],"shape":3,"slot_index":1},{"name":"MODEL","type":"MODEL","links":[5436,6200],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"workflow/Bus"}},{"id":2409,"type":"workflow/Bus 2","pos":[-2580,660],"size":{"0":140,"1":70},"flags":{},"order":172,"mode":0,"inputs":[{"name":"VAE","type":"VAE","link":5446},{"name":"CLIP","type":"CLIP","link":5447},{"name":"MODEL","type":"MODEL","link":5448}],"outputs":[{"name":"VAE","type":"VAE","links":[5451,5460,5481,5523],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[5472,5522,6075],"shape":3,"slot_index":1},{"name":"MODEL","type":"MODEL","links":[5932,6201],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"workflow/Bus 2"}},{"id":1950,"type":"IPAdapterApplyEncoded","pos":[-2420,1230],"size":{"0":210,"1":214},"flags":{"pinned":false},"order":220,"mode":4,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":4268},{"name":"embeds","type":"EMBEDS","link":4269},{"name":"model","type":"MODEL","link":5475},{"name":"attn_mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[6203],"shape":3,"slot_index":0}],"title":"         Apply IPAdapter","properties":{"Node name for S&R":"IPAdapterApplyEncoded"},"widgets_values":[0.8,"channel penalty",0.001,1,false],"color":"#323","bgcolor":"#535"},{"id":1568,"type":"IPAdapterApplyEncoded","pos":[-144.23262544843786,1032.5715943070313],"size":{"0":210,"1":214},"flags":{"pinned":false},"order":215,"mode":4,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":null},{"name":"embeds","type":"EMBEDS","link":null},{"name":"model","type":"MODEL","link":5420},{"name":"attn_mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[6207],"shape":3,"slot_index":0}],"title":"         Apply IPAdapter","properties":{"Node name for S&R":"IPAdapterApplyEncoded"},"widgets_values":[0.8,"channel penalty",0,1,false],"color":"#323","bgcolor":"#535"},{"id":1542,"type":"Reroute","pos":[1080,980],"size":[75,26],"flags":{"pinned":false},"order":192,"mode":0,"inputs":[{"name":"","type":"*","link":5411}],"outputs":[{"name":"","type":"MODEL","links":[5423],"label":"Model 1","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":1449,"type":"ADE_AnimateDiffUnload","pos":[-3130,1420],"size":{"0":210,"1":26},"flags":{"collapsed":true,"pinned":false},"order":184,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":5932}],"outputs":[{"name":"MODEL","type":"MODEL","links":[5412,6292],"shape":3,"slot_index":0}],"title":"Unload 2","properties":{"Node name for S&R":"ADE_AnimateDiffUnload"},"color":"#222","bgcolor":"#000"},{"id":1539,"type":"ADE_AnimateDiffUnload","pos":[-3130,1370],"size":{"0":210,"1":26},"flags":{"collapsed":true,"pinned":false},"order":176,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":5436}],"outputs":[{"name":"MODEL","type":"MODEL","links":[5411,6293],"shape":3,"slot_index":0}],"title":"Unload 1","properties":{"Node name for S&R":"ADE_AnimateDiffUnload"},"color":"#222","bgcolor":"#000"},{"id":1291,"type":"CLIPTextEncode","pos":[-1540,130],"size":{"0":210,"1":54},"flags":{"collapsed":true,"pinned":false},"order":222,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5486},{"name":"text","type":"STRING","link":2794,"widget":{"name":"text"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[5483,6103],"shape":3,"slot_index":0}],"title":"Negative","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["Asian, embedding:bad-hands-5, lace, frills, jewellery, helmet, glasses, NSFW"],"color":"#332922","bgcolor":"#593930"},{"id":1290,"type":"CLIPTextEncode","pos":[-1980,130],"size":{"0":210,"1":54},"flags":{"collapsed":true,"pinned":false},"order":223,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5487},{"name":"text","type":"STRING","link":2792,"widget":{"name":"text"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[5482,6102],"shape":3,"slot_index":0}],"title":"Positive","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["1girl, a realistic video of a beautiful demon succubus swaying her hips teasing the viewer in a very dark bedroom, she is smiling menacingly, laughing, glowing red eyes, thick thighs, thigh gap, thigh high socks, horns, corset, panties, skirt, (hip sway:1.2)"],"color":"#223","bgcolor":"#335"},{"id":1249,"type":"CLIPTextEncode","pos":[-2090,130],"size":{"0":210,"1":54},"flags":{"collapsed":true,"pinned":false},"order":216,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5356},{"name":"text","type":"STRING","link":4037,"widget":{"name":"text"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[5476,6106],"shape":3,"slot_index":0}],"title":"Positive","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["1girl, a realistic video of a beautiful demon succubus swaying her hips teasing the viewer in a very dark bedroom, she is smiling menacingly, laughing, glowing red eyes, thick thighs, thigh gap, thigh high socks, horns, corset, panties, skirt, (hip sway:1.2)"],"color":"#223","bgcolor":"#335"},{"id":1250,"type":"CLIPTextEncode","pos":[-1650,130],"size":{"0":210,"1":54},"flags":{"collapsed":true,"pinned":false},"order":217,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5488},{"name":"text","type":"STRING","link":2720,"widget":{"name":"text"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[5477,6107],"shape":3,"slot_index":0}],"title":"Negative","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["Asian, embedding:bad-hands-5, lace, frills, jewellery, helmet, glasses, NSFW"],"color":"#332922","bgcolor":"#593930"},{"id":2157,"type":"ImpactSimpleDetectorSEGS","pos":[3086.5617535499023,-721.6875527793002],"size":{"0":210,"1":310},"flags":{},"order":420,"mode":0,"inputs":[{"name":"bbox_detector","type":"BBOX_DETECTOR","link":4773,"slot_index":0},{"name":"image","type":"IMAGE","link":4760},{"name":"sam_model_opt","type":"SAM_MODEL","link":4775},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":4776,"slot_index":3}],"outputs":[{"name":"SEGS","type":"SEGS","links":[4761],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactSimpleDetectorSEGS"},"widgets_values":[0.3,0,3,1,0.45,0,0,1,0],"color":"#232","bgcolor":"#353"},{"id":2738,"type":"FaceRestoreModelLoader","pos":[4938.564889834247,2423.755882095101],"size":{"0":210,"1":60},"flags":{},"order":54,"mode":4,"outputs":[{"name":"FACERESTORE_MODEL","type":"FACERESTORE_MODEL","links":[6195],"shape":3}],"properties":{"Node name for S&R":"FaceRestoreModelLoader"},"widgets_values":["codeformer.pth"]},{"id":2743,"type":"Reroute","pos":[-1530,760],"size":[75,26],"flags":{"pinned":true},"order":144,"mode":0,"inputs":[{"name":"","type":"*","link":6213}],"outputs":[{"name":"","type":"LATENT","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":765,"type":"Reroute","pos":[-1530,730],"size":[75,26],"flags":{"pinned":true},"order":138,"mode":0,"inputs":[{"name":"","type":"*","link":1316}],"outputs":[{"name":"","type":"LATENT","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":759,"type":"EmptyLatentImage","pos":[-1600,820],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":113,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1573,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1321],"shape":3,"slot_index":0}],"title":"480x640","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[480,640,4],"color":"#232","bgcolor":"#353","shape":1},{"id":2741,"type":"Reroute","pos":[-2060,720],"size":[75,26],"flags":{"pinned":true},"order":145,"mode":0,"inputs":[{"name":"","type":"*","link":6214}],"outputs":[{"name":"","type":"LATENT","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":745,"type":"EmptyLatentImage","pos":[-2120,780],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":104,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1324,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1309],"shape":3,"slot_index":0}],"title":"640x360","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[640,360,4],"color":"#232","bgcolor":"#353","shape":1},{"id":746,"type":"EmptyLatentImage","pos":[-2120,810],"size":{"0":210,"1":82},"flags":{"collapsed":true,"pinned":true},"order":105,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1325,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1314],"shape":3,"slot_index":0}],"title":"720x432","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[720,432,4],"color":"#232","bgcolor":"#353","shape":1},{"id":2740,"type":"EmptyLatentImage","pos":[-1600,790],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":119,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":6211,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[6213],"shape":3,"slot_index":0}],"title":"320x480","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[320,480,4],"color":"#232","bgcolor":"#353","shape":1},{"id":2742,"type":"EmptyLatentImage","pos":[-2120,750],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":120,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":6216,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[6214],"shape":3,"slot_index":0}],"title":"480x320","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[480,320,4],"color":"#232","bgcolor":"#353","shape":1},{"id":2747,"type":"Reroute","pos":[-1880,940],"size":[75,26],"flags":{"pinned":true},"order":146,"mode":0,"inputs":[{"name":"","type":"*","link":6220,"slot_index":0}],"outputs":[{"name":"","type":"LATENT","links":[],"slot_index":0}],"title":"Go","properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":2744,"type":"EmptyLatentImage","pos":[-1950,970],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":121,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":6217,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[6220],"shape":3,"slot_index":0}],"title":"512x512","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[512,512,4],"color":"#232","bgcolor":"#353","shape":1},{"id":2746,"type":"Reroute","pos":[-1710,940],"size":[75,26],"flags":{"pinned":true},"order":147,"mode":0,"inputs":[{"name":"","type":"*","link":6219,"slot_index":0}],"outputs":[{"name":"","type":"LATENT","links":null,"slot_index":0}],"title":"Go","properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":2745,"type":"EmptyLatentImage","pos":[-1790,970],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":122,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":6218,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[6219],"shape":3,"slot_index":0}],"title":"1024x1024","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[1024,1024,4],"color":"#232","bgcolor":"#353","shape":1},{"id":762,"type":"EmptyLatentImage","pos":[-1600,760],"size":{"0":210,"1":82},"flags":{"pinned":true,"collapsed":true},"order":112,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":1572,"widget":{"name":"batch_size"},"slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1316],"shape":3,"slot_index":0}],"title":"240x320","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[240,320,4],"color":"#232","bgcolor":"#353","shape":1},{"id":2748,"type":"Note","pos":[-1600,1020],"size":{"0":210,"1":60},"flags":{},"order":55,"mode":0,"properties":{"text":""},"widgets_values":["Portrait Aspects"],"color":"#432","bgcolor":"#653"},{"id":2749,"type":"Note","pos":[-2160,1020],"size":{"0":210,"1":60},"flags":{},"order":56,"mode":0,"properties":{"text":""},"widgets_values":["Widescreen Aspects"],"color":"#432","bgcolor":"#653"},{"id":1015,"type":"ControlNetLoaderAdvanced","pos":[450,850],"size":{"0":320,"1":60},"flags":{"collapsed":false},"order":57,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[3132,3133,4264,4265,5270,5529,5591,5601],"shape":3,"slot_index":0}],"title":"Load Tile Controlnet","properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["control_v11f1e_sd15_tile_fp16.safetensors"],"color":"#432","bgcolor":"#653"},{"id":2700,"type":"LoraLoader","pos":[-3430,1350],"size":{"0":210,"1":130},"flags":{"pinned":false,"collapsed":false},"order":185,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":6201},{"name":"clip","type":"CLIP","link":6075}],"outputs":[{"name":"MODEL","type":"MODEL","links":[6198,6206],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[6078,6209],"shape":3,"slot_index":1}],"title":"Motion Upscale Lora 2","properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["v3_sd15_adapter.ckpt",1,1]},{"id":1421,"type":"ImageScaleBy","pos":[1950,290],"size":{"0":210,"1":82},"flags":{"pinned":false},"order":367,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":4476}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5909,5924,6096,6225],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",1.5],"color":"#232","bgcolor":"#353"},{"id":2090,"type":"ImageScale","pos":[2328.8799860110803,-1085.0808013958804],"size":{"0":210,"1":122},"flags":{"collapsed":true},"order":342,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":4636},{"name":"width","type":"INT","link":4634,"widget":{"name":"width"}},{"name":"height","type":"INT","link":4635,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4637],"shape":3,"slot_index":0}],"title":"Restore Masks","properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"disabled"]},{"id":2650,"type":"Change Channel Count","pos":[4490,190],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":491,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6236}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5949],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":787,"type":"Reroute","pos":[-240,110],"size":[75,26],"flags":{},"order":275,"mode":0,"inputs":[{"name":"","type":"*","link":6232}],"outputs":[{"name":"","type":"IMAGE","links":[2876,2891,5012],"slot_index":0,"label":"Image"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":817,"type":"Reroute","pos":[-335.42571300500003,-25.915332541562226],"size":[75,26],"flags":{"pinned":false},"order":271,"mode":0,"inputs":[{"name":"","type":"*","link":1454}],"outputs":[{"name":"","type":"IMAGE","links":[6224,6232],"slot_index":0,"label":"Image"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":1297,"type":"Reroute","pos":[-335.42571300500003,4.084667458437815],"size":[75,26],"flags":{"pinned":false},"order":276,"mode":0,"inputs":[{"name":"","type":"*","link":2923}],"outputs":[{"name":"","type":"LATENT","links":[6233],"label":"Latent","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":794,"type":"PreviewImage","pos":[-1390,230],"size":{"0":540,"1":690},"flags":{},"order":256,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1495}],"title":"Base","properties":{"Node name for S&R":"PreviewImage"}},{"id":2077,"type":"Paste By Mask","pos":[2491.0728141801246,-479.4137173564686],"size":{"0":342.5999755859375,"1":118},"flags":{"collapsed":true},"order":365,"mode":0,"inputs":[{"name":"image_base","type":"IMAGE","link":5978},{"name":"image_to_paste","type":"IMAGE","link":6026},{"name":"mask","type":"IMAGE","link":5979},{"name":"mask_mapping_optional","type":"MASK_MAPPING","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4614],"shape":3,"slot_index":0}],"title":"Combine ","properties":{"Node name for S&R":"Paste By Mask"},"widgets_values":["resize"]},{"id":2660,"type":"Paste By Mask","pos":[4453.124351568602,-211.93758293889996],"size":{"0":230,"1":120},"flags":{"collapsed":true},"order":465,"mode":4,"inputs":[{"name":"image_base","type":"IMAGE","link":6051},{"name":"image_to_paste","type":"IMAGE","link":6054},{"name":"mask","type":"IMAGE","link":6055},{"name":"mask_mapping_optional","type":"MASK_MAPPING","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5971],"shape":3,"slot_index":0}],"title":"Combine","properties":{"Node name for S&R":"Paste By Mask"},"widgets_values":["resize"]},{"id":2161,"type":"Mask Morphology","pos":[3306.5617535499023,-641.6875527793002],"size":{"0":210,"1":82},"flags":{"collapsed":true},"order":431,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":4764}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4767],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Mask Morphology"},"widgets_values":[8,"open"]},{"id":2015,"type":"Mask Morphology","pos":[1440,-650],"size":{"0":210,"1":82},"flags":{"collapsed":true},"order":331,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":4455}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4544],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Mask Morphology"},"widgets_values":[8,"open"]},{"id":2717,"type":"RebatchImages","pos":[4240,190],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":490,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":6235},{"name":"batch_size","type":"INT","link":6154,"widget":{"name":"batch_size"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6236],"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"RebatchImages"},"widgets_values":[4]},{"id":2751,"type":"Reroute","pos":[4100,160],"size":[75,26],"flags":{},"order":489,"mode":0,"inputs":[{"name":"","type":"*","link":6226}],"outputs":[{"name":"","type":"IMAGE","links":[6235],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":2572,"type":"Note","pos":[4710,290],"size":{"0":210,"1":610},"flags":{},"order":58,"mode":0,"properties":{"text":""},"widgets_values":["Upscaling face options - Important this will error if no faces are found in any of the images in the batch/video\n\nThis cuts out faces masked above and upscales/enhances them, then pastes them back to the image.\n\n2 model options like before\nConnect Model/VAE/POS/NEG of the model you would like to use.\n\nChoose the size to make the faces for to enhance.  768 works well, as does 512.\n\nPrompt should enforce colours used in previous prompts and can change eye or lip colour.\n1 Control net\nTile used to hold the face and colours.\n\nIts kinda cool how it goes through each person, one buy one doing each frame in videos and keeps most consistancy."],"color":"#432","bgcolor":"#653"},{"id":1534,"type":"PrepImageForClipVision","pos":[-371.71944121093753,1072.238079589844],"size":{"0":210,"1":110},"flags":{"collapsed":false,"pinned":false},"order":126,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":5313}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3409],"shape":3,"slot_index":0}],"title":"Prepare Image","properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","pad",0.1],"color":"#323","bgcolor":"#535"},{"id":2060,"type":"Reroute","pos":[1971.0728141801246,-709.4137173564679],"size":[75,26],"flags":{},"order":315,"mode":0,"inputs":[{"name":"","type":"*","link":6186}],"outputs":[{"name":"","type":"IMAGE","links":[4819,6024],"label":"Images","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2062,"type":"Reroute","pos":[1971.0728141801246,-669.4137173564679],"size":[75,26],"flags":{},"order":339,"mode":0,"inputs":[{"name":"","type":"*","link":4638}],"outputs":[{"name":"","type":"IMAGE","links":[4564],"label":"Masks","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2020,"type":"Reroute","pos":[2551.0728141801246,-749.413717356468],"size":[75,26],"flags":{},"order":360,"mode":0,"inputs":[{"name":"","type":"*","link":4565}],"outputs":[{"name":"","type":"IMAGE","links":[4572],"slot_index":0,"label":"Bodies"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":1990,"type":"Cut By Mask","pos":[2291.0728141801246,-679.4137173564679],"size":{"0":230,"1":122},"flags":{"collapsed":true},"order":353,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4819},{"name":"mask","type":"IMAGE","link":4421},{"name":"mask_mapping_optional","type":"MASK_MAPPING","link":4558,"slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4435,6026],"shape":3,"slot_index":0}],"title":"Cut Images","properties":{"Node name for S&R":"Cut By Mask"},"widgets_values":[0,0]},{"id":2056,"type":"Reroute","pos":[2058.8799860110803,-1195.0808013958801],"size":[75,26],"flags":{},"order":324,"mode":4,"inputs":[{"name":"","type":"*","link":4615}],"outputs":[{"name":"","type":"IMAGE","links":[4623,4633],"slot_index":0,"label":"Box"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":1983,"type":"Separate Mask Components","pos":[2328.8799860110803,-1165.0808013958801],"size":{"0":201.60000610351562,"1":50},"flags":{"collapsed":true},"order":333,"mode":4,"inputs":[{"name":"mask","type":"IMAGE","link":4630}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4631],"shape":3,"slot_index":0},{"name":"MASK_MAPPING","type":"MASK_MAPPING","links":[4557],"shape":3,"slot_index":1}],"title":"Separate Mask","properties":{"Node name for S&R":"Separate Mask Components"}},{"id":1434,"type":"VHS_VideoCombine","pos":[770,190],"size":[320,730],"flags":{},"order":293,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":5342}],"outputs":[],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":12,"loop_count":4,"filename_prefix":"AnimateDiff","format":"image/webp","pingpong":false,"save_image":false,"crf":20,"save_metadata":false,"audio_file":"","videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00104.webp","subfolder":"","type":"temp","format":"image/webp"}}}},{"id":1432,"type":"VHS_VideoCombine","pos":[-810,230],"size":[320,540],"flags":{},"order":257,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":5426}],"outputs":[],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":12,"loop_count":4,"filename_prefix":"AnimateDiff","format":"image/webp","pingpong":false,"save_image":false,"crf":20,"save_metadata":false,"audio_file":"","videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00103.webp","subfolder":"","type":"temp","format":"image/webp"}}}},{"id":2105,"type":"Reroute","pos":[1990,210],"size":[75,26],"flags":{},"order":343,"mode":0,"inputs":[{"name":"","type":"*","link":6238,"pos":[37.5,0]}],"outputs":[{"name":"","type":"MASK_MAPPING","links":[4677],"label":"Map","slot_index":0}],"properties":{"showOutputText":false,"horizontal":true},"color":"#232","bgcolor":"#353"},{"id":2019,"type":"Get Image Size","pos":[1960,430],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":366,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4475}],"outputs":[{"name":"INT","type":"INT","links":[4462,4496],"shape":3,"slot_index":0},{"name":"INT","type":"INT","links":[4463,4497],"shape":3,"slot_index":1}],"title":"Size","properties":{"Node name for S&R":"Get Image Size"}},{"id":2672,"type":"PrimitiveNode","pos":[1860,-1260],"size":{"0":210,"1":80},"flags":{},"order":59,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[5994,5995,5996,5997,5998,5999,6000,6001,6002],"widget":{"name":"scale_by"},"slot_index":0}],"title":"Prevew Downscale","properties":{"Run widget replace on values":false},"widgets_values":[0.25,"fixed"]},{"id":2091,"type":"Reroute","pos":[1370,260],"size":[75,26],"flags":{},"order":304,"mode":0,"inputs":[{"name":"","type":"*","link":4644}],"outputs":[{"name":"","type":"IMAGE","links":[4645],"label":"Images","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":1373,"type":"Reroute","pos":[1370,290],"size":[75,26],"flags":{},"order":363,"mode":0,"inputs":[{"name":"","type":"*","link":4572}],"outputs":[{"name":"","type":"IMAGE","links":[4475,4476],"label":"Bodies","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2392,"type":"VAEDecode","pos":[1960,470],"size":{"0":140,"1":50},"flags":{"collapsed":true},"order":403,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":5383},{"name":"vae","type":"VAE","link":5519}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5384],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":2391,"type":"KSamplerAdvanced","pos":[1580,500],"size":{"0":320,"1":520},"flags":{},"order":402,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":5520},{"name":"positive","type":"CONDITIONING","link":5516},{"name":"negative","type":"CONDITIONING","link":5517},{"name":"latent_image","type":"LATENT","link":5551},{"name":"noise_seed","type":"INT","link":5382,"widget":{"name":"noise_seed"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[5383],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",1035894920143512,"randomize",8,1.8,"lcm","sgm_uniform",0,10000,"disable"]},{"id":2097,"type":"EmptyLatentImage","pos":[1350,430],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":382,"mode":0,"inputs":[{"name":"width","type":"INT","link":4655,"widget":{"name":"width"}},{"name":"height","type":"INT","link":4656,"widget":{"name":"height"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[5552],"shape":3,"slot_index":0}],"title":"Empty","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[512,512,1],"color":"#323","bgcolor":"#535"},{"id":1402,"type":"Reroute","pos":[1370,350],"size":[75,26],"flags":{},"order":358,"mode":0,"inputs":[{"name":"","type":"*","link":4574}],"outputs":[{"name":"","type":"IMAGE","links":[6246],"label":"Area","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2032,"type":"ImageScale","pos":[2100,430],"size":{"0":210,"1":122},"flags":{"collapsed":true},"order":404,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":5384},{"name":"width","type":"INT","link":4496,"widget":{"name":"width"}},{"name":"height","type":"INT","link":4497,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6261,6262],"shape":3,"slot_index":0}],"title":"Fix Image Sizes","properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"disabled"]},{"id":2560,"type":"Reroute","pos":[3260,2620],"size":[75,26],"flags":{},"order":543,"mode":2,"inputs":[{"name":"","type":"*","link":5857}],"outputs":[{"name":"","type":"IMAGE","links":[6263],"label":"Picks","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2682,"type":"Reroute","pos":[3457.8125075399003,2694.3749849202018],"size":[75,26],"flags":{},"order":167,"mode":0,"inputs":[{"name":"","type":"*","link":6276}],"outputs":[{"name":"","type":"IMAGE","links":[6031,6061],"slot_index":0,"label":"Used"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2625,"type":"Reroute","pos":[3240,2480],"size":[75,26],"flags":{},"order":161,"mode":0,"inputs":[{"name":"","type":"*","link":5899}],"outputs":[{"name":"","type":"IMAGE","links":[6136,6264],"label":"Loaded","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2626,"type":"Reroute","pos":[3407.8125075399003,2494.3749849202018],"size":[75,26],"flags":{},"order":527,"mode":0,"inputs":[{"name":"","type":"*","link":6033}],"outputs":[{"name":"","type":"IMAGE","links":[6034],"label":"Default","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2763,"type":"Reroute","pos":[3407.8125075399003,2544.3749849202018],"size":[75,26],"flags":{},"order":544,"mode":0,"inputs":[{"name":"","type":"*","link":6263}],"outputs":[{"name":"","type":"IMAGE","links":null,"label":"Picks"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2739,"type":"Note","pos":[4920,2670],"size":[240,170],"flags":{},"order":60,"mode":0,"properties":{"text":""},"widgets_values":["Face restore option if you are not using reactor, or it's bugging out with the workflow. "],"color":"#432","bgcolor":"#653"},{"id":2573,"type":"Note","pos":[4470,1700],"size":{"0":230,"1":540},"flags":{},"order":61,"mode":0,"properties":{"text":""},"widgets_values":["Face replacement\n\nThe node to the left is default disabled, its not needed most of the time if you have a photo already of a face you want to emulate.\n\nUseful for videos.  Bypass both the left and below groups to pass through and not do face replacement but still do frame interpolation next\n\nGroup to the right chooses 1 images from a image/batch and upscales it to use as a base for reactor face swap. \n\nif there is 2+ people in the photo or video, choose the one frame/batchnumber you want to use to crop faces from.  It will crop out all faces from that one frame/image and use them all in reactor.  You need to change reactor to accept multiple faces.\n\nCan set size of the face to use for reactor\nImage selector is used to select the image from a batch(frames) set this to 1 if only one image.\n\nUse model/vae from above to change model, the pos and neg are here to use.\n\nProblem with this is it does not respect the same limits given above, so you may end up swapping out a face in a painting...."],"color":"#432","bgcolor":"#653"},{"id":2575,"type":"Note","pos":[5350,750],"size":{"0":530,"1":220},"flags":{},"order":62,"mode":0,"properties":{"text":""},"widgets_values":["Frame interpolation raises 12 fps diff videos to 24. Or more.\n\nThis should be disabled unless you are using animate diff for animations.\n\nFilm VFI is my favourite but takes longest, rife is fast and decent quality.\nFrame Interpolator works well, Many other options from that node group.\n\nSave video is saved output\\n-suite\\videos\n\nCan save both video and frames\n\nIf using Film or Rife, set fps to the final fps you're aiming for. 24 for 2x, 36 for 3, 48 for embedding:zend4y4, \n\nIf using frame interpolator, set fps to 12 as it will change it when it does the interpolation\n"],"color":"#432","bgcolor":"#653"},{"id":2661,"type":"PreviewImage","pos":[4003.124351568604,-171.93758293889996],"size":{"0":600,"1":270},"flags":{},"order":469,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":5971}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":2301,"type":"PreviewImage","pos":[3486.5617535499023,-751.6875527793002],"size":{"0":310,"1":340},"flags":{},"order":444,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":5990}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":2076,"type":"PreviewImage","pos":[2032.8524264582502,-425.87498563615617],"size":{"0":570,"1":280},"flags":{},"order":369,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":4614}],"title":"Cut Out areas","properties":{"Node name for S&R":"PreviewImage"}},{"id":433,"type":"Constant Number","pos":[-517.5855337009602,-370.514676367886],"size":{"0":210,"1":122},"flags":{},"order":63,"mode":0,"inputs":[{"name":"number_as_text","type":"STRING","link":null,"widget":{"name":"number_as_text"}}],"outputs":[{"name":"NUMBER","type":"NUMBER","links":[747,748],"shape":3,"slot_index":0},{"name":"FLOAT","type":"FLOAT","links":[2817],"shape":3,"slot_index":1},{"name":"INT","type":"INT","links":null,"shape":3,"slot_index":2}],"title":"First Upscale","properties":{"Node name for S&R":"Constant Number"},"widgets_values":["float",1.5,""],"color":"#232","bgcolor":"#353"},{"id":2055,"type":"PreviewImage","pos":[1670,-760],"size":{"0":240,"1":340},"flags":{},"order":347,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":5985}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":444,"type":"Constant Number","pos":[709.244484799656,-170.1747042430494],"size":{"0":210,"1":122},"flags":{},"order":64,"mode":0,"inputs":[{"name":"number_as_text","type":"STRING","link":null,"widget":{"name":"number_as_text"}}],"outputs":[{"name":"NUMBER","type":"NUMBER","links":[772,775],"shape":3,"slot_index":0},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3,"slot_index":1},{"name":"INT","type":"INT","links":null,"shape":3}],"title":"Second Upscale","properties":{"Node name for S&R":"Constant Number"},"widgets_values":["float",1.5,""],"color":"#232","bgcolor":"#353"},{"id":1972,"type":"LoadImage","pos":[-2900,1160],"size":[230,310],"flags":{},"order":65,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4602,4620,4916,6295],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["2023_02_24__15_18_45_0.png","image"],"color":"#323","bgcolor":"#535"},{"id":2068,"type":"Reroute","pos":[2587.8872624920746,227.57081274191657],"size":[75,26],"flags":{},"order":410,"mode":0,"inputs":[{"name":"","type":"*","link":6274}],"outputs":[{"name":"","type":"IMAGE","links":[6255,6258,6260],"slot_index":0,"label":"Image"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2181,"type":"RebatchImages","pos":[2667.8872624920746,257.57081274191665],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":411,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":6255}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6267],"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"RebatchImages"},"widgets_values":[1]},{"id":2590,"type":"Note","pos":[-150,-180],"size":[750,250],"flags":{},"order":66,"mode":0,"properties":{"text":""},"widgets_values":["First upscale pass below, this is a batch process\n\nModel choice here same as before\nmodel/vae/pos/neg connect from your choice.\n\nSteps should anywhere from start at 4 to end at 12 CFG 1.3-2.2\nlcm sgm_uniform try others if you want\n\n3 options for the latent to use\n\nEmpty - This is an empty latent (batch) that works because of the control nets.  Helps stop image burning from using strong control nets.\nImage - This is the images passed in from the previous step.\nLatent - This is the latent from the previous step\n\nLatent or image is best here, empty only works with tile control net. and only if only 1 person in the video/photo\n"],"color":"#432","bgcolor":"#653"},{"id":1298,"type":"Reroute","pos":[-240,180],"size":[75,26],"flags":{},"order":280,"mode":0,"inputs":[{"name":"","type":"*","link":6233}],"outputs":[{"name":"","type":"LATENT","links":[6088],"label":"Latent","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2702,"type":"LoraLoader","pos":[-3650,1350],"size":{"0":210,"1":130},"flags":{"pinned":false,"collapsed":false},"order":177,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":6200},{"name":"clip","type":"CLIP","link":6085}],"outputs":[{"name":"MODEL","type":"MODEL","links":[6199,6205],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[6087,6208],"shape":3,"slot_index":1}],"title":"Motion Base Lora 1","properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["v3_sd15_adapter.ckpt",0.6,1]},{"id":551,"type":"PrimitiveNode","pos":[-1640,210],"size":{"0":220,"1":140},"flags":{"pinned":false},"order":67,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[2720,2794],"slot_index":0,"widget":{"name":"text"}}],"title":"Negative","properties":{"Run widget replace on values":false},"widgets_values":["Asian, embedding:bad-hands-5, lace, frills, jewellery, helmet, glasses, NSFW"],"color":"#332922","bgcolor":"#593930"},{"id":1371,"type":"PrimitiveNode","pos":[1460,280],"size":{"0":270,"1":180},"flags":{"pinned":true},"order":68,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[2951,2968],"widget":{"name":"text"},"slot_index":0}],"properties":{"Run widget replace on values":false},"widgets_values":["1girl, a realistic video of a beautiful demon succubus swaying her hips in a very dark bedroom, she is smiling menacingly, glowing red eyes, thick thighs, thigh gap, thigh high socks, horns, corset, panties, skirt, (hip sway:1.2)"],"color":"#223","bgcolor":"#335"},{"id":472,"type":"PrimitiveNode","pos":[-2150,200],"size":{"0":500,"1":140},"flags":{"pinned":false},"order":69,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[2792,4037],"slot_index":0,"widget":{"name":"text"}}],"title":"Postive ","properties":{"Run widget replace on values":false},"widgets_values":["1girl, a realistic video of a beautiful demon succubus swaying her hips teasing the viewer in a very dark bedroom, she is smiling menacingly, laughing, glowing red eyes, thick thighs, thigh gap, thigh high socks, horns, corset, panties, skirt, (hip sway:1.2)"],"color":"#223","bgcolor":"#335"},{"id":2762,"type":"Reroute","pos":[2477.8872624920746,237.57081274191668],"size":[75,26],"flags":{},"order":406,"mode":0,"inputs":[{"name":"","type":"*","link":6262}],"outputs":[{"name":"","type":"IMAGE","links":[],"label":"Off","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2022,"type":"AlphaChanelAddByMask","pos":[2062.85242645825,-105.8749856361563],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":405,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":6261},{"name":"mask","type":"MASK","link":4528}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4430],"shape":3,"slot_index":0}],"title":"Add Alpha","properties":{"Node name for S&R":"AlphaChanelAddByMask"},"widgets_values":["invert"]},{"id":1996,"type":"Paste By Mask","pos":[2212.85242645825,-105.8749856361563],"size":[230,120],"flags":{"collapsed":true},"order":407,"mode":0,"inputs":[{"name":"image_base","type":"IMAGE","link":4645},{"name":"image_to_paste","type":"IMAGE","link":4430},{"name":"mask","type":"IMAGE","link":6246},{"name":"mask_mapping_optional","type":"MASK_MAPPING","link":4677}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4816],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Paste By Mask"},"widgets_values":["source_size"]},{"id":2186,"type":"Change Channel Count","pos":[2372.85242645825,-105.8749856361563],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":408,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4816}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6249],"shape":3,"slot_index":0}],"title":"RGB","properties":{"Node name for S&R":"Change Channel Count"},"widgets_values":["RGB"]},{"id":2041,"type":"Image To Mask","pos":[2252.85242645825,-55.87498563615625],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":384,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":5805}],"outputs":[{"name":"MASK","type":"MASK","links":[4528],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Image To Mask"},"widgets_values":["alpha"]},{"id":2021,"type":"ImageScale","pos":[2082.85242645825,-55.87498563615625],"size":{"0":210,"1":122},"flags":{"collapsed":true},"order":375,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4582},{"name":"width","type":"INT","link":4462,"widget":{"name":"width"}},{"name":"height","type":"INT","link":4463,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5805],"shape":3,"slot_index":0}],"title":"Fix Mask Sizes","properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"disabled"]},{"id":2755,"type":"RebatchImages","pos":[2230,510],"size":{"0":320,"1":60},"flags":{"collapsed":true},"order":412,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":6258},{"name":"batch_size","type":"INT","link":6239,"widget":{"name":"batch_size"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6241],"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"RebatchImages"},"widgets_values":[4]},{"id":2693,"type":"FrameInterpolator","pos":[5169.586533844396,1723.844119423037],"size":{"0":315,"1":102},"flags":{},"order":521,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":6070},{"name":"METADATA","type":"STRING","link":6069,"widget":{"name":"METADATA"},"slot_index":1}],"outputs":[{"name":"IMAGES","type":"IMAGE","links":[6271],"shape":6,"slot_index":0},{"name":"METADATA","type":"STRING","links":[],"shape":3}],"properties":{"Node name for S&R":"FrameInterpolator"},"widgets_values":["",2]},{"id":2767,"type":"ImageListToImageBatch","pos":[5510,1750],"size":{"0":210,"1":26},"flags":{},"order":524,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":6271}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":3}],"properties":{"Node name for S&R":"ImageListToImageBatch"}},{"id":2709,"type":"Note","pos":[2820,2440],"size":{"0":430,"1":80},"flags":{},"order":70,"mode":0,"properties":{"text":""},"widgets_values":["Loading an image can be too large to crop face.  \n\nCan downscale the input image to properly crop the face,\nthen you can upscale the face cutout to 1024x1024."],"color":"#432","bgcolor":"#653"},{"id":2691,"type":"Note","pos":[2260,2700],"size":{"0":210,"1":410},"flags":{},"order":71,"mode":0,"properties":{"text":""},"widgets_values":["Face Chooser this shows you the faces from the left created mixed with the loaded image you provide Disable this whole step if only one face is being replaced\n\nReplacing faces occurs left to right, top to bottom\nSet count to the number of faces your selecting\nClick the faces in the order you want them replaced, the chooser will send the images to below in order clicked to combine them into 1 image for reactor.\n\nBypass 2 face/3 face when you only are replacing one, the chooser will show you all faces from the face enhance step, and the faces from load/enhance steps\n"],"color":"#432","bgcolor":"#653"},{"id":2579,"type":"Note","pos":[-3520,-650],"size":{"0":790,"1":570},"flags":{},"order":72,"mode":0,"properties":{"text":""},"widgets_values":["Welcome.  Hopefully this becomes than picture perfect \n\nBeta 2 - Think most bugs gone, runs fairly smooth.  If memory error and using fixed seed just try again.  most times it works\n\nThis is a huge workflow, and I don't know how much memory it takes for all the options.  12 GB seems working for everything I have tried, so I need testers.\n\nThis was a work in progress for months now and has been a thorn in my side figuring out how to make batches work.  Turns out I just needed comfy UI to add a rebatch images node. \n\nFeel free to play with any settings, mine are not set in stone. If anything does not work, let me know and I will try to fix it.\n\nBecause of its size, the more things you enable in this workflow, the more memory you will probably need.  Also, when you press queue, it can take a while to sort through hundreds of nodes to find out where things changed if you are using a fixed seed and changing something in the workflow. After a few videos, I reset the UI.  It's a lot of memory, and I think I'm getting close to the max number of nodes in 1 flow. (think this is fixed)\n\nThere is a lot here and I tried to make notes for all.  \n\nNew in this version\n\nFull batch processing, hence allowing animate diff to work\nIp adaptor integration.\nCropping initial images\nFull control net support\nReactor face swapping\nFrame Interpolation\nMany extra model options\nLCM\n2 masking options.\nControl of masks used, no more background objects\nBetter Person separation.\n\nBack and better\nFace and body enhancing working for both batches of images and video through animate diff.  400 seconds 16frame 960x1440 video on my 3060 starting from 320x480\nMore efficient masking with less unneeded masking tasks. Might be faster not sure really."],"color":"#432","bgcolor":"#653"},{"id":864,"type":"Note","pos":[-1520,-240],"size":[380,310],"flags":{},"order":73,"mode":0,"title":"Text to image first Upscale Notes","properties":{"text":""},"widgets_values":["Depending on your base size, you can upscale here from 1.0-3.0\n\nCropping the original base image/video \n\nfor videos you can do 512x512 base for best motion and then crop to your liking here for the upscale, upscale a bit more in this case.\n\nYou can choose to upscale with or without a model, bypass upscale with model to skip that step, It's not needed here, but it's an option.\n\nLatent Interposer lets you change the latent from xl to 1.5 and back without the vaedeocode. v1 is 1.5 xl is xl  Use this when you are using the latent upscale and are swapping in/out of xl and 1.5"],"color":"#432","bgcolor":"#653"},{"id":2769,"type":"Note","pos":[420,-320],"size":{"0":230,"1":80},"flags":{},"order":74,"mode":0,"properties":{"text":""},"widgets_values":["You can right-click and set group nodes to never for the upscales to hold the generation at that step."],"color":"#432","bgcolor":"#653"},{"id":2577,"type":"Note","pos":[120,1000],"size":[620,310],"flags":{},"order":75,"mode":0,"properties":{"text":""},"widgets_values":["Ip adaptor settings Bypass Apply ip adaptor if not using\n\ncan use the loaded image or the frames/images from the last generation. If using the frames check the option for unfold batch.\n\nPrepare image \nUse this to sharpen or crop the base image\n\nEncode Image Lets you Add more image to the referance if you want.\n\nNoise is used to add noise to change your base image more.\n\nWeight can be anything from .1 to 2 i think.  0.6-8 is where i use it.  \n\nWeight type\nI find channel penalty to give sharper results, test them out yourself.\n\nStart and end at determines how many steps to apply the adaptor to in a percent. Currently, 12-step default if i do 0.5 for end at it will stop adapting the image at 6 steps.\n\nMask can be used to only apply the adaptor to the person. on the last one."],"color":"#432","bgcolor":"#653"},{"id":2768,"type":"Note","pos":[-1010,-530],"size":[580,60],"flags":{},"order":76,"mode":0,"properties":{"text":""},"widgets_values":["You can right-click and set group nodes to never for the upscales to hold the generation at that step."],"color":"#432","bgcolor":"#653"},{"id":1372,"type":"PrimitiveNode","pos":[1730,280],"size":{"0":210,"1":180},"flags":{"pinned":true},"order":77,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[2952,2969],"widget":{"name":"text"},"slot_index":0}],"properties":{"Run widget replace on values":false},"widgets_values":["Asian, embedding:bad-hands-5, lace, frills, jewellery, (nipple:1.2)"],"color":"#332922","bgcolor":"#593930"},{"id":1378,"type":"CLIPTextEncode","pos":[1570,280],"size":{"0":210,"1":54},"flags":{"collapsed":true},"order":188,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":3888},{"name":"text","type":"STRING","link":2968,"widget":{"name":"text"},"slot_index":1}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[2970],"shape":3,"slot_index":0}],"title":"Positive","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["1girl, a realistic video of a beautiful demon succubus swaying her hips in a very dark bedroom, she is smiling menacingly, glowing red eyes, thick thighs, thigh gap, thigh high socks, horns, corset, panties, skirt, (hip sway:1.2)"],"color":"#223","bgcolor":"#335"},{"id":1004,"type":"CLIPTextEncode","pos":[1470,280],"size":{"0":210,"1":54},"flags":{"collapsed":true},"order":202,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5317},{"name":"text","type":"STRING","link":2951,"widget":{"name":"text"},"slot_index":1}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[4313],"shape":3,"slot_index":0}],"title":"Positive","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["1girl, a realistic video of a beautiful demon succubus swaying her hips in a very dark bedroom, she is smiling menacingly, glowing red eyes, thick thighs, thigh gap, thigh high socks, horns, corset, panties, skirt, (hip sway:1.2)"],"color":"#223","bgcolor":"#335"},{"id":1379,"type":"CLIPTextEncode","pos":[1730,280],"size":{"0":210,"1":54},"flags":{"collapsed":true},"order":189,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":3889},{"name":"text","type":"STRING","link":2969,"widget":{"name":"text"},"slot_index":1}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[2971],"shape":3,"slot_index":0}],"title":"Negative","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["Asian, embedding:bad-hands-5, lace, frills, jewellery, (nipple:1.2)"],"color":"#332922","bgcolor":"#593930"},{"id":1005,"type":"CLIPTextEncode","pos":[1820,280],"size":{"0":210,"1":54},"flags":{"collapsed":true},"order":201,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":3890},{"name":"text","type":"STRING","link":2952,"widget":{"name":"text"},"slot_index":1}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[4314],"shape":3,"slot_index":0}],"title":"Negative","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["Asian, embedding:bad-hands-5, lace, frills, jewellery, (nipple:1.2)"],"color":"#332922","bgcolor":"#593930"},{"id":1446,"type":"VAEEncode","pos":[-140,170],"size":{"0":140,"1":50},"flags":{"collapsed":true},"order":279,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":5012},{"name":"vae","type":"VAE","link":5492}],"outputs":[{"name":"LATENT","type":"LATENT","links":[5555],"shape":3,"slot_index":0}],"title":"Latent","properties":{"Node name for S&R":"VAEEncode"},"color":"#323","bgcolor":"#535"},{"id":1796,"type":"EmptyLatentImage","pos":[-30,170],"size":{"0":210,"1":74},"flags":{"collapsed":true},"order":269,"mode":0,"inputs":[{"name":"width","type":"INT","link":3942,"widget":{"name":"width"}},{"name":"height","type":"INT","link":3943,"widget":{"name":"height"}},{"name":"batch_size","type":"INT","link":3944,"widget":{"name":"batch_size"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[5901],"shape":3,"slot_index":0}],"title":"Empty","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[512,512,4],"color":"#323","bgcolor":"#535"},{"id":2766,"type":"Reroute","pos":[2787.8872624920746,167.57081274191648],"size":[75,26],"flags":{},"order":414,"mode":0,"inputs":[{"name":"","type":"*","link":6267}],"outputs":[{"name":"","type":"IMAGE","links":[6268,6269,6273],"slot_index":0,"label":"Chosen"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2761,"type":"Reroute","pos":[2477.8872624920746,197.5708127419165],"size":[75,26],"flags":{},"order":409,"mode":0,"inputs":[{"name":"","type":"*","link":6249}],"outputs":[{"name":"","type":"IMAGE","links":[6274],"slot_index":0,"label":"On"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":2576,"type":"Note","pos":[2060,-950],"size":[470,160],"flags":{},"order":78,"mode":0,"properties":{"text":""},"widgets_values":["Can Bypass this group if you want to process the entire Photo again in this step, If it's on it cuts out the people and repastes them at the end.  It can save time when the person is smaller in the photo or video than the full image.\n\nyou can do this step even without the person separation above when its one person or more it will just combine all masks\n\nConnect the masks you want to use from the left to the masks here\nSAM is default, but coco can be used"],"color":"#432","bgcolor":"#653"},{"id":2566,"type":"Note","pos":[2120,-1470],"size":{"0":360,"1":200},"flags":{},"order":79,"mode":0,"properties":{"text":""},"widgets_values":["Person Separation - you can bypass this group if only one person or many people touching or your not cutting out the people below.\n\nTanks more memory to do this\nThis works, pretty sure even on batches/animations\nIt separates the bboxs into separate images\n\nThis \"can\" separate the real masks to allow full separation of people instead of bboxes by dragging a mask from the left to the box input.  It works only if it's a perfect mask.  Otherwise, you end up overprocessing a lot. \n\nBboxes are fine for 99% of tasks.  But you have the option\n"],"color":"#432","bgcolor":"#653"},{"id":2567,"type":"Note","pos":[4760,-430],"size":{"0":210,"1":150},"flags":{},"order":80,"mode":0,"properties":{"text":""},"widgets_values":["face Cutting - Blur/padding help with blending back images.\n\nPadding can help give more room for context, 10-20 is good. Takes longer but good results from it\nBlur to help with blending.  "],"color":"#432","bgcolor":"#653"},{"id":2570,"type":"Note","pos":[4100,-950],"size":{"0":350,"1":140},"flags":{},"order":81,"mode":0,"properties":{"text":""},"widgets_values":["Face Separation\n\nThis works, pretty sure even on batches/animations\nIt separates the bboxs into separate images\n\nDownscale helps as separate masks takes a long time, and they are boxes we are down scaling."],"color":"#432","bgcolor":"#653"},{"id":2568,"type":"Note","pos":[2890,-1140],"size":{"0":210,"1":220},"flags":{},"order":82,"mode":0,"properties":{"text":""},"widgets_values":["Face Detection settings\n\nBbox Threshold - lower if nothing detected, and raise if too much is.\n\nIf boxes are here that are not things you want to enhance, stop and change the size in the options to something larger or smaller.\n\nMasking off faces of large videos takes alot of video memory."],"color":"#432","bgcolor":"#653"},{"id":2757,"type":"Note","pos":[2470,60],"size":[350,70],"flags":{},"order":83,"mode":0,"properties":{"text":""},"widgets_values":["connect off when you have disabled above\n\nConnect on to when you have the above cutting stage enabled."],"color":"#432","bgcolor":"#653"},{"id":2725,"type":"VHS_VideoCombine","pos":[5690,1120],"size":[320,730],"flags":{},"order":523,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":6194}],"outputs":[],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":24,"loop_count":0,"filename_prefix":"AnimateDiff","format":"video/h264-mp4","pingpong":false,"save_image":true,"crf":20,"save_metadata":false,"audio_file":"","videopreview":{"hidden":false,"paused":true,"params":{"filename":"AnimateDiff_00121.mp4","subfolder":"","type":"output","format":"video/h264-mp4"}}}},{"id":2286,"type":"PrimitiveNode","pos":[-1086.4877505056468,-247.42831095968265],"size":{"0":210,"1":80},"flags":{},"order":84,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[5039,5044],"slot_index":0,"widget":{"name":"inset_left"}}],"title":"Left","properties":{"Run widget replace on values":false},"widgets_values":[0,"fixed"],"color":"#232","bgcolor":"#353"},{"id":2287,"type":"PrimitiveNode","pos":[-876.4877505056481,-247.42831095968265],"size":{"0":210,"1":80},"flags":{},"order":85,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[5040],"slot_index":0,"widget":{"name":"inset_right"}}],"title":"Right","properties":{"Run widget replace on values":false},"widgets_values":[0,"fixed"],"color":"#232","bgcolor":"#353"},{"id":2092,"type":"VHS_VideoCombine","pos":[2460,410],"size":[320,730],"flags":{},"order":415,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":6241}],"outputs":[],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":12,"loop_count":4,"filename_prefix":"AnimateDiff","format":"image/webp","pingpong":false,"save_image":false,"crf":20,"save_metadata":false,"audio_file":"","videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00105.webp","subfolder":"","type":"temp","format":"image/webp"}}}},{"id":2764,"type":"Reroute","pos":[3407.8125075399003,2594.3749849202018],"size":[75,26],"flags":{},"order":164,"mode":0,"inputs":[{"name":"","type":"*","link":6264}],"outputs":[{"name":"","type":"IMAGE","links":[6276],"label":"Loaded","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":1536,"type":"IPAdapterApplyEncoded","pos":[-140,1290],"size":{"0":210,"1":214},"flags":{"pinned":false},"order":221,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":4660},{"name":"embeds","type":"EMBEDS","link":3426},{"name":"model","type":"MODEL","link":5453},{"name":"attn_mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[6204],"shape":3,"slot_index":0}],"title":"         Apply IPAdapter","properties":{"Node name for S&R":"IPAdapterApplyEncoded"},"widgets_values":[0.8,"channel penalty",0,1,false],"color":"#323","bgcolor":"#535"},{"id":1947,"type":"CLIPVisionLoader","pos":[-2890,1070],"size":{"0":220,"1":60},"flags":{"pinned":false},"order":86,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[4266,4659,4661,6281],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["SD1.5\\pytorch_model.bin"],"color":"#323","bgcolor":"#535"},{"id":1946,"type":"IPAdapterModelLoader","pos":[-2900,980],"size":{"0":230,"1":60},"flags":{"pinned":false},"order":87,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[4268,4592,4660,4662,4663,6284],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus_sd15.bin"],"color":"#323","bgcolor":"#535"},{"id":2257,"type":"PrimitiveNode","pos":[-2651.1524277343774,1170.6440373437501],"size":{"0":210,"1":60},"flags":{"pinned":false},"order":88,"mode":0,"outputs":[{"name":"BOOLEAN","type":"BOOLEAN","links":[4956,4957,4958,6283],"widget":{"name":"ipadapter_plus"},"slot_index":0}],"title":"Ipadaptor Plus","properties":{"Run widget replace on values":false},"widgets_values":[true],"color":"#323","bgcolor":"#535"},{"id":2582,"type":"LineArtPreprocessor","pos":[1500,1760],"size":{"0":210,"1":82},"flags":{"collapsed":false},"order":377,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6114}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6115],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LineArtPreprocessor"},"widgets_values":["disable",320],"color":"#232","bgcolor":"#353"},{"id":2080,"type":"Reroute","pos":[780,1040],"size":[75,26],"flags":{},"order":100,"mode":0,"inputs":[{"name":"","type":"*","link":4620}],"outputs":[{"name":"","type":"IMAGE","links":[6278],"slot_index":0,"label":"Load"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":1538,"type":"IPAdapterApplyEncoded","pos":[1050,1320],"size":{"0":218.39999389648438,"1":214},"flags":{"pinned":false},"order":218,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":4662},{"name":"embeds","type":"EMBEDS","link":3413},{"name":"model","type":"MODEL","link":5449},{"name":"attn_mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[5450],"shape":3,"slot_index":0}],"title":"         Apply IPAdapter 2","properties":{"Node name for S&R":"IPAdapterApplyEncoded"},"widgets_values":[0.8,"channel penalty",0,1,false],"color":"#323","bgcolor":"#535"},{"id":2237,"type":"VHS_LoadImagesPath","pos":[-2900,1510],"size":{"0":230,"1":170},"flags":{},"order":89,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4915],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3},{"name":"INT","type":"INT","links":null,"shape":3}],"title":"Load Video Frames","properties":{"Node name for S&R":"VHS_LoadImagesPath"},"widgets_values":{"directory":"","image_load_cap":16,"skip_first_images":0,"select_every_nth":1},"color":"#323","bgcolor":"#535"},{"id":772,"type":"PrimitiveNode","pos":[-1620,500],"size":{"0":210,"1":80},"flags":{"collapsed":false,"pinned":false},"order":90,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[1324,1325,1326,1327,1328,1329,1330,1571,1572,1573,1574,1575,1576,1577,1582,3944,6154,6173,6211,6216,6217,6218,6239],"widget":{"name":"batch_size"},"slot_index":0}],"title":"Batch","properties":{"Run widget replace on values":false},"widgets_values":[4,"fixed"],"color":"#232","bgcolor":"#353"},{"id":1951,"type":"IPAdapterApplyEncoded","pos":[-2410,970],"size":{"0":210,"1":214},"flags":{"pinned":false},"order":214,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":4592},{"name":"embeds","type":"EMBEDS","link":4593},{"name":"model","type":"MODEL","link":5416},{"name":"attn_mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[6202],"shape":3,"slot_index":0}],"title":"         Apply IPAdapter","properties":{"Node name for S&R":"IPAdapterApplyEncoded"},"widgets_values":[0.6,"channel penalty",0,1,false],"color":"#323","bgcolor":"#535"},{"id":1343,"type":"PreviewImage","pos":[340,220],"size":{"0":390,"1":530},"flags":{},"order":294,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2877}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":2069,"type":"PreviewImage","pos":[1930,560],"size":{"0":450,"1":520},"flags":{},"order":413,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":6260}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":2774,"type":"PrepImageForClipVision","pos":[2829.9934937499997,1198.8302611328127],"size":{"0":210,"1":110},"flags":{"collapsed":false,"pinned":true},"order":154,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6298}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6282],"shape":3,"slot_index":0}],"title":"Prepare Image","properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","pad",0.1],"color":"#323","bgcolor":"#535"},{"id":2776,"type":"IPAdapterEncoder","pos":[2829.9934937499997,1348.8302611328127],"size":{"0":210,"1":260},"flags":{"pinned":false},"order":158,"mode":0,"inputs":[{"name":"clip_vision","type":"CLIP_VISION","link":6281},{"name":"image_1","type":"IMAGE","link":6282},{"name":"image_2","type":"IMAGE","link":null},{"name":"image_3","type":"IMAGE","link":null},{"name":"image_4","type":"IMAGE","link":null},{"name":"ipadapter_plus","type":"BOOLEAN","link":6283,"widget":{"name":"ipadapter_plus"},"slot_index":5}],"outputs":[{"name":"EMBEDS","type":"EMBEDS","links":[6285,6290],"shape":3,"slot_index":0}],"title":"Encode Image","properties":{"Node name for S&R":"IPAdapterEncoder"},"widgets_values":[true,0,1,1,1,1],"color":"#323","bgcolor":"#535"},{"id":2400,"type":"Reroute","pos":[2980,610],"size":[75,26],"flags":{},"order":232,"mode":0,"inputs":[{"name":"","type":"*","link":6301}],"outputs":[{"name":"","type":"MODEL","links":[6141],"label":"Model 2","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2777,"type":"IPAdapterApplyEncoded","pos":[3059.9934937499997,1148.8302611328127],"size":{"0":218.39999389648438,"1":214},"flags":{"pinned":false},"order":213,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":6284},{"name":"embeds","type":"EMBEDS","link":6285},{"name":"model","type":"MODEL","link":6286},{"name":"attn_mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[6300],"shape":3,"slot_index":0}],"title":"         Apply IPAdapter 1","properties":{"Node name for S&R":"IPAdapterApplyEncoded"},"widgets_values":[0.9,"channel penalty",0,1,false],"color":"#323","bgcolor":"#535"},{"id":2782,"type":"Reroute","pos":[3069.9934937499997,1068.8302611328127],"size":[75,26],"flags":{"pinned":false},"order":193,"mode":0,"inputs":[{"name":"","type":"*","link":6293}],"outputs":[{"name":"","type":"MODEL","links":[6286],"label":"Model 1"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2781,"type":"Reroute","pos":[3169.9934937499997,1068.8302611328127],"size":[75,26],"flags":{"pinned":false},"order":206,"mode":0,"inputs":[{"name":"","type":"*","link":6292}],"outputs":[{"name":"","type":"MODEL","links":[6291],"label":"Model 2"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":2784,"type":"Reroute","pos":[2829.9934937499997,1028.830261132813],"size":[75,26],"flags":{},"order":102,"mode":0,"inputs":[{"name":"","type":"*","link":6295}],"outputs":[{"name":"","type":"IMAGE","links":[6297],"slot_index":0,"label":"Loaded"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":2373,"type":"VHS_VideoCombine","pos":[4320,230],"size":[310,720],"flags":{},"order":493,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":5796}],"outputs":[],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":12,"loop_count":4,"filename_prefix":"AnimateDiff","format":"image/webp","pingpong":false,"save_image":false,"crf":20,"save_metadata":false,"audio_file":"","videopreview":{"hidden":false,"paused":true,"params":{"filename":"AnimateDiff_00106.webp","subfolder":"","type":"temp","format":"image/webp"}}}},{"id":2788,"type":"IPAdapterModelLoader","pos":[2830,1100],"size":[210,60],"flags":{},"order":91,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[6302],"shape":3}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus-face_sd15.bin"],"color":"#323","bgcolor":"#535"},{"id":2787,"type":"CropFace","pos":[2930,1060],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":129,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":6297}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6298],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CropFace"},"widgets_values":["retinaface_resnet50"],"color":"#323","bgcolor":"#535"},{"id":2780,"type":"IPAdapterApplyEncoded","pos":[3060,1400],"size":{"0":218.39999389648438,"1":214},"flags":{"pinned":false},"order":219,"mode":4,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":6302,"slot_index":0},{"name":"embeds","type":"EMBEDS","link":6290},{"name":"model","type":"MODEL","link":6291},{"name":"attn_mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[6301],"shape":3,"slot_index":0}],"title":"         Apply IPAdapter 2","properties":{"Node name for S&R":"IPAdapterApplyEncoded"},"widgets_values":[0.9,"channel penalty",0,1,false],"color":"#323","bgcolor":"#535"},{"id":2372,"type":"PreviewImage","pos":[3580,410],"size":{"0":670,"1":510},"flags":{},"order":495,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":6156}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":558,"type":"PrimitiveNode","pos":[-2640,400],"size":{"0":210,"1":80},"flags":{"pinned":false},"order":92,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[5330,5343,5382,5400,5578],"widget":{"name":"noise_seed"},"slot_index":0}],"title":"Global Seed","properties":{"Run widget replace on values":false},"widgets_values":[1035894920143512,"fixed"]},{"id":2236,"type":"Note","pos":[-2160,1140],"size":[490,580],"flags":{},"order":93,"mode":0,"properties":{"text":""},"widgets_values":["Ip adaptor settings \n\nThe image loaded here is loaded for all ip adaptor, and a face is cropped for the face enhance if enabled.  You can enable this at whatever steps.\n\nI prefer step 1 at 40-60% ip adaptor plus. Then 80, then 80, then on face 90. \n\nThis can copy a person in a photo and put them in your with your prompt to get an image/video, combined with reactor it's kinda creepy.\n*** be responsible.\n\n\nBypass Apply ip adaptor if not using\n\nConnect image or frames to prepare image\n\nLoading ipadaptor models here\n\nLoad a base image in at the bottom\n\nPrepare image \nUse this to sharpen or crop the base image\n\nEncode Image Lets you Add more image to the referance if you want.\n\n\n\nNoise is used to add noise to change your base image more.\n\nWeight can be anything from .1 to 2 i think.  0.6-8 is where i use it.  \n\nWeight type\nI find channel penalty to give sharper results, test them out yourself.\n\nStart and end at determines how many steps to apply the adaptor to in a percent. Currently, 12-step default if i do 0.5 for end at it will stop adapting the image at 6 steps.\n\nUnfold batch - this is used to use a batch of images for references, mostly used for animations. Example below Unfold the batch\n\nCan use a video (image frames of video) to import them here and send it to try to copy the video. \n\nSetting the strength/end steps with this method can copy a video motion but change things if you give it time at the end. \n\nCan add a cropped face if wanted for the face ipadaptor."],"color":"#432","bgcolor":"#653"},{"id":2592,"type":"PreviewImage","pos":[4390,2520],"size":{"0":430,"1":570},"flags":{},"order":510,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":5798}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":2729,"type":"Note","pos":[3700,2420],"size":{"0":210,"1":58},"flags":{},"order":94,"mode":0,"properties":{"text":""},"widgets_values":["Set group to \"Bypass Group Nodes\" to disable"],"color":"#432","bgcolor":"#653"}],"links":[[732,332,1,423,0,"CLIP"],[745,430,0,432,0,"NUMBER"],[746,430,1,429,0,"NUMBER"],[747,433,0,429,1,"NUMBER"],[748,433,0,432,1,"NUMBER"],[750,432,2,427,1,"INT"],[751,429,2,427,2,"INT"],[752,434,0,426,0,"UPSCALE_MODEL"],[762,437,0,426,1,"IMAGE"],[763,426,0,427,0,"IMAGE"],[768,434,0,440,0,"UPSCALE_MODEL"],[770,440,0,438,0,"IMAGE"],[771,442,1,441,0,"NUMBER"],[772,444,0,441,1,"NUMBER"],[774,442,0,443,0,"NUMBER"],[775,444,0,443,1,"NUMBER"],[777,443,2,438,1,"INT"],[778,441,2,438,2,"INT"],[1309,745,0,751,0,"*"],[1310,749,0,752,0,"*"],[1311,744,0,753,0,"*"],[1312,747,0,754,0,"*"],[1313,748,0,755,0,"*"],[1314,746,0,756,0,"*"],[1315,750,0,757,0,"*"],[1316,762,0,765,0,"*"],[1317,763,0,766,0,"*"],[1318,758,0,767,0,"*"],[1319,761,0,768,0,"*"],[1321,759,0,770,0,"*"],[1322,764,0,771,0,"*"],[1324,772,0,745,0,"INT"],[1325,772,0,746,0,"INT"],[1326,772,0,748,0,"INT"],[1327,772,0,744,0,"INT"],[1328,772,0,749,0,"INT"],[1329,772,0,747,0,"INT"],[1330,772,0,750,0,"INT"],[1451,773,0,818,0,"*"],[1454,427,0,817,0,"*"],[1495,773,0,794,0,"IMAGE"],[1569,760,0,769,0,"*"],[1571,772,0,760,0,"INT"],[1572,772,0,762,0,"INT"],[1573,772,0,759,0,"INT"],[1574,772,0,758,0,"INT"],[1575,772,0,763,0,"INT"],[1576,772,0,761,0,"INT"],[1577,772,0,764,0,"INT"],[1579,816,0,440,1,"IMAGE"],[1582,772,0,868,0,"INT"],[1611,888,1,887,1,"CLIP"],[1614,888,0,887,0,"MODEL"],[1770,887,0,922,0,"MODEL"],[1772,890,0,923,0,"MODEL"],[2712,923,0,1242,0,"MODEL"],[2713,922,0,1243,0,"MODEL"],[2714,1243,0,1244,0,"MODEL"],[2715,1242,0,1245,0,"MODEL"],[2716,1245,0,1246,0,"MODEL"],[2720,551,0,1250,1,"STRING"],[2792,472,0,1290,1,"STRING"],[2794,551,0,1291,1,"STRING"],[2815,1292,0,1295,0,"*"],[2817,433,1,1296,1,"FLOAT"],[2876,787,0,1341,3,"IMAGE"],[2877,1330,0,1343,0,"IMAGE"],[2891,787,0,1344,3,"IMAGE"],[2913,423,0,889,1,"CLIP"],[2914,561,0,888,1,"CLIP"],[2915,555,1,561,0,"CLIP"],[2923,1362,0,1297,0,"*"],[2951,1371,0,1004,1,"STRING"],[2952,1372,0,1005,1,"STRING"],[2968,1371,0,1378,1,"STRING"],[2969,1372,0,1379,1,"STRING"],[2970,1378,0,1377,0,"CONDITIONING"],[2971,1379,0,1377,1,"CONDITIONING"],[3043,1406,0,442,0,"IMAGE"],[3045,1407,0,430,0,"IMAGE"],[3113,332,0,1442,0,"MODEL"],[3114,1442,0,889,0,"MODEL"],[3132,1015,0,1344,2,"CONTROL_NET"],[3133,1015,0,1341,2,"CONTROL_NET"],[3139,889,0,890,0,"MODEL"],[3140,889,1,890,1,"CLIP"],[3217,1483,0,1482,3,"MOTION_MODEL_SETTINGS"],[3218,555,0,1482,0,"MODEL"],[3219,1482,0,888,0,"MODEL"],[3220,1484,0,1377,8,"FLOAT"],[3224,1485,0,1377,9,"FLOAT"],[3225,1486,0,1377,10,"FLOAT"],[3229,1483,0,1442,3,"MOTION_MODEL_SETTINGS"],[3230,1481,0,1482,1,"CONTEXT_OPTIONS"],[3231,1481,0,1442,1,"CONTEXT_OPTIONS"],[3394,1450,0,1527,1,"IMAGE"],[3396,1527,0,1529,1,"EMBEDS"],[3409,1534,0,1535,1,"IMAGE"],[3413,1527,0,1538,1,"EMBEDS"],[3426,1535,0,1536,1,"EMBEDS"],[3431,1330,0,816,0,"*"],[3465,1555,0,1554,1,"IMAGE_BOUNDS"],[3466,1556,0,1555,0,"IMAGE_BOUNDS"],[3469,818,0,1556,0,"IMAGE"],[3470,818,0,1554,0,"IMAGE"],[3473,1557,0,1442,4,"FLOAT"],[3474,1557,0,1483,1,"FLOAT"],[3475,1557,0,1483,2,"FLOAT"],[3476,1557,0,1482,4,"FLOAT"],[3477,1558,0,1442,5,"COMBO"],[3478,1558,0,1482,5,"COMBO"],[3479,1559,0,1482,6,"BOOLEAN"],[3480,1560,0,1442,2,"MOTION_LORA"],[3481,1560,0,1482,2,"MOTION_LORA"],[3482,1561,0,1483,3,"INT"],[3483,1562,0,1442,7,"COMBO"],[3484,1562,0,1482,7,"COMBO"],[3486,1374,0,1530,0,"*"],[3487,1530,0,1532,0,"IMAGE"],[3488,1532,0,1563,0,"*"],[3489,1564,0,1341,8,"FLOAT"],[3490,1564,0,1344,8,"FLOAT"],[3491,1565,0,1341,9,"FLOAT"],[3492,1565,0,1344,9,"FLOAT"],[3493,1566,0,1341,10,"FLOAT"],[3494,1566,0,1344,10,"FLOAT"],[3613,816,0,1406,0,"IMAGE"],[3888,1376,0,1378,0,"CLIP"],[3889,1376,0,1379,0,"CLIP"],[3890,1375,0,1005,0,"CLIP"],[3934,1791,0,1795,2,"CONTROL_NET"],[3937,1486,0,1795,9,"FLOAT"],[3942,432,2,1796,0,"INT"],[3943,429,2,1796,1,"INT"],[3944,772,0,1796,2,"INT"],[4037,472,0,1249,1,"STRING"],[4227,1485,0,1795,8,"FLOAT"],[4229,1938,0,1014,9,"FLOAT"],[4230,1940,0,1014,10,"FLOAT"],[4231,1484,0,1014,8,"FLOAT"],[4232,1935,0,1795,10,"FLOAT"],[4233,1932,0,1784,8,"FLOAT"],[4234,1933,0,1784,9,"FLOAT"],[4235,1934,0,1784,10,"FLOAT"],[4246,1791,0,1943,2,"CONTROL_NET"],[4248,1485,0,1943,8,"FLOAT"],[4249,1486,0,1943,9,"FLOAT"],[4250,1935,0,1943,10,"FLOAT"],[4251,1377,0,1943,0,"CONDITIONING"],[4252,1377,1,1943,1,"CONDITIONING"],[4257,1484,0,1945,8,"FLOAT"],[4258,1938,0,1945,9,"FLOAT"],[4259,1940,0,1945,10,"FLOAT"],[4260,1943,0,1945,0,"CONDITIONING"],[4261,1943,1,1945,1,"CONDITIONING"],[4264,1015,0,1377,2,"CONTROL_NET"],[4265,1015,0,1784,2,"CONTROL_NET"],[4266,1947,0,1949,0,"CLIP_VISION"],[4267,1948,0,1949,1,"IMAGE"],[4268,1946,0,1950,0,"IPADAPTER"],[4269,1949,0,1950,1,"EMBEDS"],[4279,1941,1,1945,5,"TIMESTEP_KEYFRAME"],[4280,1941,1,1014,5,"TIMESTEP_KEYFRAME"],[4311,1784,0,1795,0,"CONDITIONING"],[4312,1784,1,1795,1,"CONDITIONING"],[4313,1004,0,1784,0,"CONDITIONING"],[4314,1005,0,1784,1,"CONDITIONING"],[4315,1795,0,1014,0,"CONDITIONING"],[4316,1795,1,1014,1,"CONDITIONING"],[4414,1985,0,1984,0,"BBOX_DETECTOR"],[4416,1989,0,1986,0,"SEGS"],[4417,1986,0,1987,0,"MASK"],[4419,1984,0,1989,0,"SEGS"],[4421,1988,0,1990,1,"IMAGE"],[4424,1988,0,1991,1,"IMAGE"],[4430,2022,0,1996,1,"IMAGE"],[4435,1990,0,1999,0,"IMAGE"],[4438,2001,0,2002,0,"IMAGE"],[4439,2000,0,2002,1,"INT"],[4440,2000,1,2002,2,"INT"],[4441,2002,0,2003,0,"IMAGE"],[4442,2003,0,2004,0,"IMAGE"],[4443,2004,0,2005,0,"MASK"],[4446,2006,0,2008,0,"*"],[4447,1991,0,2009,0,"IMAGE"],[4448,1985,0,2010,0,"BBOX_DETECTOR"],[4450,1985,1,2010,3,"SEGM_DETECTOR"],[4451,2010,0,2011,0,"SEGS"],[4452,2011,0,2012,0,"SEGS"],[4453,2012,0,2013,0,"MASK"],[4455,2016,0,2015,0,"IMAGE"],[4456,2013,0,2016,0,"IMAGE"],[4462,2019,0,2021,1,"INT"],[4463,2019,1,2021,2,"INT"],[4475,1373,0,2019,0,"IMAGE"],[4476,1373,0,1421,0,"IMAGE"],[4485,2028,0,1943,3,"IMAGE"],[4486,2028,0,1945,3,"IMAGE"],[4487,2028,0,1795,3,"IMAGE"],[4489,2028,0,1014,3,"IMAGE"],[4491,2030,0,1989,1,"INT"],[4492,2030,0,2011,1,"INT"],[4493,2031,0,2011,2,"COMBO"],[4494,2031,0,1989,2,"COMBO"],[4496,2019,0,2032,1,"INT"],[4497,2019,1,2032,2,"INT"],[4528,2041,0,2022,1,"MASK"],[4534,2009,0,2047,0,"IMAGE"],[4536,2005,0,2048,0,"MASK"],[4537,2048,0,2006,0,"MASK"],[4544,2015,0,2052,0,"*"],[4545,1987,0,2049,0,"*"],[4555,2057,0,2058,0,"*"],[4556,2058,0,1988,0,"IMAGE"],[4557,1983,1,2059,0,"*"],[4558,2059,0,1990,2,"MASK_MAPPING"],[4559,2059,0,1991,2,"MASK_MAPPING"],[4564,2062,0,1991,0,"IMAGE"],[4565,1999,0,2020,0,"*"],[4571,1988,0,2067,0,"*"],[4572,2020,0,1373,0,"*"],[4573,2066,0,1374,0,"*"],[4574,2067,0,1402,0,"*"],[4580,2047,0,2066,0,"*"],[4582,1374,0,2021,0,"IMAGE"],[4592,1946,0,1951,0,"IPADAPTER"],[4593,1949,0,1951,1,"EMBEDS"],[4602,1972,0,2073,0,"*"],[4614,2077,0,2076,0,"IMAGE"],[4615,2049,0,2056,0,"*"],[4618,438,0,2079,0,"IMAGE"],[4619,2079,0,815,0,"*"],[4620,1972,0,2080,0,"*"],[4623,2056,0,2082,0,"IMAGE"],[4630,2082,0,1983,0,"IMAGE"],[4631,1983,0,2088,0,"IMAGE"],[4633,2056,0,2089,0,"IMAGE"],[4634,2089,0,2090,1,"INT"],[4635,2089,1,2090,2,"INT"],[4636,2088,0,2090,0,"IMAGE"],[4637,2090,0,2057,0,"*"],[4638,2052,0,2062,0,"*"],[4639,2027,0,1984,1,"IMAGE"],[4640,2053,0,2001,0,"IMAGE"],[4641,2050,0,2010,1,"IMAGE"],[4642,2053,0,2000,0,"IMAGE"],[4644,815,0,2091,0,"*"],[4645,2091,0,1996,0,"IMAGE"],[4655,2095,0,2097,0,"INT"],[4656,2095,1,2097,1,"INT"],[4659,1947,0,1535,0,"CLIP_VISION"],[4660,1946,0,1536,0,"IPADAPTER"],[4661,1947,0,1527,0,"CLIP_VISION"],[4662,1946,0,1538,0,"IPADAPTER"],[4663,1946,0,1529,0,"IPADAPTER"],[4677,2105,0,1996,3,"MASK_MAPPING"],[4760,2163,0,2157,1,"IMAGE"],[4761,2157,0,2158,0,"SEGS"],[4762,2158,0,2159,0,"SEGS"],[4763,2159,0,2160,0,"MASK"],[4764,2162,0,2161,0,"IMAGE"],[4765,2160,0,2162,0,"IMAGE"],[4767,2161,0,2164,0,"*"],[4773,2166,0,2157,0,"BBOX_DETECTOR"],[4775,1992,0,2157,2,"SAM_MODEL"],[4776,2166,1,2157,3,"SEGM_DETECTOR"],[4799,2178,0,2158,1,"INT"],[4800,2180,0,2158,2,"COMBO"],[4816,1996,0,2186,0,"IMAGE"],[4819,2060,0,1990,0,"IMAGE"],[4822,2194,0,2191,0,"IMAGE"],[4824,2197,0,2193,0,"*"],[4826,2191,0,2195,0,"IMAGE"],[4828,2195,0,2197,0,"IMAGE"],[4829,2196,0,2197,1,"INT"],[4830,2196,1,2197,2,"INT"],[4832,2191,1,2198,0,"*"],[4833,2198,0,2190,2,"MASK_MAPPING"],[4834,2198,0,2189,2,"MASK_MAPPING"],[4835,2187,0,2190,1,"IMAGE"],[4836,2187,0,2189,1,"IMAGE"],[4840,2163,0,2200,0,"*"],[4841,2200,0,2190,0,"IMAGE"],[4853,2206,0,2194,0,"IMAGE"],[4854,2189,0,2209,0,"IMAGE"],[4855,2209,0,2208,0,"IMAGE"],[4856,2190,0,2207,0,"IMAGE"],[4858,2208,0,2211,0,"*"],[4859,2207,0,2212,0,"*"],[4891,2212,0,2230,0,"*"],[4900,2211,0,2231,0,"*"],[4913,2210,0,2235,0,"*"],[4915,2237,0,2238,0,"*"],[4916,1972,0,2239,0,"*"],[4923,2166,0,2240,0,"BBOX_DETECTOR"],[4924,2241,0,2242,0,"SEGS"],[4925,2242,0,2243,0,"MASK"],[4927,2243,0,2245,0,"IMAGE"],[4928,2240,0,2241,0,"SEGS"],[4929,2180,0,2241,2,"COMBO"],[4930,2178,0,2241,1,"INT"],[4933,2247,0,2240,1,"IMAGE"],[4934,2245,0,2248,0,"*"],[4936,2248,0,2249,0,"*"],[4937,2249,0,2196,0,"IMAGE"],[4938,2249,0,2206,0,"IMAGE"],[4939,2164,0,2199,0,"*"],[4940,2193,0,2250,0,"*"],[4941,2250,0,2187,0,"IMAGE"],[4951,2187,0,2210,0,"*"],[4954,2239,0,1948,0,"IMAGE"],[4956,2257,0,1527,5,"BOOLEAN"],[4957,2257,0,1949,5,"BOOLEAN"],[4958,2257,0,1535,5,"BOOLEAN"],[5012,787,0,1446,0,"IMAGE"],[5014,430,4,2280,1,"INT"],[5015,430,5,2280,2,"INT"],[5030,1295,0,2280,0,"LATENT"],[5031,2280,0,1296,0,"LATENT"],[5032,1296,0,1362,0,"LATENT"],[5037,1554,0,1407,0,"IMAGE"],[5038,1554,0,437,0,"IMAGE"],[5039,2286,0,1555,1,"INT"],[5040,2287,0,1555,2,"INT"],[5041,2289,0,1555,3,"INT"],[5042,2288,0,1555,4,"INT"],[5043,2289,0,2280,4,"INT"],[5044,2286,0,2280,3,"INT"],[5270,1015,0,2357,2,"CONTROL_NET"],[5282,2363,0,2364,1,"INT"],[5283,2363,0,2364,2,"INT"],[5284,2230,0,2364,0,"IMAGE"],[5286,2364,0,2355,0,"IMAGE"],[5287,2230,0,2366,0,"IMAGE"],[5288,2366,0,2368,1,"INT"],[5289,2366,1,2368,2,"INT"],[5290,2366,0,2367,1,"INT"],[5291,2366,1,2367,2,"INT"],[5293,2231,0,2368,0,"IMAGE"],[5294,2368,0,2369,0,"IMAGE"],[5295,2369,0,2370,1,"MASK"],[5296,2370,0,2371,1,"IMAGE"],[5297,2235,0,2371,2,"IMAGE"],[5298,2198,0,2371,3,"MASK_MAPPING"],[5299,2232,0,2371,0,"IMAGE"],[5302,2367,0,2370,0,"IMAGE"],[5308,2199,0,2189,0,"IMAGE"],[5313,2073,0,1534,0,"IMAGE"],[5317,1375,0,1004,0,"CLIP"],[5330,558,0,2376,4,"INT"],[5331,2376,0,2377,0,"LATENT"],[5333,2377,0,773,0,"*"],[5334,2376,0,1292,0,"*"],[5339,2378,0,2379,0,"LATENT"],[5341,2379,0,1330,0,"*"],[5342,2379,0,1434,0,"IMAGE"],[5343,558,0,2378,4,"INT"],[5344,2378,0,1339,0,"*"],[5356,2384,0,1249,0,"CLIP"],[5364,2385,0,2388,0,"*"],[5382,558,0,2391,4,"INT"],[5383,2391,0,2392,0,"LATENT"],[5384,2392,0,2032,0,"IMAGE"],[5385,2388,0,2393,0,"*"],[5400,558,0,2396,4,"INT"],[5402,2353,0,2397,0,"CLIP"],[5403,2353,0,2398,0,"CLIP"],[5404,2397,0,2357,0,"CONDITIONING"],[5405,2398,0,2357,1,"CONDITIONING"],[5406,2396,0,2399,0,"LATENT"],[5408,2399,0,2367,0,"IMAGE"],[5411,1539,0,1542,0,"*"],[5412,1449,0,1541,0,"*"],[5416,2401,0,1951,2,"MODEL"],[5420,2403,0,1568,2,"MODEL"],[5423,1542,0,1529,2,"MODEL"],[5424,1529,0,2404,0,"*"],[5426,773,0,1432,0,"IMAGE"],[5431,2407,0,2385,0,"*"],[5434,2407,1,1376,0,"*"],[5436,2407,2,1539,0,"MODEL"],[5440,556,0,2407,0,"VAE"],[5441,887,1,2407,1,"CLIP"],[5442,1247,0,2407,2,"MODEL"],[5446,335,0,2409,0,"VAE"],[5447,890,1,2409,1,"CLIP"],[5448,1246,0,2409,2,"MODEL"],[5449,1541,0,1538,2,"MODEL"],[5450,1538,0,2410,0,"*"],[5451,2409,0,2411,0,"*"],[5453,2412,0,1536,2,"MODEL"],[5456,2393,0,2354,0,"*"],[5460,2409,0,2416,0,"*"],[5472,2409,1,1375,0,"*"],[5475,2423,0,1950,2,"MODEL"],[5476,1249,0,2424,0,"*"],[5477,1250,0,2425,0,"*"],[5481,2409,0,2427,0,"*"],[5482,1290,0,2428,0,"*"],[5483,1291,0,2429,0,"*"],[5486,2426,0,1291,0,"CLIP"],[5487,2426,0,1290,0,"CLIP"],[5488,2384,0,1250,0,"CLIP"],[5491,2432,0,2378,0,"MODEL"],[5492,2430,0,1446,1,"VAE"],[5493,2430,0,2379,1,"VAE"],[5496,2434,0,2378,1,"CONDITIONING"],[5497,2433,0,2378,2,"CONDITIONING"],[5500,2383,0,2436,0,"*"],[5501,2385,0,2435,0,"*"],[5502,2424,0,2438,0,"*"],[5503,2425,0,2437,0,"*"],[5504,2436,0,2376,0,"MODEL"],[5506,2437,0,2376,2,"CONDITIONING"],[5507,2435,0,2377,1,"VAE"],[5508,2438,0,2376,1,"CONDITIONING"],[5516,2442,0,2391,1,"CONDITIONING"],[5517,2441,0,2391,2,"CONDITIONING"],[5519,2439,0,2392,1,"VAE"],[5520,2440,0,2391,0,"MODEL"],[5521,2440,0,1793,0,"MODEL"],[5522,2409,1,2443,0,"*"],[5523,2409,0,2444,0,"*"],[5524,2357,0,2445,0,"*"],[5525,2357,1,2446,0,"*"],[5528,2407,1,2353,0,"*"],[5529,1015,0,2449,2,"CONTROL_NET"],[5531,2450,0,2357,3,"IMAGE"],[5532,2450,0,2449,3,"IMAGE"],[5533,2451,0,2397,1,"STRING"],[5534,2452,0,2398,1,"STRING"],[5535,2451,0,2454,1,"STRING"],[5536,2452,0,2453,1,"STRING"],[5537,2443,0,2453,0,"CLIP"],[5538,2443,0,2454,0,"CLIP"],[5539,2449,0,2447,0,"*"],[5540,2449,1,2448,0,"*"],[5542,2456,0,2396,0,"MODEL"],[5545,2458,0,2396,1,"CONDITIONING"],[5546,2457,0,2396,2,"CONDITIONING"],[5548,2455,0,2399,1,"VAE"],[5549,2455,0,2355,1,"VAE"],[5551,2459,0,2391,3,"LATENT"],[5552,2097,0,2460,0,"*"],[5553,1046,0,2461,0,"*"],[5555,1446,0,2462,0,"*"],[5562,2464,0,2378,3,"LATENT"],[5564,2355,0,2465,0,"*"],[5565,2465,0,2396,3,"LATENT"],[5566,2454,0,2449,1,"CONDITIONING"],[5567,2453,0,2449,0,"CONDITIONING"],[5578,558,0,2468,4,"INT"],[5582,2470,0,2468,3,"LATENT"],[5583,2468,0,2471,0,"LATENT"],[5587,2474,0,2473,1,"INT"],[5588,2474,0,2473,2,"INT"],[5589,2473,0,2470,0,"IMAGE"],[5591,1015,0,2476,2,"CONTROL_NET"],[5601,1015,0,2483,2,"CONTROL_NET"],[5602,2398,0,2476,1,"CONDITIONING"],[5603,2397,0,2476,0,"CONDITIONING"],[5604,2453,0,2483,0,"CONDITIONING"],[5605,2454,0,2483,1,"CONDITIONING"],[5607,2476,0,2486,0,"*"],[5608,2476,1,2487,0,"*"],[5615,2483,0,2484,0,"*"],[5616,2483,1,2485,0,"*"],[5618,2488,0,2476,3,"IMAGE"],[5619,2488,0,2483,3,"IMAGE"],[5638,2497,0,2473,0,"IMAGE"],[5721,2469,0,2547,0,"IMAGE"],[5722,2547,0,2497,0,"IMAGE"],[5736,2553,0,2330,0,"IMAGE"],[5737,2553,0,2495,0,"IMAGE"],[5751,2557,0,2469,0,"IMAGE"],[5752,2471,0,2558,0,"*"],[5762,2562,0,2563,0,"IMAGE"],[5767,1014,0,2580,0,"CONDITIONING"],[5768,1014,1,2580,1,"CONDITIONING"],[5771,2581,0,2580,2,"CONTROL_NET"],[5773,2028,0,2583,0,"IMAGE"],[5774,2583,0,2584,1,"INT"],[5775,2583,1,2584,2,"INT"],[5777,2584,0,2580,3,"IMAGE"],[5780,1945,0,2585,0,"CONDITIONING"],[5781,1945,1,2585,1,"CONDITIONING"],[5782,2581,0,2585,2,"CONTROL_NET"],[5783,2584,0,2585,3,"IMAGE"],[5784,2585,0,2421,0,"*"],[5785,2585,1,2422,0,"*"],[5786,2586,0,2585,8,"FLOAT"],[5787,2587,0,2585,9,"FLOAT"],[5788,2588,0,2585,10,"FLOAT"],[5791,2586,0,2580,8,"FLOAT"],[5792,2587,0,2580,9,"FLOAT"],[5793,2588,0,2580,10,"FLOAT"],[5796,2589,0,2373,0,"IMAGE"],[5798,2550,0,2592,0,"IMAGE"],[5805,2021,0,2041,0,"IMAGE"],[5833,2609,1,2614,0,"MASK"],[5834,2614,0,2612,2,"IMAGE"],[5841,2617,1,2620,0,"MASK"],[5842,2620,0,2619,2,"IMAGE"],[5857,2621,0,2560,0,"*"],[5858,2364,0,2450,0,"*"],[5862,2631,0,2609,0,"IMAGE"],[5867,2609,0,2612,0,"IMAGE"],[5868,2630,0,2612,1,"IMAGE"],[5869,2612,0,2617,0,"IMAGE"],[5870,2617,0,2619,0,"IMAGE"],[5871,2632,0,2619,1,"IMAGE"],[5872,2605,0,2631,0,"IMAGE"],[5873,2605,0,2630,0,"IMAGE"],[5874,2605,0,2632,0,"IMAGE"],[5883,2399,0,2637,0,"IMAGE"],[5887,2636,0,2605,0,"IMAGE"],[5896,2563,0,2327,0,"IMAGE"],[5899,2608,0,2625,0,"*"],[5901,1796,0,2463,0,"*"],[5904,2410,0,2440,0,"*"],[5905,2411,0,2439,0,"*"],[5906,2419,0,2442,0,"*"],[5907,2420,0,2441,0,"*"],[5909,1421,0,2028,0,"*"],[5924,1421,0,1046,0,"IMAGE"],[5931,2439,0,1046,1,"VAE"],[5932,2409,2,1449,0,"MODEL"],[5934,2414,0,2432,0,"*"],[5935,2416,0,2430,0,"*"],[5936,2417,0,2433,0,"*"],[5937,2418,0,2434,0,"*"],[5943,2589,0,2557,0,"*"],[5949,2650,0,2589,0,"*"],[5965,1244,0,1247,0,"MODEL"],[5971,2660,0,2661,0,"IMAGE"],[5978,2664,0,2077,0,"IMAGE"],[5979,2664,0,2077,2,"IMAGE"],[5983,2666,0,2054,0,"IMAGE"],[5985,2667,0,2055,0,"IMAGE"],[5987,2668,0,2007,0,"IMAGE"],[5990,2670,0,2301,0,"IMAGE"],[5992,2671,0,2246,0,"IMAGE"],[5994,2672,0,2666,1,"FLOAT"],[5995,2672,0,2667,1,"FLOAT"],[5996,2672,0,2668,1,"FLOAT"],[5997,2672,0,2665,1,"FLOAT"],[5998,2672,0,2664,1,"FLOAT"],[5999,2672,0,2671,1,"FLOAT"],[6000,2672,0,2670,1,"FLOAT"],[6001,2672,0,2662,1,"FLOAT"],[6002,2672,0,2663,1,"FLOAT"],[6003,2052,0,2673,0,"IMAGE"],[6004,2673,0,2667,0,"IMAGE"],[6005,2008,0,2674,0,"IMAGE"],[6006,2674,0,2668,0,"IMAGE"],[6007,2049,0,2675,0,"IMAGE"],[6008,2675,0,2666,0,"IMAGE"],[6010,2067,0,2676,0,"IMAGE"],[6013,2248,0,2678,0,"IMAGE"],[6014,2678,0,2671,0,"IMAGE"],[6015,2164,0,2679,0,"IMAGE"],[6016,2679,0,2670,0,"IMAGE"],[6018,2210,0,2680,0,"IMAGE"],[6019,2681,0,2662,0,"IMAGE"],[6020,2680,0,2663,0,"IMAGE"],[6021,2676,0,2664,0,"IMAGE"],[6022,2677,0,2665,0,"IMAGE"],[6024,2060,0,2677,0,"IMAGE"],[6026,1990,0,2077,1,"IMAGE"],[6031,2682,0,2327,1,"IMAGE"],[6033,2558,0,2626,0,"*"],[6034,2626,0,2639,0,"IMAGE"],[6038,2683,0,2608,0,"IMAGE"],[6042,2619,0,2621,0,"*"],[6048,2554,0,2689,0,"IMAGE"],[6049,2689,0,2685,0,"IMAGE"],[6051,2663,0,2660,0,"IMAGE"],[6053,2190,0,2681,0,"IMAGE"],[6054,2662,0,2660,1,"IMAGE"],[6055,2663,0,2660,2,"IMAGE"],[6057,2685,0,2683,0,"IMAGE"],[6059,1793,0,1014,2,"CONTROL_NET"],[6060,1793,0,1945,2,"CONTROL_NET"],[6061,2682,0,2690,0,"IMAGE"],[6064,2637,0,2692,0,"IMAGE"],[6065,2639,0,2692,1,"IMAGE"],[6066,2692,0,2636,0,"*"],[6069,2695,0,2693,1,"STRING"],[6070,2553,0,2693,0,"IMAGE"],[6075,2409,1,2700,1,"CLIP"],[6078,2700,1,2426,0,"*"],[6085,2407,1,2702,1,"CLIP"],[6087,2702,1,2387,0,"*"],[6088,1298,0,2464,0,"*"],[6096,1421,0,2095,0,"IMAGE"],[6102,1290,0,1341,0,"CONDITIONING"],[6103,1291,0,1341,1,"CONDITIONING"],[6104,1341,0,2418,0,"*"],[6105,1341,1,2417,0,"*"],[6106,1249,0,1344,0,"CONDITIONING"],[6107,1250,0,1344,1,"CONDITIONING"],[6108,1344,0,2390,0,"*"],[6109,1344,1,2389,0,"*"],[6114,2028,0,2582,0,"IMAGE"],[6115,2582,0,2707,0,"*"],[6116,2707,0,2584,0,"IMAGE"],[6117,2028,0,1377,3,"IMAGE"],[6118,2028,0,1784,3,"IMAGE"],[6121,2580,0,2419,0,"*"],[6122,2580,1,2420,0,"*"],[6132,2473,0,2488,0,"*"],[6134,2461,0,2459,0,"*"],[6136,2625,0,2639,1,"IMAGE"],[6137,2028,0,2706,0,"IMAGE"],[6140,2349,0,2713,0,"*"],[6141,2400,0,2714,0,"*"],[6143,2349,0,2456,0,"*"],[6144,2354,0,2455,0,"*"],[6145,2445,0,2458,0,"*"],[6146,2446,0,2457,0,"*"],[6147,2354,0,2715,0,"*"],[6148,2444,0,2716,0,"*"],[6154,772,0,2717,1,"INT"],[6156,2589,0,2372,0,"IMAGE"],[6164,2715,0,2719,0,"*"],[6165,2719,0,2471,1,"VAE"],[6166,2719,0,2470,1,"VAE"],[6167,2713,0,2720,0,"*"],[6168,2720,0,2468,0,"MODEL"],[6169,2487,0,2721,0,"*"],[6170,2486,0,2722,0,"*"],[6171,2722,0,2468,1,"CONDITIONING"],[6172,2721,0,2468,2,"CONDITIONING"],[6173,772,0,2723,1,"INT"],[6175,2327,0,2723,0,"IMAGE"],[6177,2723,0,2724,0,"IMAGE"],[6178,2724,0,2550,0,"*"],[6180,2558,0,2548,0,"IMAGE"],[6182,2027,0,2050,0,"*"],[6183,2050,0,2053,0,"*"],[6185,815,0,2027,0,"*"],[6186,2053,0,2060,0,"*"],[6188,2589,0,2562,0,"*"],[6194,2495,0,2725,0,"IMAGE"],[6195,2738,0,2737,0,"FACERESTORE_MODEL"],[6196,2550,0,2737,1,"IMAGE"],[6197,2737,0,2553,0,"*"],[6198,2700,0,2423,0,"*"],[6199,2702,0,2401,0,"*"],[6200,2407,2,2702,0,"MODEL"],[6201,2409,2,2700,0,"MODEL"],[6202,1951,0,2383,0,"*"],[6203,1950,0,2413,0,"*"],[6204,1536,0,2414,0,"*"],[6205,2702,0,2403,0,"*"],[6206,2700,0,2412,0,"*"],[6207,1568,0,2386,0,"*"],[6208,2702,1,2384,0,"*"],[6209,2700,1,2415,0,"*"],[6211,772,0,2740,0,"INT"],[6213,2740,0,2743,0,"*"],[6214,2742,0,2741,0,"*"],[6216,772,0,2742,0,"INT"],[6217,772,0,2744,0,"INT"],[6218,772,0,2745,0,"INT"],[6219,2745,0,2746,0,"*"],[6220,2744,0,2747,0,"*"],[6224,817,0,2071,0,"*"],[6225,1421,0,1522,0,"*"],[6226,2371,0,2751,0,"*"],[6232,817,0,787,0,"*"],[6233,1297,0,1298,0,"*"],[6235,2751,0,2717,0,"IMAGE"],[6236,2717,0,2650,0,"IMAGE"],[6238,2059,0,2105,0,"*"],[6239,772,0,2755,1,"INT"],[6241,2755,0,2092,0,"IMAGE"],[6246,1402,0,1996,2,"IMAGE"],[6249,2186,0,2761,0,"*"],[6255,2068,0,2181,0,"IMAGE"],[6258,2068,0,2755,0,"IMAGE"],[6260,2068,0,2069,0,"IMAGE"],[6261,2032,0,2022,0,"IMAGE"],[6262,2032,0,2762,0,"*"],[6263,2560,0,2763,0,"*"],[6264,2625,0,2764,0,"*"],[6267,2181,0,2766,0,"*"],[6268,2766,0,2232,0,"*"],[6269,2766,0,2247,0,"*"],[6271,2693,0,2767,0,"IMAGE"],[6273,2766,0,2163,0,"*"],[6274,2761,0,2068,0,"*"],[6276,2764,0,2682,0,"*"],[6277,770,0,2376,3,"LATENT"],[6278,2080,0,1450,0,"IMAGE"],[6281,1947,0,2776,0,"CLIP_VISION"],[6282,2774,0,2776,1,"IMAGE"],[6283,2257,0,2776,5,"BOOLEAN"],[6284,1946,0,2777,0,"IPADAPTER"],[6285,2776,0,2777,1,"EMBEDS"],[6286,2782,0,2777,2,"MODEL"],[6290,2776,0,2780,1,"EMBEDS"],[6291,2781,0,2780,2,"MODEL"],[6292,1449,0,2781,0,"*"],[6293,1539,0,2782,0,"*"],[6295,1972,0,2784,0,"*"],[6297,2784,0,2787,0,"IMAGE"],[6298,2787,0,2774,0,"IMAGE"],[6300,2777,0,2349,0,"*"],[6301,2780,0,2400,0,"*"],[6302,2788,0,2780,0,"IPADAPTER"]],"groups":[{"title":"Bus Loading and Extra Options","bounding":[-3427,325,1012,530],"color":"#3f789e","font_size":24,"locked":false},{"title":"Base Image Generation","bounding":[-2159,132,1734,851],"color":"#3f789e","font_size":24,"locked":false},{"title":"       Upscale pass","bounding":[-205,93,1335,838],"color":"#3f789e","font_size":24,"locked":false},{"title":"         Upscale 1 Options and Cropping","bounding":[-1095,-433,811,474],"color":"#3f789e","font_size":24,"locked":false},{"title":"Body Enhancments","bounding":[1409,210,997,1649],"color":"#3f789e","font_size":24,"locked":false},{"title":"Animate Diff Loading","bounding":[-3669,886,689,757],"color":"#3f789e","font_size":24,"locked":false},{"title":"Models/Clip/VAE","bounding":[-3899,403,408,423],"color":"#3f789e","font_size":24,"locked":false},{"title":"     Ip Adaptor","bounding":[799,971,484,582],"color":"#a1309b","font_size":24,"locked":false},{"title":"         Upscale Options 2","bounding":[703,-323,335,378],"color":"#3f789e","font_size":24,"locked":false},{"title":"Ip Adaptor","bounding":[-384,958,458,556],"color":"#a1309b","font_size":24,"locked":false},{"title":"Ip Adaptor","bounding":[-2902,908,705,802],"color":"#a1309b","font_size":24,"locked":false},{"title":"COCO Masking","bounding":[376,-835,732,445],"color":"#3f789e","font_size":24,"locked":false},{"title":"Bbox Detector","bounding":[1181,-358,752,456],"color":"#3f789e","font_size":24,"locked":false},{"title":"Seg / Sam Masking","bounding":[1211,-841,714,434],"color":"#3f789e","font_size":24,"locked":false},{"title":"Person Seperation","bounding":[2098,-1234,401,193],"color":"#3f789e","font_size":24,"locked":false},{"title":"Body Cutting","bounding":[2016,-751,605,720],"color":"#3f789e","font_size":24,"locked":false},{"title":"Body Mask Settings","bounding":[1392,-1201,448,307],"color":"#3f789e","font_size":24,"locked":false},{"title":"Face Detection Masks","bounding":[3070,-831,736,432],"color":"#3f789e","font_size":24,"locked":false},{"title":"Face Seperation","bounding":[4105,-763,384,244],"color":"#3f789e","font_size":24,"locked":false},{"title":"Face Cutting","bounding":[3989,-478,623,587],"color":"#3f789e","font_size":24,"locked":false},{"title":"Face Detection Box","bounding":[3076,-340,774,429],"color":"#3f789e","font_size":24,"locked":false},{"title":"Face Enhancements","bounding":[3019,161,1629,801],"color":"#3f789e","font_size":24,"locked":false},{"title":"Face Detection settings","bounding":[3173,-1198,459,312],"color":"#3f789e","font_size":24,"locked":false},{"title":"Face replacement and video stablity","bounding":[3457,1677,940,626],"color":"#3f789e","font_size":24,"locked":false},{"title":"Frame Interpolation ","bounding":[5138,1029,993,942],"color":"#3f789e","font_size":24,"locked":false},{"title":"Face Replacement","bounding":[3371,2448,1480,676],"color":"#3f789e","font_size":24,"locked":false},{"title":"Faces Chooser","bounding":[2517,2616,774,513],"color":"#3f789e","font_size":24,"locked":false},{"title":"Enable for 3 faces","bounding":[2511,3281,793,127],"color":"#3f789e","font_size":24,"locked":false},{"title":"Enable for 2 faces","bounding":[2518,3148,781,104],"color":"#3f789e","font_size":24,"locked":false},{"title":"Load Face Source Image","bounding":[2796,1777,484,753],"color":"#3f789e","font_size":24,"locked":false},{"title":"Face Restore","bounding":[4927,2350,232,275],"color":"#3f789e","font_size":24,"locked":false},{"title":"Toggle Mask on or off","bounding":[2466,158,373,127],"color":"#3f789e","font_size":24,"locked":false},{"title":"Ip Adaptor Face","bounding":[2815,978,475,649],"color":"#a1309b","font_size":24,"locked":false}],"config":{},"extra":{"groupNodes":{"Bus":{"nodes":[{"type":"Reroute","pos":[-2030,540],"size":[75,26],"flags":{},"order":70,"mode":0,"inputs":[{"name":"","type":"*","link":null}],"outputs":[{"name":"","type":"*","links":null}],"properties":{"showOutputText":false,"horizontal":false},"index":0},{"type":"Reroute","pos":[-2020,500],"size":[75,26],"flags":{},"order":141,"mode":0,"inputs":[{"name":"","type":"*","link":null}],"outputs":[{"name":"","type":"*","links":null}],"properties":{"showOutputText":false,"horizontal":false},"index":1},{"type":"Reroute","pos":[-2030,460],"size":[75,26],"flags":{},"order":166,"mode":0,"inputs":[{"name":"","type":"*","link":null,"slot_index":0}],"outputs":[{"name":"","type":"*","links":null}],"properties":{"showOutputText":false,"horizontal":false},"index":2}],"links":[[null,0,0,0,556,"VAE"],[null,1,1,0,887,"CLIP"],[null,0,2,0,1247,"MODEL"]],"external":[[0,0,"VAE"],[1,0,"CLIP"],[2,0,"MODEL"]]},"Bus 2":{"nodes":[{"type":"Reroute","pos":[-1996.357228359375,755.4026058693619],"size":[75,26],"flags":{},"order":71,"mode":0,"inputs":[{"name":"","type":"*","link":null}],"outputs":[{"name":"","type":"*","links":null}],"properties":{"showOutputText":false,"horizontal":false},"index":0},{"type":"Reroute","pos":[-2030.8271484375,699.9446182250977],"size":[75,26],"flags":{},"order":138,"mode":0,"inputs":[{"name":"","type":"*","link":null}],"outputs":[{"name":"","type":"*","links":null}],"properties":{"showOutputText":false,"horizontal":false},"index":1},{"type":"Reroute","pos":[-2030,640],"size":[75,26],"flags":{},"order":150,"mode":0,"inputs":[{"name":"","type":"*","link":null}],"outputs":[{"name":"","type":"*","links":null}],"properties":{"showOutputText":false,"horizontal":false},"index":2}],"links":[[null,0,0,0,335,"VAE"],[null,1,1,0,890,"CLIP"],[null,0,2,0,1246,"MODEL"]],"external":[[1,0,"CLIP"]]}}},"version":0.4}