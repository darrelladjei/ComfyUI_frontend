{"last_node_id": 170, "last_link_id": 380, "nodes": [{"id": 65, "type": "ACN_SparseCtrlLoaderAdvanced", "pos": [940.1298002969074, 1025.0860412974841], "size": {"0": 284.99383544921875, "1": 150}, "flags": {}, "order": 19, "mode": 4, "inputs": [{"name": "sparse_method", "type": "SPARSE_METHOD", "link": 166, "slot_index": 0}, {"name": "tk_optional", "type": "TIMESTEP_KEYFRAME", "link": null}], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [164], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ACN_SparseCtrlLoaderAdvanced"}, "widgets_values": ["SD1.5\\animatediff\\v3_sd15_sparsectrl_rgb.ckpt", true, 1, 1]}, {"id": 63, "type": "ACN_SparseCtrlRGBPreprocessor", "pos": [668.1374007998443, 1194.1169008410961], "size": {"0": 193.1999969482422, "1": 66}, "flags": {}, "order": 26, "mode": 4, "inputs": [{"name": "image", "type": "IMAGE", "link": 368}, {"name": "vae", "type": "VAE", "link": 162}, {"name": "latent_size", "type": "LATENT", "link": 353}], "outputs": [{"name": "proc_IMAGE", "type": "IMAGE", "links": [167], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ACN_SparseCtrlRGBPreprocessor"}}, {"id": 94, "type": "ImageBatch", "pos": [3222.7416001753245, -167.4012296687552], "size": {"0": 140, "1": 46}, "flags": {}, "order": 41, "mode": 0, "inputs": [{"name": "image1", "type": "IMAGE", "link": 240}, {"name": "image2", "type": "IMAGE", "link": 378}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [244], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageBatch"}}, {"id": 93, "type": "ImageSelector", "pos": [3158.8972706691966, -276.54239232386783], "size": {"0": 210, "1": 58}, "flags": {}, "order": 40, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 379}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [240], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageSelector"}, "widgets_values": ["0"]}, {"id": 49, "type": "PreviewImage", "pos": [65, 238], "size": {"0": 530, "1": 560}, "flags": {}, "order": 25, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 276}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 142, "type": "Colored Image (mtb)", "pos": [1637.1041502631276, 1042.1620949817172], "size": {"0": 210, "1": 138}, "flags": {}, "order": 0, "mode": 4, "inputs": [{"name": "foreground_image", "type": "IMAGE", "link": null}, {"name": "foreground_mask", "type": "MASK", "link": null}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [314], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "Colored Image (mtb)"}, "widgets_values": ["#ffffff", 512, 512]}, {"id": 68, "type": "ACN_SparseCtrlSpreadMethodNode", "pos": [644.8922432960941, 1321.9719360879694], "size": {"0": 277.20001220703125, "1": 58}, "flags": {}, "order": 1, "mode": 4, "outputs": [{"name": "SPARSE_METHOD", "type": "SPARSE_METHOD", "links": [166], "shape": 3}], "properties": {"Node name for S&R": "ACN_SparseCtrlSpreadMethodNode"}, "widgets_values": ["uniform"]}, {"id": 88, "type": "VAEEncode", "pos": [1772.7409953281249, 181.5431216689453], "size": {"0": 210, "1": 46}, "flags": {"collapsed": true}, "order": 34, "mode": 0, "inputs": [{"name": "pixels", "type": "IMAGE", "link": 257}, {"name": "vae", "type": "VAE", "link": 234}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [235], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAEEncode"}}, {"id": 66, "type": "ACN_AdvancedControlNetApply", "pos": [938.1298002969074, 1223.086041297485], "size": {"0": 285.6000061035156, "1": 266}, "flags": {}, "order": 28, "mode": 4, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 168}, {"name": "negative", "type": "CONDITIONING", "link": 169}, {"name": "control_net", "type": "CONTROL_NET", "link": 164}, {"name": "image", "type": "IMAGE", "link": 167}, {"name": "mask_optional", "type": "MASK", "link": null}, {"name": "timestep_kf", "type": "TIMESTEP_KEYFRAME", "link": null}, {"name": "latent_kf_override", "type": "LATENT_KEYFRAME", "link": null}, {"name": "weights_override", "type": "CONTROL_NET_WEIGHTS", "link": null}, {"name": "model_optional", "type": "MODEL", "link": null}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": [305], "shape": 3, "slot_index": 0}, {"name": "negative", "type": "CONDITIONING", "links": [306], "shape": 3, "slot_index": 1}, {"name": "model_opt", "type": "MODEL", "links": null, "shape": 3}], "properties": {"Node name for S&R": "ACN_AdvancedControlNetApply"}, "widgets_values": [0.8, 0, 0.4]}, {"id": 111, "type": "VHS_VideoCombine", "pos": [3069, 53], "size": [477.8465270996094, 1117.615795698322], "flags": {}, "order": 39, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 377}, {"name": "audio", "type": "VHS_AUDIO", "link": null}, {"name": "batch_manager", "type": "VHS_BatchManager", "link": null}], "outputs": [{"name": "Filenames", "type": "VHS_FILENAMES", "links": null, "shape": 3}], "properties": {"Node name for S&R": "VHS_VideoCombine"}, "widgets_values": {"frame_rate": 8, "loop_count": 0, "filename_prefix": "%date:yyyy-MM-dd%/upscaled/AD_%Seed.value%", "format": "video/h264-mp4", "pix_fmt": "yuv420p", "crf": 19, "save_metadata": true, "pingpong": false, "save_output": true, "videopreview": {"hidden": false, "paused": false, "params": {"filename": "AD_419022269609036_00003.mp4", "subfolder": "2024-03-29\\upscaled", "type": "output", "format": "video/h264-mp4"}}}}, {"id": 76, "type": "VHS_VideoCombine", "pos": [2076, 51], "size": [476.1250915527344, 1114.8890516493057], "flags": {}, "order": 32, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 222}, {"name": "audio", "type": "VHS_AUDIO", "link": null}, {"name": "batch_manager", "type": "VHS_BatchManager", "link": null}], "outputs": [{"name": "Filenames", "type": "VHS_FILENAMES", "links": null, "shape": 3}], "properties": {"Node name for S&R": "VHS_VideoCombine"}, "widgets_values": {"frame_rate": 8, "loop_count": 0, "filename_prefix": "%date:yyyy-MM-dd%/previews/AD_%Seed.value%", "format": "video/h264-mp4", "pix_fmt": "yuv420p", "crf": 19, "save_metadata": true, "pingpong": false, "save_output": true, "videopreview": {"hidden": false, "paused": false, "params": {"filename": "AD_419022269609036_00006.mp4", "subfolder": "2024-03-29\\previews", "type": "output", "format": "video/h264-mp4"}}}}, {"id": 74, "type": "ADE_AnimateDiffSamplingSettings", "pos": [1001, -242], "size": {"0": 303.0100402832031, "1": 234}, "flags": {}, "order": 2, "mode": 0, "inputs": [{"name": "noise_layers", "type": "NOISE_LAYERS", "link": null}, {"name": "iteration_opts", "type": "ITERATION_OPTS", "link": null}, {"name": "custom_cfg", "type": "CUSTOM_CFG", "link": null}, {"name": "sigma_schedule", "type": "SIGMA_SCHEDULE", "link": null}, {"name": "seed_override", "type": "INT", "link": null, "widget": {"name": "seed_override"}}], "outputs": [{"name": "settings", "type": "SAMPLE_SETTINGS", "links": [179], "shape": 3}], "properties": {"Node name for S&R": "ADE_AnimateDiffSamplingSettings"}, "widgets_values": [0, "FreeNoise", "comfy", 0, 0, false]}, {"id": 73, "type": "ADE_LoopedUniformContextOptions", "pos": [1323, -279], "size": {"0": 317.4000244140625, "1": 246}, "flags": {}, "order": 3, "mode": 0, "inputs": [{"name": "prev_context", "type": "CONTEXT_OPTIONS", "link": null}, {"name": "view_opts", "type": "VIEW_OPTS", "link": null}], "outputs": [{"name": "CONTEXT_OPTS", "type": "CONTEXT_OPTIONS", "links": [178], "shape": 3}], "properties": {"Node name for S&R": "ADE_LoopedUniformContextOptions"}, "widgets_values": [16, 1, 4, false, "flat", false, 0, 1]}, {"id": 129, "type": "ControlNetLoader", "pos": [1281.1041502631276, 1072.1620949817184], "size": {"0": 315, "1": 58}, "flags": {}, "order": 4, "mode": 4, "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [304], "shape": 3}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["control_v1p_sd15_qrcode_monster.safetensors"]}, {"id": 72, "type": "ADE_UseEvolvedSampling", "pos": [1192, 28], "size": {"0": 256.15875244140625, "1": 118}, "flags": {}, "order": 29, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 367}, {"name": "m_models", "type": "M_MODELS", "link": 177}, {"name": "context_options", "type": "CONTEXT_OPTIONS", "link": 178, "slot_index": 2}, {"name": "sample_settings", "type": "SAMPLE_SETTINGS", "link": 179, "slot_index": 3}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [181], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ADE_UseEvolvedSampling"}, "widgets_values": ["sqrt_linear (AnimateDiff)"]}, {"id": 128, "type": "ACN_AdvancedControlNetApply", "pos": [1264.1041502631276, 1225.1620949817186], "size": {"0": 355.20001220703125, "1": 266}, "flags": {}, "order": 30, "mode": 4, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 305}, {"name": "negative", "type": "CONDITIONING", "link": 306}, {"name": "control_net", "type": "CONTROL_NET", "link": 304, "slot_index": 2}, {"name": "image", "type": "IMAGE", "link": 314, "slot_index": 3}, {"name": "mask_optional", "type": "MASK", "link": null}, {"name": "timestep_kf", "type": "TIMESTEP_KEYFRAME", "link": null}, {"name": "latent_kf_override", "type": "LATENT_KEYFRAME", "link": null}, {"name": "weights_override", "type": "CONTROL_NET_WEIGHTS", "link": null}, {"name": "model_optional", "type": "MODEL", "link": null}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": [307], "shape": 3, "slot_index": 0}, {"name": "negative", "type": "CONDITIONING", "links": [308], "shape": 3, "slot_index": 1}, {"name": "model_opt", "type": "MODEL", "links": null, "shape": 3}], "properties": {"Node name for S&R": "ACN_AdvancedControlNetApply"}, "widgets_values": [1, 0, 1]}, {"id": 116, "type": "ADE_MultivalDynamic", "pos": [995, -337], "size": {"0": 302.5413513183594, "1": 58}, "flags": {}, "order": 5, "mode": 0, "inputs": [{"name": "mask_optional", "type": "MASK", "link": null}], "outputs": [{"name": "MULTIVAL", "type": "MULTIVAL", "links": [269], "shape": 3}], "properties": {"Node name for S&R": "ADE_MultivalDynamic"}, "widgets_values": [1.2]}, {"id": 70, "type": "ADE_ApplyAnimateDiffModelSimple", "pos": [1325.1902848254492, -429.1400917554056], "size": {"0": 301.5458984375, "1": 106}, "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "motion_model", "type": "MOTION_MODEL_ADE", "link": 175, "slot_index": 0}, {"name": "motion_lora", "type": "MOTION_LORA", "link": null, "slot_index": 1}, {"name": "scale_multival", "type": "MULTIVAL", "link": 269, "slot_index": 2}, {"name": "effect_multival", "type": "MULTIVAL", "link": null}, {"name": "ad_keyframes", "type": "AD_KEYFRAMES", "link": null}], "outputs": [{"name": "M_MODELS", "type": "M_MODELS", "links": [177], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ADE_ApplyAnimateDiffModelSimple"}}, {"id": 47, "type": "Efficient Loader", "pos": [-731, 238], "size": {"0": 358.74737548828125, "1": 608.8529052734375}, "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": null}, {"name": "cnet_stack", "type": "CONTROL_NET_STACK", "link": null}, {"name": "positive", "type": "STRING", "link": 345, "widget": {"name": "positive"}, "slot_index": 2}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [118], "shape": 3, "slot_index": 0}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": [121], "shape": 3, "slot_index": 1}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": [122], "shape": 3, "slot_index": 2}, {"name": "LATENT", "type": "LATENT", "links": [123], "shape": 3, "slot_index": 3}, {"name": "VAE", "type": "VAE", "links": [124], "shape": 3, "slot_index": 4}, {"name": "CLIP", "type": "CLIP", "links": null, "shape": 3}, {"name": "DEPENDENCIES", "type": "DEPENDENCIES", "links": null, "shape": 3}], "properties": {"Node name for S&R": "Efficient Loader"}, "widgets_values": ["SDXL\\zavychromaxl_v30.safetensors", "sdxl_vae_fp16_fix.safetensors", -1, "SDXL-Lightning\\sdxl_lightning_8step_lora.safetensors", 1, 0, "aesthetic photo of divine dragon girl, intricate, colorful, cinematic, 35mm film", "", "none", "comfy", 1024, 1024, 1], "color": "#223322", "bgcolor": "#553355", "shape": 1}, {"id": 90, "type": "RIFE VFI", "pos": [3384.7416001753245, -277.4012296687555], "size": {"0": 443.4000244140625, "1": 198}, "flags": {}, "order": 42, "mode": 0, "inputs": [{"name": "frames", "type": "IMAGE", "link": 244}, {"name": "optional_interpolation_states", "type": "INTERPOLATION_STATES", "link": null}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [238], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "RIFE VFI"}, "widgets_values": ["rife47.pth", 320, 4, true, true, 1]}, {"id": 109, "type": "UpscaleModelLoader", "pos": [2499.2629555325684, -266.94419196927936], "size": {"0": 291.94342041015625, "1": 58}, "flags": {}, "order": 6, "mode": 0, "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [259], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UpscaleModelLoader"}, "widgets_values": ["4x_NMKD-Siax_200k.pth"]}, {"id": 161, "type": "IPAdapterAdvanced", "pos": [652, -262.4568630722656], "size": {"0": 315, "1": 254}, "flags": {}, "order": 27, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 366}, {"name": "ipadapter", "type": "IPADAPTER", "link": 364}, {"name": "image", "type": "IMAGE", "link": 370}, {"name": "image_negative", "type": "IMAGE", "link": null}, {"name": "attn_mask", "type": "MASK", "link": null}, {"name": "clip_vision", "type": "CLIP_VISION", "link": null}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [367], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "IPAdapterAdvanced"}, "widgets_values": [1, "linear", "concat", 0, 1]}, {"id": 162, "type": "Note", "pos": [1010, 239], "size": [261.6622888183583, 88.81880378723127], "flags": {}, "order": 7, "mode": 0, "properties": {"text": ""}, "widgets_values": ["AnimateLCM_sd15_t2v_lora.safetensors\n\nhttps://huggingface.co/wangfuyun/AnimateLCM/resolve/main/AnimateLCM_sd15_t2v_lora.safetensors?download=true"], "color": "#432", "bgcolor": "#653"}, {"id": 163, "type": "Note", "pos": [993, -642], "size": {"0": 303.45416259765625, "1": 122.44469451904297}, "flags": {}, "order": 8, "mode": 0, "properties": {"text": ""}, "widgets_values": ["AnimateLCM_sd15_t2v.ckpt\n\nhttps://huggingface.co/wangfuyun/AnimateLCM/resolve/main/AnimateLCM_sd15_t2v.ckpt?download=true"], "color": "#432", "bgcolor": "#653"}, {"id": 71, "type": "ADE_LoadAnimateDiffModel", "pos": [995, -434], "size": {"0": 300.081787109375, "1": 58}, "flags": {}, "order": 9, "mode": 0, "inputs": [{"name": "ad_settings", "type": "AD_SETTINGS", "link": null}], "outputs": [{"name": "MOTION_MODEL", "type": "MOTION_MODEL_ADE", "links": [175], "shape": 3}], "properties": {"Node name for S&R": "ADE_LoadAnimateDiffModel"}, "widgets_values": ["AnimateLCM_sd15_t2v.ckpt"], "color": "#232", "bgcolor": "#353"}, {"id": 107, "type": "ImageScaleBy", "pos": [1719.7409953281249, 54.54312166894531], "size": {"0": 256.045166015625, "1": 82}, "flags": {}, "order": 33, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 369, "slot_index": 0}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [257], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageScaleBy"}, "widgets_values": ["lanczos", 2]}, {"id": 118, "type": "Color Correct (mtb)", "pos": [-26, -70], "size": {"0": 210, "1": 226}, "flags": {}, "order": 24, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 274}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [276, 368, 370], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "Color Correct (mtb)"}, "widgets_values": [true, 1.1, 1.1, 0.15, 0, 0, 1, 1]}, {"id": 159, "type": "IPAdapterUnifiedLoader", "pos": [653, 58.54313692773437], "size": {"0": 315, "1": 78}, "flags": {}, "order": 21, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 363}, {"name": "ipadapter", "type": "IPADAPTER", "link": null}], "outputs": [{"name": "model", "type": "MODEL", "links": [366], "shape": 3, "slot_index": 0}, {"name": "ipadapter", "type": "IPADAPTER", "links": [364], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "IPAdapterUnifiedLoader"}, "widgets_values": ["PLUS (high strength)"]}, {"id": 84, "type": "PrimitiveNode", "pos": [1049, 702], "size": {"0": 210, "1": 82}, "flags": {}, "order": 10, "mode": 0, "outputs": [{"name": "INT", "type": "INT", "links": [217, 218], "widget": {"name": "seed"}, "slot_index": 0}], "title": "Seed", "properties": {"Run widget replace on values": false}, "widgets_values": [419022269609036, "fixed"], "color": "#232", "bgcolor": "#353"}, {"id": 164, "type": "Note", "pos": [1038, 409], "size": {"0": 210, "1": 58}, "flags": {}, "order": 11, "mode": 0, "properties": {"text": ""}, "widgets_values": ["Any SD1.5 checkpoint can be loaded here if using LCM Lora."], "color": "#432", "bgcolor": "#653"}, {"id": 48, "type": "KSampler (Efficient)", "pos": [-285, 237], "size": {"0": 325, "1": 562}, "flags": {}, "order": 23, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 118}, {"name": "positive", "type": "CONDITIONING", "link": 121}, {"name": "negative", "type": "CONDITIONING", "link": 122}, {"name": "latent_image", "type": "LATENT", "link": 123}, {"name": "optional_vae", "type": "VAE", "link": 124}, {"name": "script", "type": "SCRIPT", "link": null}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [], "shape": 3, "slot_index": 0}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 1}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 2}, {"name": "LATENT", "type": "LATENT", "links": null, "shape": 3, "slot_index": 3}, {"name": "VAE", "type": "VAE", "links": [], "shape": 3, "slot_index": 4}, {"name": "IMAGE", "type": "IMAGE", "links": [274], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "KSampler (Efficient)"}, "widgets_values": [759878612687864, null, 8, 1, "euler", "sgm_uniform", 1, "auto", "true"], "color": "#332222", "bgcolor": "#3f5159", "shape": 1}, {"id": 64, "type": "Efficient Loader", "pos": [652, 239], "size": {"0": 343.8254699707031, "1": 616.2046508789062}, "flags": {}, "order": 12, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": null}, {"name": "cnet_stack", "type": "CONTROL_NET_STACK", "link": null}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [363], "shape": 3, "slot_index": 0}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": [168, 272], "shape": 3, "slot_index": 1}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": [169, 273], "shape": 3, "slot_index": 2}, {"name": "LATENT", "type": "LATENT", "links": [], "shape": 3, "slot_index": 3}, {"name": "VAE", "type": "VAE", "links": [162, 173, 283], "shape": 3, "slot_index": 4}, {"name": "CLIP", "type": "CLIP", "links": null, "shape": 3, "slot_index": 5}, {"name": "DEPENDENCIES", "type": "DEPENDENCIES", "links": null, "shape": 3}], "properties": {"Node name for S&R": "Efficient Loader"}, "widgets_values": ["SD1.5\\juggernaut_reborn.safetensors", "vae-ft-mse-840000-ema-pruned.safetensors", -1, "lcm\\SD1.5\\AnimateLCM_sd15_t2v_lora.safetensors", 1, 0, "", "", "none", "comfy", 512, 512, 24], "color": "#223322", "bgcolor": "#553355", "shape": 1}, {"id": 114, "type": "EmptyLatentImage", "pos": [1048, 540], "size": {"0": 210, "1": 106}, "flags": {}, "order": 13, "mode": 0, "outputs": [{"name": "LATENT", "type": "LATENT", "links": [344, 353], "shape": 3, "slot_index": 0}], "title": "Resolution + Frame Count", "properties": {"Node name for S&R": "EmptyLatentImage"}, "widgets_values": [288, 512, 24], "color": "#232", "bgcolor": "#353"}, {"id": 95, "type": "PrimitiveNode", "pos": [-560, -48], "size": {"0": 350.3443603515625, "1": 178.4772491455078}, "flags": {}, "order": 14, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": [345], "slot_index": 0, "widget": {"name": "positive"}}], "title": "Positive Prompt", "properties": {"Run widget replace on values": false}, "widgets_values": ["aesthetic photo of divine dragon girl, intricate, colorful, cinematic, 35mm film"], "color": "#232", "bgcolor": "#353"}, {"id": 83, "type": "VHS_VideoCombine", "pos": [2573, 50], "size": [477.8465270996094, 1117.9493815104165], "flags": {}, "order": 36, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 229}, {"name": "audio", "type": "VHS_AUDIO", "link": null}, {"name": "batch_manager", "type": "VHS_BatchManager", "link": null}], "outputs": [{"name": "Filenames", "type": "VHS_FILENAMES", "links": null, "shape": 3}], "properties": {"Node name for S&R": "VHS_VideoCombine"}, "widgets_values": {"frame_rate": 8, "loop_count": 0, "filename_prefix": "%date:yyyy-MM-dd%/upscaled/AD_%Seed.value%", "format": "video/h264-mp4", "pix_fmt": "yuv420p", "crf": 19, "save_metadata": true, "pingpong": false, "save_output": true, "videopreview": {"hidden": false, "paused": false, "params": {"filename": "AD_419022269609036_00002.mp4", "subfolder": "2024-03-29\\upscaled", "type": "output", "format": "video/h264-mp4"}}}}, {"id": 91, "type": "VHS_VideoCombine", "pos": [3572, 46], "size": [477.8465270996094, 1117.615795698322], "flags": {}, "order": 43, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 238}, {"name": "audio", "type": "VHS_AUDIO", "link": null}, {"name": "batch_manager", "type": "VHS_BatchManager", "link": null}], "outputs": [{"name": "Filenames", "type": "VHS_FILENAMES", "links": null, "shape": 3}], "properties": {"Node name for S&R": "VHS_VideoCombine"}, "widgets_values": {"frame_rate": 30, "loop_count": 0, "filename_prefix": "%date:yyyy-MM-dd%/interpolated/AD_%Seed.value%", "format": "video/h264-mp4", "pix_fmt": "yuv420p", "crf": 15, "save_metadata": true, "pingpong": false, "save_output": true, "videopreview": {"hidden": false, "paused": false, "params": {"filename": "AD_419022269609036_00002.mp4", "subfolder": "2024-03-29\\interpolated", "type": "output", "format": "video/h264-mp4"}}}}, {"id": 165, "type": "ImageScale", "pos": [2844, -260], "size": {"0": 234.95367431640625, "1": 134.2787628173828}, "flags": {}, "order": 38, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 376}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [377, 378, 379], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageScale"}, "widgets_values": ["nearest-exact", 1080, 1920, "disabled"]}, {"id": 167, "type": "Note", "pos": [-1022, 490], "size": [259.38818359375, 92.97928619384766], "flags": {}, "order": 15, "mode": 0, "properties": {"text": ""}, "widgets_values": ["sdxl_lightning_8step_lora.safetensors\n\nhttps://huggingface.co/ByteDance/SDXL-Lightning/resolve/main/sdxl_lightning_8step_lora.safetensors?download=true"], "color": "#432", "bgcolor": "#653"}, {"id": 168, "type": "Note", "pos": [-998, 368], "size": {"0": 210, "1": 58}, "flags": {}, "order": 16, "mode": 0, "properties": {"text": ""}, "widgets_values": ["Any SDXL checkpoint can be loaded here if using Lightning Lora."], "color": "#432", "bgcolor": "#653"}, {"id": 82, "type": "KSampler (Efficient)", "pos": [1690, 243], "size": {"0": 325, "1": 562}, "flags": {}, "order": 35, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 212}, {"name": "positive", "type": "CONDITIONING", "link": 272}, {"name": "negative", "type": "CONDITIONING", "link": 273}, {"name": "latent_image", "type": "LATENT", "link": 235}, {"name": "optional_vae", "type": "VAE", "link": 283}, {"name": "script", "type": "SCRIPT", "link": null, "slot_index": 5}, {"name": "seed", "type": "INT", "link": 218, "widget": {"name": "seed"}}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [], "shape": 3, "slot_index": 0}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 1}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 2}, {"name": "LATENT", "type": "LATENT", "links": [], "shape": 3, "slot_index": 3}, {"name": "VAE", "type": "VAE", "links": [], "shape": 3, "slot_index": 4}, {"name": "IMAGE", "type": "IMAGE", "links": [229, 260], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "KSampler (Efficient)"}, "widgets_values": [419022269609036, null, 10, 1, "lcm", "sgm_uniform", 0.45, "taesd", "true"], "color": "#332222", "bgcolor": "#3f5159", "shape": 1}, {"id": 69, "type": "KSampler (Efficient)", "pos": [1310, 251], "size": {"0": 325, "1": 562}, "flags": {}, "order": 31, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 181}, {"name": "positive", "type": "CONDITIONING", "link": 307}, {"name": "negative", "type": "CONDITIONING", "link": 308}, {"name": "latent_image", "type": "LATENT", "link": 344}, {"name": "optional_vae", "type": "VAE", "link": 173}, {"name": "script", "type": "SCRIPT", "link": null}, {"name": "seed", "type": "INT", "link": 217, "widget": {"name": "seed"}}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [212], "shape": 3, "slot_index": 0}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 1}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 2}, {"name": "LATENT", "type": "LATENT", "links": [], "shape": 3, "slot_index": 3}, {"name": "VAE", "type": "VAE", "links": [234], "shape": 3, "slot_index": 4}, {"name": "IMAGE", "type": "IMAGE", "links": [222, 369], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "KSampler (Efficient)"}, "widgets_values": [419022269609036, null, 9, 1, "lcm", "sgm_uniform", 1, "auto", "true"], "color": "#332222", "bgcolor": "#3f5159", "shape": 1}, {"id": 110, "type": "ImageUpscaleWithModel", "pos": [2499.2629555325684, -166.94419196927936], "size": {"0": 286.0876770019531, "1": 46}, "flags": {}, "order": 37, "mode": 0, "inputs": [{"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 259}, {"name": "image", "type": "IMAGE", "link": 260}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [376], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageUpscaleWithModel"}}, {"id": 169, "type": "ImageScaleBy", "pos": [2822, -465], "size": [273.2884560546854, 82], "flags": {}, "order": 17, "mode": 4, "inputs": [{"name": "image", "type": "IMAGE", "link": null}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": null, "shape": 3}], "properties": {"Node name for S&R": "ImageScaleBy"}, "widgets_values": ["nearest-exact", 0.5]}, {"id": 170, "type": "Note", "pos": [2558, -456], "size": [231.07060546874982, 98.20587158203116], "flags": {}, "order": 18, "mode": 0, "properties": {"text": ""}, "widgets_values": ["If you change the preview resolution make sure u update the resolution in \"Upscale /w Model\" Step.\nOr replace \"Upscale Image\" node with \"Upscale image by\""], "color": "#432", "bgcolor": "#653"}], "links": [[118, 47, 0, 48, 0, "MODEL"], [121, 47, 1, 48, 1, "CONDITIONING"], [122, 47, 2, 48, 2, "CONDITIONING"], [123, 47, 3, 48, 3, "LATENT"], [124, 47, 4, 48, 4, "VAE"], [162, 64, 4, 63, 1, "VAE"], [164, 65, 0, 66, 2, "CONTROL_NET"], [166, 68, 0, 65, 0, "SPARSE_METHOD"], [167, 63, 0, 66, 3, "IMAGE"], [168, 64, 1, 66, 0, "CONDITIONING"], [169, 64, 2, 66, 1, "CONDITIONING"], [173, 64, 4, 69, 4, "VAE"], [175, 71, 0, 70, 0, "MOTION_MODEL_ADE"], [177, 70, 0, 72, 1, "M_MODELS"], [178, 73, 0, 72, 2, "CONTEXT_OPTIONS"], [179, 74, 0, 72, 3, "SAMPLE_SETTINGS"], [181, 72, 0, 69, 0, "MODEL"], [212, 69, 0, 82, 0, "MODEL"], [217, 84, 0, 69, 6, "INT"], [218, 84, 0, 82, 6, "INT"], [222, 69, 5, 76, 0, "IMAGE"], [229, 82, 5, 83, 0, "IMAGE"], [234, 69, 4, 88, 1, "VAE"], [235, 88, 0, 82, 3, "LATENT"], [238, 90, 0, 91, 0, "IMAGE"], [240, 93, 0, 94, 0, "IMAGE"], [244, 94, 0, 90, 0, "IMAGE"], [257, 107, 0, 88, 0, "IMAGE"], [259, 109, 0, 110, 0, "UPSCALE_MODEL"], [260, 82, 5, 110, 1, "IMAGE"], [269, 116, 0, 70, 2, "MULTIVAL"], [272, 64, 1, 82, 1, "CONDITIONING"], [273, 64, 2, 82, 2, "CONDITIONING"], [274, 48, 5, 118, 0, "IMAGE"], [276, 118, 0, 49, 0, "IMAGE"], [283, 64, 4, 82, 4, "VAE"], [304, 129, 0, 128, 2, "CONTROL_NET"], [305, 66, 0, 128, 0, "CONDITIONING"], [306, 66, 1, 128, 1, "CONDITIONING"], [307, 128, 0, 69, 1, "CONDITIONING"], [308, 128, 1, 69, 2, "CONDITIONING"], [314, 142, 0, 128, 3, "IMAGE"], [344, 114, 0, 69, 3, "LATENT"], [345, 95, 0, 47, 2, "STRING"], [353, 114, 0, 63, 2, "LATENT"], [363, 64, 0, 159, 0, "MODEL"], [364, 159, 1, 161, 1, "IPADAPTER"], [366, 159, 0, 161, 0, "MODEL"], [367, 161, 0, 72, 0, "MODEL"], [368, 118, 0, 63, 0, "IMAGE"], [369, 69, 5, 107, 0, "IMAGE"], [370, 118, 0, 161, 2, "IMAGE"], [376, 110, 0, 165, 0, "IMAGE"], [377, 165, 0, 111, 0, "IMAGE"], [378, 165, 0, 94, 1, "IMAGE"], [379, 165, 0, 93, 0, "IMAGE"]], "groups": [{"title": "AnimateDiff", "bounding": [986, -503, 667, 652], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "SparseCtrl", "bounding": [636, 948, 595, 550], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Outputs: Preview -> Upscaled -> Upscaled /w Model -> Interpolated", "bounding": [2060, -24, 2021, 1210], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Upscale", "bounding": [1670, -23, 360, 895], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "SD1.5 AnimateDiff Sampling", "bounding": [641, 168, 1007, 706], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "SDXL Lightning: Generate reference image", "bounding": [-742, 166, 1361, 709], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Interpolate frames", "bounding": [3142, -351, 695, 282], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "IPAdapter", "bounding": [640, -391, 335, 542], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Group", "bounding": [1249, 953, 609, 550], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Upscale /w Model", "bounding": [2490, -340, 620, 230], "color": "#3f789e", "font_size": 24, "locked": false}], "config": {}, "extra": {"groupNodes": {"ip::iLoader": {"author": "ipiv", "category": "loaders", "config": {"0": {}, "1": {}, "2": {"input": {"text": {"name": "Positive"}}, "output": {"0": {"name": "POSITIVE"}}}, "3": {"input": {"text": {"name": "Negative"}}, "output": {"0": {"name": "NEGATIVE"}}}, "4": {"output": {"0": {"name": "LATENT BATCH"}}}}, "datetime": 1711371393894, "external": [[null, 0, "LATENT"], [null, 0, "MODEL"], [null, 0, "CONDITIONING"], [null, 0, "CONDITIONING"]], "links": [[1, 0, 0, 0, 73, "MODEL"], [1, 1, 2, 0, 73, "CLIP"], [1, 1, 3, 0, 73, "CLIP"]], "nodes": [{"flags": {}, "index": 0, "inputs": [{"link": null, "name": "model", "type": "MODEL"}], "mode": 0, "order": 12, "outputs": [{"links": [], "name": "MODEL", "shape": 3, "slot_index": 0, "type": "MODEL"}], "pos": [-36, 416], "properties": {"Node name for S&R": "LoraLoaderModelOnly"}, "size": {"0": 315, "1": 82}, "type": "LoraLoaderModelOnly", "widgets_values": ["SD1.5\\Futuristicbot4.safetensors", 1]}, {"flags": {}, "index": 1, "mode": 0, "order": 8, "outputs": [{"links": [], "name": "MODEL", "shape": 3, "slot_index": 0, "type": "MODEL"}, {"links": [], "name": "CLIP", "shape": 3, "slot_index": 1, "type": "CLIP"}, {"links": null, "name": "VAE", "shape": 3, "type": "VAE"}], "pos": [-35, 541], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "size": {"0": 315, "1": 98}, "type": "CheckpointLoaderSimple", "widgets_values": ["SD1.5\\Deliberate_v3 (SFW) beta.safetensors"]}, {"flags": {}, "index": 2, "inputs": [{"link": null, "name": "clip", "type": "CLIP"}], "mode": 0, "order": 13, "outputs": [{"links": [], "name": "CONDITIONING", "shape": 3, "slot_index": 0, "type": "CONDITIONING"}], "pos": [-20, 698], "properties": {"Node name for S&R": "CLIPTextEncode"}, "size": {"0": 210, "1": 76}, "type": "CLIPTextEncode", "widgets_values": [""]}, {"flags": {}, "index": 3, "inputs": [{"link": null, "name": "clip", "type": "CLIP"}], "mode": 0, "order": 14, "outputs": [{"links": [], "name": "CONDITIONING", "shape": 3, "slot_index": 0, "type": "CONDITIONING"}], "pos": [-21, 826], "properties": {"Node name for S&R": "CLIPTextEncode"}, "size": {"0": 210, "1": 76}, "type": "CLIPTextEncode", "widgets_values": [""]}, {"flags": {}, "index": 4, "mode": 0, "order": 7, "outputs": [{"links": [], "name": "LATENT", "shape": 3, "type": "LATENT"}], "pos": [-10, 944], "properties": {"Node name for S&R": "EmptyLatentImage"}, "size": {"0": 210, "1": 106}, "type": "EmptyLatentImage", "widgets_values": [512, 512, 1]}], "packname": "", "version": "0.1"}}}, "version": 0.4}